(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[38],{3369:function(t,s,e){},bd2b:function(t,s,e){"use strict";var a=e("3369"),i=e.n(a);i.a},dd7c:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("q-page",{staticClass:"flex flex-center col login"},[t.isLoggedIn?t._e():e("div",[e("div",{staticClass:"row flex flex-center"},[e("div",{staticClass:"row full-width flex justify-center"},[e("img",{attrs:{width:"90px",src:"/statics/crest.png"}})]),e("div",{staticClass:"row full-width justify-center text-bold"},[t._v("Teacher Assessed Grades")]),e("div",{staticStyle:{width:"500px","max-width":"90vw"},on:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.submit(s)}}},[e("q-banner",{staticClass:"q-mt-md text-red text-bold text-center",attrs:{dense:"",color:""}},[t._v(t._s(t.message))]),e("q-input",{staticClass:"q-mb-md",attrs:{dense:"",filled:"",color:"black","label-color":"black",label:"Pupil Number",type:"text"},model:{value:t.login,callback:function(s){t.login=s},expression:"login"}}),e("q-space"),e("div",[e("q-input",{staticClass:"bg-white",attrs:{dense:"",filled:"",type:t.isPwd?"password":"text",label:"Password",color:"font-negative","label-color":"black"},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"visibility_off":"visibility",color:"font"},on:{click:function(s){t.isPwd=!t.isPwd}}})]},proxy:!0}],null,!1,2719997382),model:{value:t.password,callback:function(s){t.password=s},expression:"password"}})],1),e("q-btn",{staticClass:"full-width q-mt-lg",attrs:{disabled:t.busy,outline:"",color:"#011b48",label:"Login"},on:{click:t.submit}})],1)])]),t.isLoggedIn?e("div",[e("q-layout",{attrs:{view:"hHh lpR fFf"}},[e("q-header",{staticClass:"text-white",staticStyle:{background:"#011b48"},attrs:{elevated:""}},[e("q-toolbar",{staticClass:"flex items-center"},[e("q-toolbar-title",[e("q-avatar",{staticClass:"q-mr-md"},[e("img",{attrs:{width:"90px",src:"/statics/crest.png"}})]),e("span",[t._v(t._s(t.student.displayName))])],1),e("q-space"),e("q-btn",{attrs:{flat:"",color:"white",label:"Log Out"},on:{click:t.logOut}})],1)],1),e("q-page-container",[e("q-list",{staticClass:"rounded-borders q-mt-xl q-mb-xl",staticStyle:{"max-width":"500px",width:"600px"},attrs:{bordered:""}},t._l(t.data,(function(s){return e("q-expansion-item",{key:s.name,staticClass:"text-bold text-white",staticStyle:{"border-bottom":"1px solid #e1e1e1",background:"#011b48"},attrs:{"expand-separator":"","model-value":!0,label:s.name}},[e("q-card",{staticClass:"bg-grey-2"},[e("q-card-section",[e("q-markup-table",{staticClass:"no-shadow bd-font bg-white"},[e("thead",[e("tr",{staticClass:"text-bold bg-white",staticStyle:{height:"30px"}},[e("th",{staticClass:"text-left text-bold"},[t._v("Name")]),e("th",{staticClass:"text-right"},[t._v("Type")]),e("th",{staticClass:"text-right"},[t._v("%")])])]),e("tbody",t._l(s.wyaps,(function(s){return e("tr",{key:s.wyap_id,staticClass:"text-bold bg-white"},[e("td",{staticClass:"text-left"},[t._v(t._s(s.name))]),e("td",{staticClass:"text-right"},[t._v(t._s(s.typeShort))]),e("td",{staticClass:"text-right"},[t._v(t._s(s.percentage))])])})),0)])],1)],1)],1)})),1)],1)],1)],1):t._e()])},i=[],l=e("47783"),n={postLogin(t,s,e,a){console.warn("here");var i={login:e,password:a};l["a"].post("/aux/pupils/login",i).then((function(s){t(s.data)})).catch((function(t){console.log(t)}))}},o={name:"Aux.Pupils",props:{},data(){return{isLoggedIn:!1,isPwd:!0,login:"",password:"",busy:!1,message:null,date:null,student:null}},methods:{submit(){this.busy=!0,n.postLogin(this.success,this.errorHandler,this.login,this.password)},success(t){this.busy=!1,!0===t.success?(this.isLoggedIn=!0,this.data=t.data,this.student=t.student):this.message=t.message},logOut(){this.student=null,this.date=null,this.isLoggedIn=!1}},computed:{},watch:{},components:{},created(){}},c=o,r=(e("bd2b"),e("2be6")),d=e("8c42"),u=e("01a4"),b=e("bc74"),p=e("f962c"),g=e("34ff"),h=e("b693"),f=e("2ef0"),w=e("b4af"),x=e("5c88"),m=e("eb05"),y=e("f85a"),v=e("9f30"),C=e("2ce9"),q=e("6c93"),_=e("0f3b"),k=e("ebe6"),Q=e("965d"),L=e("2e0b"),P=e("e279"),S=e.n(P),I=Object(r["a"])(c,a,i,!1,null,"441f24d8",null);s["default"]=I.exports;S()(I,"components",{QPage:d["a"],QBanner:u["a"],QInput:b["a"],QSpace:p["a"],QIcon:g["a"],QField:h["a"],QBtn:f["a"],QLayout:w["a"],QHeader:x["a"],QToolbar:m["a"],QToolbarTitle:y["a"],QAvatar:v["a"],QPageContainer:C["a"],QList:q["a"],QExpansionItem:_["a"],QCard:k["a"],QCardSection:Q["a"],QMarkupTable:L["a"]})}}]);