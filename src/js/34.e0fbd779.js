(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[34],{"0087":function(e,t,n){"use strict";var a=n("7666"),o=n.n(a);o.a},"0c4f":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("toolbar-page",{attrs:{elements:e.elements,default:"chat"}})},o=[],s=n("08e9"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"row"},[n("p",{staticClass:"text-secondary"},[e._v("\n      Uses the socket server directy (i.e no api calls) to subscribe / publish\n    ")]),n("q-space"),n("p",[e._v("\n      "+e._s(e.time)+"\n      "),n("span",[e._v(" ms")])])],1),n("div",{staticClass:"row"},[n("p",{staticClass:"text-secondary"},[e._v("\n      "+e._s(e.server)+"\n    ")])]),n("div",{staticClass:"row q-px-md"},[n("div",{staticClass:"col-6 "},[n("q-input",{staticClass:"bg-black text-green",attrs:{outlined:"",dark:"",type:"textarea",autogrow:""},on:{keyup:e.keyUp},model:{value:e.sendText,callback:function(t){e.sendText=t},expression:"sendText"}})],1),n("div",{staticClass:"col-6 q-pl-lg"},[n("q-input",{staticClass:"bg-black text-green",attrs:{outlined:"",dark:"",type:"textarea",autogrow:"",readonly:""},model:{value:e.receiveText,callback:function(t){e.receiveText=t},expression:"receiveText"}})],1)])])},i=[],r={name:"PageLabSockets",data:function(){return{wamp:null,time:"Time of flight",wampSubscription:null,sendText:"",receiveText:"",sendTime:0,receiveTime:0,channel:"lab.sockets.chat",server:""}},components:{},methods:{keyUp:function(e){console.log("K:",e.key),this.sendTime=Date.now(),this.$wamp.publish(this.channel,[],{key:e.key},{exclude_me:!1})}},mounted:function(){this.server="wss://adazmq.marlboroughcollege.org/wss",this.wamp=this.$wamp.subscribe(this.channel,(function(e,t,n){var a=t.key;this.receiveTime=Date.now(),this.time=this.receiveTime-this.sendTime,1===a.length?this.receiveText+=a:"Backspace"===a&&(this.receiveText=this.receiveText.slice(0,-1))}),{acknowledge:!0}).then((function(e){this.sendText="",this.wampSubscription=e}))}},l=r,u=n("2be6"),d=n("e279"),f=n.n(d),p=n("f962c"),m=n("bc74"),h=Object(u["a"])(l,c,i,!1,null,null,null),b=h.exports;f()(h,"components",{QSpace:p["a"],QInput:m["a"]});var v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"row"},[n("p",{staticClass:"text-font"},[e._v("\n      Uses ZeroMQ Transport to send content from a running php script to the Ratchet (Websocket) server. Tests the console and progress channels.\n    ")]),n("q-space"),n("p",[e._v("\n      "+e._s(e.time)+"\n      "),n("span",[e._v(" ms")])])],1),n("div",{staticClass:"row q-mb-md"},[n("p",{staticClass:"text-font"},[e._v("\n      "+e._s(e.server)+" ["+e._s(e.zmqServer)+"] ("+e._s(e.consoleProgress)+")\n    ")]),n("q-space"),n("q-btn",{staticStyle:{width:"100px"},attrs:{color:"primary",dark:"",outline:""},on:{click:e.clear}},[e._v("Clear\n   ")])],1),n("div",{staticClass:"row q-mb-lg"},[n("q-btn",{staticStyle:{width:"100%"},attrs:{loading:e.loading,percentage:e.consoleProgress,color:"accent",dark:"",outline:""},on:{click:e.start},scopedSlots:e._u([{key:"loading",fn:function(){return[n("q-spinner-gears",{staticClass:"on-left"}),e._v("\n         Computing...\n       ")]},proxy:!0}])},[e._v("\n       Compute PI\n       ")])],1),n("div",{staticClass:"row q-px-md"},[n("div",{staticClass:"col"},[n("console",{staticStyle:{"min-height":"50vh"}})],1)])])},g=[],k=(n("e125"),n("4823"),n("2e73"),n("dde3"),n("76d0"),n("0c1f"),n("8e9e")),y=n.n(k),w=n("9ce4"),x=n("dd14"),C=n("4778"),_={postStartConsole:function(e,t,n){C["a"].post("/lab/sockets/console",n).then((function(t){e(t.data)})).catch((function(e){console.log(e),t&&t()}))},postNotify:function(e,t,n){C["a"].post("/lab/sockets/notify",n).then((function(t){e(t.data)})).catch((function(e){console.warn(e),t&&t()}))},getZMQ:function(e,t,n){C["a"].get("/lab/sockets/zmq").then((function(t){e(t.data)})).catch((function(e){console.log(e)}))},getTable:function(e,t,n){C["a"].get("/lab/sockets/table").then((function(t){e(t.data)})).catch((function(e){console.log(e)}))},getCars:function(e,t,n){C["a"].get("/lab/sockets/cars").then((function(t){e(t.data)})).catch((function(e){console.log(e)}))},getTableSingle:function(e,t,n){C["a"].get("/lab/sockets/table/"+n.id).then((function(t){e(t.data)})).catch((function(e){console.log(e)}))},postTable:function(e,t,n){C["a"].post("/lab/sockets/table",n).then((function(t){e(t.data)})).catch((function(e){console.warn(e),t&&t()}))},putFavorite:function(e,t,n){C["a"].put("/lab/sockets/favorite",n).then((function(t){e(t.data)})).catch((function(e){console.warn(e),t&&t()}))},putTable:function(e,t,n){C["a"].put("/lab/sockets/table",n).then((function(t){e(t.data)})).catch((function(e){console.warn(e),t&&t()}))},deleteTable:function(e,t,n){C["a"].delete("/lab/sockets/table/"+n).then((function(t){e(t.data)})).catch((function(e){console.warn(e),t&&t()}))}};function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S={name:"PageLabConsole",data:function(){return{loading:!1,server:null,zmqServer:" - "}},components:{console:x["a"]},methods:T({},Object(w["b"])("sockets",["clearConsoleLog"]),{start:function(){var e=this;this.loading=!0,_.postStartConsole((function(){e.loading=!1}))},clear:function(){this.loading=!1,this.clearConsoleLog()}}),computed:T({},Object(w["c"])("sockets",["progress"]),{consoleProgress:function(){return this.progress("Lab.Sockets.Console")}}),mounted:function(){var e=this;this.server="wss://adazmq.marlboroughcollege.org/wss",_.getZMQ((function(t){console.log(t),e.zmqServer=t}))}},O=S,j=n("2ef0"),P=n("d1dc"),E=Object(u["a"])(O,v,g,!1,null,null,null),$=E.exports;f()(E,"components",{QSpace:p["a"],QBtn:j["a"],QSpinnerGears:P["a"]});var Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._m(0),n("div",{staticClass:"row q-mb-md"},[n("p",{staticClass:"text-secondary"},[e._v("\n      "+e._s(e.server)+" ["+e._s(e.zmqServer)+"]\n    ")])]),n("div",{staticClass:"row q-px-md"},[n("div",{staticClass:"col"},[n("q-input",{staticClass:"bg-black text-green",attrs:{outlined:"",dark:"",type:"textarea"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.send(t)}},model:{value:e.text,callback:function(t){e.text=t},expression:"text"}})],1)])])},z=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row"},[n("p",{staticClass:"text-secondary"},[e._v("\n      Sends a notification via ZMQ (API) and Sockets\n    ")])])}],L={name:"PageLabNotify",data:function(){return{text:"",server:"",zmqServer:""}},components:{},methods:{send:function(){var e=this;console.log("Sending"),_.postNotify((function(){e.text=""}),null,{message:this.text})}},mounted:function(){var e=this;this.server="wss://adazmq.marlboroughcollege.org/wss",_.getZMQ((function(t){e.zmqServer=t}))}},D=L,F=Object(u["a"])(D,Q,z,!1,null,null,null),N=F.exports;f()(F,"components",{QInput:m["a"]});var M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("crud",{ref:"crud",attrs:{api:e.api,columns:e.columns,actions:e.actions,rowKey:"id",fullscreen:"",search:"",filterbox:"",filterchips:"",canNew:"",canDelete:"",canEdit:"",inlineEdit:"",multiselectx:"",sortBy:"Name",indicator:"isFavorite",channel:"lab.sockets.data"},on:{favorite:e.makeFavorite}})],1)},Z=[],I=n("d612"),U=n("89a2"),A={name:"LabSocketsData",data:function(){return{api:{get:_.getTable,getSingle:_.getTableSingle,put:_.putTable,post:_.postTable,delete:_.deleteTable},columns:[{name:"id",label:"id",field:"id",type:"string",align:"left",hidden:!0},{name:"Name",label:"Name",field:"name",type:"string",align:"left",required:!0,validations:{required:U["required"],minLength:Object(U["minLength"])(6)},editable:!0,sortable:!0},{name:"Age",required:!0,label:"Age",field:"age",type:"number",sortable:!0,align:"right",editable:!0,validations:{required:U["required"]}},{name:"Car",label:"Car",field:"car",icon:"fal fa-car",type:"options",filter:!0,sortable:!0,options:[],align:"left",editable:!0,validations:{required:U["required"]}}],cars:[],actions:[{title:"Make Favorite",event:"favorite",icon:"fal fa-check"}]}},methods:{makeFavorite:function(e){var t=this;this.$refs.crud.data.forEach((function(e){e.isFavorite=!1})),e.isFavorite=!0,_.putFavorite((function(){t.$refs.crud.publish()}),null,{id:e.id})},setOptions:function(){var e=this;_.getCars((function(t){console.log(t),e.columns[3].options=t.map((function(e){return{value:e.id,label:e.car}})),console.log(e.columns[3].options)}))}},created:function(){this.setOptions()},components:{Crud:I["a"]}},B=A,J=(n("0087"),Object(u["a"])(B,M,Z,!1,null,"2f174bac",null)),K=J.exports,G={name:"PageLabSockets",data:function(){return{elements:[{name:"chat",label:"Chat",component:b,shortcut:"c"},{name:"console",label:"Console",component:$,shortcut:"s"},{name:"notify",label:"Notify",component:N,shortcut:"n"},{name:"data",label:"Data",component:K,shortcut:"d"}]}},components:{toolbarPage:s["a"]},methods:{refresh:function(){this.$root.$emit("crud_refresh")}}},R=G,W=Object(u["a"])(R,a,o,!1,null,null,null);t["default"]=W.exports},7666:function(e,t,n){}}]);