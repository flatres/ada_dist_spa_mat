(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"0082":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"q-pa-md"},[n("div",{staticClass:"q-gutter-md row"},[n("q-select",{staticStyle:{"min-width":"300px"},attrs:{filled:"",dense:"","use-input":"","input-debounce":"0",label:"Students",options:t.options,clearable:""},on:{filter:t.filterFn},scopedSlots:t._u([{key:"no-option",fn:function(){return[n("q-item",[n("q-item-section",{staticClass:"text-grey"},[t._v("\n            No Students\n          ")])],1)]},proxy:!0}]),model:{value:t.student,callback:function(e){t.student=e},expression:"student"}})],1)])},s=[],o=(n("288e"),n("4778")),i={getStudentNames:function(t,e){o["a"].get("/students/names").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getPortalStudentNames:function(t,e){o["a"].get("/students/portal/names").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getStudent:function(t,e,n){o["a"].get("/students/details/"+n).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))}},c={name:"Component.Dropdowns.Students",props:{optionsOverride:{type:Array,default:function(){return[]}},studentStore:{type:String}},data:function(){return{students:[],filter:null,studentOptions:[],options:[],student:null}},methods:{process:function(t){if(this.students=t,this.studentOptions=t.map((function(t){return{value:t.id,label:t.displayName,firstName:t.firstname,lastName:t.lastname}})),this.options=this.studentOptions,this.studentStore){var e=this.$store.getters[this.studentStore];this.student=this.studentOptions.find((function(t){return t.value===e.id}))}},filterFn:function(t,e,n){var a=this;e((function(){var e=t.toLowerCase();a.options=a.studentOptions.filter((function(t){return t.label.toLowerCase().indexOf(e)>-1}))}))},emit:function(t){this.$emit("change",t)}},computed:{},watch:{student:function(){i.getStudent(this.emit,null,this.student.value)}},components:{},created:function(){i.getStudentNames(this.process)}},r=c,l=(n("1d18"),n("2be6")),u=n("e279"),d=n.n(u),p=n("3946"),f=n("ac9b"),m=n("66dc"),h=n("2ef0"),b=Object(l["a"])(r,a,s,!1,null,"8dc7d114",null);e["a"]=b.exports;d()(b,"components",{QSelect:p["a"],QItem:f["a"],QItemSection:m["a"],QBtn:h["a"]})},"088f":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",{},[n("h1",[t._v("MIS Staff")]),n("div",{staticClass:"row"},[n("div",{staticClass:"col-8"},[n("crud",{ref:"crud",attrs:{dataOverride:t.misStaff,api:t.api,columns:t.columns,settings:t.settings,actions:t.actions,sortBy:"lastName",rowKey:"id",search:"",filterchips:""}})],1),n("div",{staticClass:"col-4"},[n("div",{staticClass:"block border-accent q-ba-sm"},[n("div",{staticClass:"row"},[n("div",{attrs:{clsss:"col flex"}},[n("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"accent",dark:"",readonly:"",label:"# MIS Staff"},model:{value:t.stats.misStaffCount,callback:function(e){t.$set(t.stats,"misStaffCount",e)},expression:"stats.misStaffCount"}})],1),n("div",{staticClass:"col"},[n("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"accent",dark:"",readonly:"",label:"# ADA Staff"},model:{value:t.stats.adaStaffCount,callback:function(e){t.$set(t.stats,"adaStaffCount",e)},expression:"stats.adaStaffCount"}})],1)]),n("q-btn",{staticClass:"full-width q-mt-xl",attrs:{loading:t.loading,percentage:100*t.syncProgress,"dark-percentagex":"",outline:"",dark:"",color:"accent","icon-rightx":"fal fa-sync fa-xs"},on:{click:t.syncStaff}},[t._v("\n           Sync\n          "),n("span",{attrs:{slot:"loading"},slot:"loading"},[n("q-spinner-gears",{staticClass:"on-left"}),t._v("\n            Computing...\n          ")],1)]),n("console",{staticStyle:{"min-height":"300px"}}),t.syncIsComplete&&!t.loading?n("div",[n("h1",[t._v("Summary")]),n("div",{attrs:{clsss:"row"}},[n("div",{staticClass:"col"},[n("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"accent",dark:"",readonly:"",label:"New"},model:{value:t.results.new,callback:function(e){t.$set(t.results,"new",e)},expression:"results.new"}})],1)]),n("div",{staticClass:"row full-width"},[n("div",{staticClass:"col"},[n("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"accent",dark:"",readonly:"",label:"Updated"},model:{value:t.results.updated,callback:function(e){t.$set(t.results,"updated",e)},expression:"results.updated"}})],1)]),n("div",{staticClass:"row full-width"},[n("div",{staticClass:"col"},[n("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"accent",dark:"",readonly:"",label:"Disabled"},model:{value:t.results.disabled,callback:function(e){t.$set(t.results,"disabled",e)},expression:"results.disabled"}})],1)])]):t._e()],1)])])])},s=[],o=(n("e125"),n("4823"),n("2e73"),n("dde3"),n("76d0"),n("0c1f"),n("8e9e")),i=n.n(o),c=n("9ce4"),r=n("5451"),l=n("d612"),u=n("dd14");function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f={name:"ComponentAdminSyncStaffSync",props:{},data:function(){return{id:"0",stats:{misStaffCount:0,adaStaffCount:0},misStaffCount:"",misStaff:[],columns:[{name:"id",label:"id",field:"id",type:"string",align:"left",hidden:!1},{name:"lastName",label:"Surname",align:"left",field:"txtSurname",sortable:!0},{name:"firstName",label:"First Name",align:"left",field:"txtFirstname",sortable:!0},{name:"preName",label:"Pre Name",align:"left",field:"txtPreName",hidden:!0,sortable:!0},{name:"email",label:"Email",field:"txtEmailAddress",align:"left",sortable:!0},{name:"group",label:"Group",field:"intGroupID",align:"left",type:"options",filter:!0,options:[],sortable:!0},{name:"status",label:"Status",field:"txtStatus",align:"left",sortable:!0},{name:"type",label:"Type",field:"txtUserType",align:"left",sortable:!0}],loading:!1,percentage:100,syncIsComplete:!1,results:[]}},methods:p(p({},Object(c["b"])("sockets",["clearConsoleLog"])),{},{showMISStaff:function(t){this.misStaff=t.misStaff,this.columns[5].options=t.groups,this.stats=t.stats},syncStaff:function(){this.clearConsoleLog(),this.loading=!0,r["a"].postSyncStaff(this.syncComplete)},syncComplete:function(t){this.results=t,this.loading=!1,this.syncIsComplete=!0,this.percentage=0}}),computed:p(p({},Object(c["c"])("sockets",["progress"])),{},{syncProgress:function(){return this.progress("Admin/Sync/Staff")}}),components:{Crud:l["a"],Console:u["a"]},created:function(){r["a"].getMISStaff(this.showMISStaff)}},m=f,h=(n("eaa3b"),n("2be6")),b=n("e279"),g=n.n(b),y=n("8c42"),w=n("bc74"),v=n("2ef0"),x=n("d1dc"),C=Object(h["a"])(m,a,s,!1,null,"b7c47e54",null);e["a"]=C.exports;g()(C,"components",{QPage:y["a"],QInput:w["a"],QBtn:v["a"],QSpinnerGears:x["a"]})},"08e9":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("q-page",{staticClass:"no-scroll full-height toolbar-page"},[t.$q.platform.is.mobile?n("q-toolbar",{staticClass:"mobile-only shadow-1 bg-tertiary",staticStyle:{"max-height":"38px","min-height":"38px","border-bottom":"1px solid black"},attrs:{id:"toolbar",dense:"",shrink:""}},[n("q-breadcrumbs",{staticClass:"text-font",scopedSlots:t._u([{key:"separator",fn:function(){return[n("q-icon",{attrs:{size:"1.5em",name:"chevron_right",color:"font"}})]},proxy:!0}],null,!1,2995819124)},[n("q-breadcrumbs-el",{staticClass:"text-font",attrs:{label:t.moduleName,icon:t.moduleIcon}}),n("q-breadcrumbs-el",{staticClass:"capitalize ",attrs:{label:t.element.label,iconx:t.element.icon}})],1)],1):t._e(),n("q-toolbar",{staticClass:"shadow-1 bg-tertiary desktop-only",staticStyle:{"max-height":"38px","min-height":"38px","border-bottom":"1px solid black"},attrs:{id:"toolbar",dense:"",shrink:""}},[t._t("before"),t._l(t.elements,(function(e){return n("q-btn-group",{key:e.name,staticClass:"tbp-tabs",attrs:{unelevated:"",dense:"",shrink:"","active-color":"secondary"}},[e.menu?t._e():n("q-btn",{attrs:{label:e.label,name:e.name,icon:e.icon,size:"10px",color:t.selectedTab===e.name?"accent":"font",flat:""},on:{click:function(n){t.selectedTab=e.name}}},[e.count>0?n("q-badge",{attrs:{size:"xs",color:"warning","text-color":"font-negative",floating:""}},[t._v(t._s(e.count))]):t._e(),e.tooltip?n("q-tooltip",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[t._v("\n               "+t._s(e.tooltip)+"\n             ")]):t._e()],1),e.menu?n("q-btn",{attrs:{flat:"",size:"xs",label:e.label,icon:e.icon?e.icon:"fal fa-caret-down","text-color":"font",unelevated:""}},[n("q-menu",{ref:"settingsPopover",refInFor:!0,attrs:{"content-class":"bg-grey-9 text-white","auto-close":""}},[n("q-list",{attrs:{"item-separator":"",link:"","content-class":"bg-primary"}},t._l(e.menu,(function(e){return n("q-item",{key:e.name,attrs:{clickable:""},nativeOn:{click:function(n){return t.clickMenu(e)}}},[n("q-item-section",{attrs:{avatar:"",left:"",dark:""}},[n("q-icon",{attrs:{size:"20px",name:e.icon}})],1),n("q-item-section",[n("q-item-label",[t._v(t._s(e.label))])],1)],1)})),1)],1)],1):t._e()],1)})),n("q-space"),t._t("side"),t._t("after")],2),n("q-tab-panels",{staticClass:"full-height",model:{value:t.selectedTab,callback:function(e){t.selectedTab=e},expression:"selectedTab"}},t._l(t.tabPanels,(function(e){return n("q-tab-panel",{key:e.name,staticClass:"col full-height full-width",class:e.noPadding?"no-padding":"",attrs:{name:e.name}},[n("div",{staticClass:"full-width",staticStyle:{"overflow-y":"hidden"},style:{minHeight:t.screenHeight+"px",height:1.5*t.screenHeight+"px"}},[n(e.component,{tag:"component",on:{close:t.close}})],1)])})),1)],1),n("q-footer",{staticClass:"bg-primary text-white mobile-only",staticStyle:{"margin-bottom":"50px"},attrs:{elevated:"",bordered:""}},[n("q-toolbar",{staticClass:"bg-tertiary",staticStyle:{"max-height":"38px","min-height":"38px","border-bottom":"1px solid black"},attrs:{id:"toolbar",dense:"",shrink:""}},[t._t("before"),t._l(t.elements,(function(e){return n("q-btn-group",{key:e.name,staticClass:"tbp-tabs",attrs:{unelevated:"",dense:"",shrink:"","active-color":"secondary"}},[e.menu?t._e():n("q-btn",{attrs:{name:e.name,icon:e.icon,size:"10px",color:t.selectedTab===e.name?"accent":"font",flat:""},on:{click:function(n){return t.setElement(e)}}},[e.count>0?n("q-badge",{attrs:{size:"xs",color:"warning","text-color":"font-negative",floating:""}},[t._v(t._s(e.count))]):t._e(),e.tooltip?n("q-tooltip",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[t._v("\n               "+t._s(e.tooltip)+"\n             ")]):t._e()],1),e.menu?n("q-btn",{attrs:{flat:"",size:"xs",label:e.label,icon:e.icon?e.icon:"fal fa-caret-down","text-color":"font",unelevated:""}},[n("q-menu",{ref:"settingsPopover",refInFor:!0,attrs:{"content-class":"bg-grey-9 text-white","auto-close":""}},[n("q-list",{attrs:{"item-separator":"",link:"","content-class":"bg-primary"}},t._l(e.menu,(function(e){return n("q-item",{key:e.name,attrs:{clickable:""},nativeOn:{click:function(n){return t.clickMenu(e)}}},[n("q-item-section",{attrs:{avatar:"",left:"",dark:""}},[n("q-icon",{attrs:{size:"20px",name:e.icon}})],1),n("q-item-section",[n("q-item-label",[t._v(t._s(e.label))])],1)],1)})),1)],1)],1):t._e()],1)})),n("q-space"),t._t("side"),t._t("after")],2)],1)],1)},s=[],o=(n("e125"),n("4823"),n("2e73"),n("dde3"),n("76d0"),n("0c1f"),n("288e"),n("c880"),n("8e9e")),i=n.n(o),c=n("9ce4");function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var u={name:"ComponentPageToolbar",props:{default:null,elements:null,currentElement:null},watch:{selectedTab:function(){}},data:function(){return{selectedTab:null,element:null}},computed:l(l({},Object(c["e"])("user",["moduleIcon","moduleName"])),{},{tabPanels:function(){var t=[];return this.elements.forEach((function(e){e.menu?e.menu.forEach((function(e){t.push({name:e.name,component:e.component})})):t.push({name:e.name,component:e.component,noPadding:e.noPadding})})),t},screenHeight:function(){return this.$q.screen.height-170}}),methods:{close:function(){this.selectedTab=this.default},clickMenu:function(t){t.name&&(this.selectedTab=t.name),t.event&&this.$emit(t.event)},setElement:function(t){this.selectedTab=t.name,this.element=t}},created:function(){var t=this;this.selectedTab=this.default,this.element=this.elements.find((function(e){return e.name===t.default}))}},d=u,p=(n("b0d4"),n("2be6")),f=n("e279"),m=n.n(f),h=n("8c42"),b=n("eb05"),g=n("4ba0"),y=n("34ff"),w=n("c575"),v=n("5be0"),x=n("2ef0"),C=n("f987"),q=n("3aaf"),S=n("6a2f"),k=n("6c93"),_=n("ac9b"),O=n("66dc"),j=n("7d9a"),R=n("f962c"),P=n("1411"),$=n("1d98"),Q=n("c8ed"),I=Object(p["a"])(d,a,s,!1,null,null,null);e["a"]=I.exports;m()(I,"components",{QPage:h["a"],QToolbar:b["a"],QBreadcrumbs:g["a"],QIcon:y["a"],QBreadcrumbsEl:w["a"],QBtnGroup:v["a"],QBtn:x["a"],QBadge:C["a"],QTooltip:q["a"],QMenu:S["a"],QList:k["a"],QItem:_["a"],QItemSection:O["a"],QItemLabel:j["a"],QSpace:R["a"],QTabPanels:P["a"],QTabPanel:$["a"],QFooter:Q["a"]})},"10ac":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.loading?n("div",[n("div",{staticClass:"flex flex-center col"},[n("div",{staticClass:"row text-center full-width"},[n("div",{staticClass:"col text-center cssload-wrap"},[t.minor?n("q-spinner-gears",{attrs:{color:"font-secondary",size:"6em"}}):t._e(),n("br"),t.channel?n("q-linear-progress",{staticClass:"q-mt-lg",staticStyle:{"max-width":"300px",margin:"20px auto"},attrs:{size:"sm",value:t.syncProgress,color:"font-secondary",label:"Change Model"}}):t._e()],1),t.minor?t._e():n("div",{staticClass:"cssload-wrap"},[n("div",{staticClass:"cssload-circle"}),n("div",{staticClass:"cssload-circle"}),t._m(0),n("div",{staticClass:"cssload-circle"}),n("div",{staticClass:"cssload-circle"}),n("div",{staticClass:"cssload-circle"})])])])]):t._e()},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"full-width full-height flex flex-centre"},[n("img",{staticClass:"q-ml-sm",staticStyle:{margin:"auto"},attrs:{width:"20px",height:"20px",src:"/statics/icons/plain.svg"}})])}],o=(n("e125"),n("4823"),n("2e73"),n("dde3"),n("76d0"),n("0c1f"),n("8e9e")),i=n.n(o),c=n("9ce4");function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var u={name:"ComponentLoading",props:{loading:{default:!1,type:Boolean},minor:{default:!0,type:Boolean},channel:{default:!1}},data:function(){return{}},methods:{},computed:l(l({},Object(c["c"])("sockets",["progress"])),{},{syncProgress:function(){return this.progress(this.channel)}}),components:{},created:function(){}},d=u,p=(n("3f76"),n("2be6")),f=n("e279"),m=n.n(f),h=n("d1dc"),b=n("4f61"),g=n("b693"),y=Object(p["a"])(d,a,s,!1,null,null,null);e["a"]=y.exports;m()(y,"components",{QSpinnerGears:h["a"],QLinearProgress:b["a"],QField:g["a"]})},"15fa":function(t,e,n){"use strict";var a=n("b4d7"),s=n.n(a);s.a},"1bf8":function(t,e,n){"use strict";var a=n("e5ab"),s=n.n(a);s.a},"1d18":function(t,e,n){"use strict";var a=n("47e1"),s=n.n(a);s.a},"1efb":function(t,e,n){},"268c":function(t,e,n){"use strict";var a=n("4778"),s=n("452d");e["a"]={getYears:function(t,e,n){n&&a["a"].get("/hod/years/"+n).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getExams:function(t,e,n,s){s&&a["a"].get("/hod/years/"+n+"/exams/"+s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getExamClasses:function(t,e){var n=s["a"].getters["user/getGlobalSubject"],o=s["a"].getters["hod/activeYear"],i=s["a"].getters["hod/activeExam"];n&&o&&i&&a["a"].get("/hod/years/"+n.id+"/examclasses/"+o+"/"+i).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))}}},"27da":function(t,e,n){"use strict";var a=n("954f"),s=n.n(a);s.a},"2c59":function(t,e,n){"use strict";var a=n("1efb"),s=n.n(a);s.a},"2c85":function(t,e,n){},"30bd":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-btn",t._b({staticClass:"col",attrs:{dense:""},on:{click:function(t){t.stopPropagation()}}},"q-btn",t.$props,!1),[t.tooltip?n("q-tooltip",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[t._v("\n     "+t._s(t.tooltip)+"\n   ")]):t._e(),n("q-popup-proxy",[n("q-card",{staticClass:"bg-blue-grey-9",staticStyle:{width:"200px"},attrs:{dark:""}},[n("q-card-section",[t._v("\n        "+t._s(t.title)+"\n      ")]),n("q-separator",{attrs:{dark:"",inset:""}}),n("q-card-section",{staticClass:"row q-gutter-sm"},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col",attrs:{color:"pink",label:t.buttonLabelNo}}),n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col",attrs:{color:"positive","text-color":"black",label:t.buttonLabelYes},on:{click:function(e){return t.success(t.model)}}})],1)],1)],1)],1)},s=[],o={name:"Component.Buttons.New",props:{success:{type:Function,required:!0},model:{type:Object,default:function(){}},size:{type:String,default:"xs"},icon:{type:String,default:"fal fa-edit"},title:{type:String,default:""},fieldLabel:{type:String,default:""},type:{type:String,default:""},tooltip:{type:String},color:{type:String,default:"primary"},label:{type:String,default:""},buttonLabelYes:{type:String,default:"Yes"},buttonLabelNo:{type:String,default:"No"},textColor:{type:String,default:""},outline:{type:Boolean},flat:{type:Boolean}},data:function(){return{}},methods:{},computed:{},components:{},created:function(){}},i=o,c=(n("56bb"),n("2be6")),r=n("e279"),l=n.n(r),u=n("2ef0"),d=n("3aaf"),p=n("8c18"),f=n("ebe6"),m=n("965d"),h=n("96f0"),b=n("58c0"),g=Object(c["a"])(i,a,s,!1,null,"66118dec",null);e["a"]=g.exports;l()(g,"components",{QBtn:u["a"],QTooltip:d["a"],QPopupProxy:p["a"],QCard:f["a"],QCardSection:m["a"],QSeparator:h["a"]}),l()(g,"directives",{ClosePopup:b["a"]})},"34b8":function(t,e,n){},"3c3b":function(t,e,n){},"3c62":function(t,e,n){"use strict";var a=n("3c3b"),s=n.n(a);s.a},"3f76":function(t,e,n){"use strict";var a=n("34b8"),s=n.n(a);s.a},"423b":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-4 text-left q-mx-xs",staticStyle:{border:"1px solid font"}},[n("q-tabs",{staticClass:"bg-tertiary text-accent no-shadow",attrs:{dense:"",align:"left",breakpoint:0},model:{value:t.direction,callback:function(e){t.direction=e},expression:"direction"}},[n("q-tab",{attrs:{name:"outbound",label:"outbound",icon:"fal fa-arrow-square-right"}}),n("q-tab",{attrs:{name:"return",label:"return",icon:"fal fa-arrow-square-left"}})],1),n("div",{staticClass:"q-pa-md text-font"},[n("q-list",{attrs:{dark:"",bordered:"",separator:"",stylex:"max-width: 318px"}},t._l(t.activeRoutes,(function(e){return n("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:e.id,class:t.selectedRoute.id===e.id?"bg-tertiary highlight":"",attrs:{clickable:"","expand-separator":"",iconx:"perm_identity",label:e.name},on:{click:function(n){return t.selectRoute(e)}}},[n("q-item-section",[n("span",[t._v("\n              "+t._s(e.name)+"\n              ")])]),n("q-item-section",{staticClass:"row",attrs:{side:""}},[n("span",[t.locked?t._e():n("edit-button",{attrs:{model:e,field:"name",success:t.saveRoute}}),t.locked?t._e():n("delete-button",{attrs:{model:e,success:t.deleteRoute,label:"Delete Route?"}})],1)])],1)})),1),t.locked?t._e():n("new-button",{staticClass:"q-mt-md",attrs:{success:t.submitNew,label:"New Route Name"}})],1)],1),n("div",{staticClass:"col text-left q-mx-xs bg-secondary bd-font-secondary"},[n("q-bar",{staticClass:"text-accent bg-tertiary"},[t._v(t._s(t.selectedRoute.name))]),t.selectedRoute.id?n("q-card",{staticClass:"no-shadow"},[n("q-card-section",{staticClass:"row bg-secondary no-shadow"},[n("div",{staticClass:"col q-mr-md"},[n("q-bar",{staticClass:"text-font text-bold q-mb-xs no-shadow no-border",staticStyle:{background:"none"}},[n("span",{staticClass:"q-mr-md"},[t._v("Coaches")]),t.locked?t._e():n("new-button-double",{staticClass:"q-mt-sm q-mb-sm q-ml-lg",attrs:{success:t.newCoach,label:"Bus Code",label2:"New Coach Capacity?",type2:"number"}})],1),n("q-list",t._l(t.selectedRoute.coaches,(function(e){return n("q-expansion-item",{key:e.id,staticClass:"bg-tertiary q-mb-sm",scopedSlots:t._u([{key:"header",fn:function(){return[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{color:"accent",name:"fal fa-bus"}})],1),n("q-item-section",{staticClass:"text-white row"},[n("q-item-label",{attrs:{lines:"1"}},[t._v(t._s(e.code))]),n("q-item-label",{staticClass:"text-white",attrs:{caption:""}},[t._v(t._s(e.capacity)+" seats  ---  "+t._s(e.activeCount)+" stops")])],1),n("q-item-section",{staticClass:"row",attrs:{side:""}},[n("span",{staticClass:"text-white"},[t.locked?t._e():n("edit-button",{attrs:{model:e,field:"code",icon:"fal fa-tag",success:t.saveCoach,tooltip:"Change Bus Code"}}),t.locked?t._e():n("edit-button",{attrs:{model:e,type:"number",field:"capacity",icon:"fal fa-users",success:t.saveCoach,tooltip:"Change Capacity"}}),t.locked?t._e():n("delete-button",{attrs:{tooltip:"Delete Coach",model:e,success:t.deleteCoach,label:"Delete Coach?"}})],1)])]},proxy:!0}],null,!0)},[n("q-card",{staticStyle:{"border-top":"1px solid font"}},[n("q-card-section",{staticClass:"bg-tertiary text-white"},[n("q-list",[n("q-item",{attrs:{tagx:"label"}},[n("q-item-section",{attrs:{avatar:""}},t._l(e.stops,(function(a){return a.isSchoolLocation?t._e():n("q-checkbox",{key:a.id,staticClass:"row",attrs:{dark:"",label:a.name,color:"accent"},on:{input:function(n){return t.clickCoachStop(e,a)}},model:{value:a.isActive,callback:function(e){t.$set(a,"isActive",e)},expression:"stop.isActive"}})})),1)],1)],1)],1)],1)],1)})),1)],1),n("div",{staticClass:"col q-pl-md",staticStyle:{"border-left":"1px solid font"}},[n("q-bar",{staticClass:"text-font text-bold",staticStyle:{background:"none"}},[t._v("Route")]),n("q-timeline",{attrs:{layoutx:"dense",side:"right",color:"accent"}},t._l(t.selectedRoute.stops,(function(e){return n("q-timeline-entry",{key:e.id,staticClass:"text-font",attrs:{title:e.name,subtitle:t.canChangeTime(e)?e.time:"",side:"left"}},[n("span",{staticClass:"no-shadow",staticStyle:{"margin-top":"-30px"}},[t.locked?t._e():n("edit-button",{attrs:{model:e,field:"name",success:t.saveStop,tooltip:"Edit Stop Name"}}),!t.locked&&t.canChangeTime(e)?n("edit-button",{attrs:{model:e,type:"time",field:"time",color:"00:00"===e.time?"warning":"font",icon:"fal fa-clock",success:t.saveStop,tooltip:"Change Time (affects stop order)"}}):t._e(),t.locked||0!==e.isSchoolLocation?t._e():n("delete-button",{attrs:{model:e,success:t.deleteStop,label:"Delete Stop?",tooltip:"delete stop"}})],1),0===e.isSchoolLocation?n("div",{staticClass:"row q-mt-sm"},[n("div",{staticClass:"col"},[n("q-badge",{attrs:{"text-color":0===e.cost?"black":"white",color:0===e.cost?"warning":"tertiary"}},[t._v("Â£ "+t._s(e.cost)+"\n                    ")]),t.locked?t._e():n("edit-button",{staticClass:"q-ml-md",attrs:{model:e,field:"cost",icon:"fal fa-credit-card",success:t.saveStop,tooltip:"Set Price"}})],1)]):t._e()])})),1),t.locked?t._e():n("new-button",{attrs:{label:"New stop name",success:t.newStop}})],1)])],1):t._e()],1)])},s=[],o=(n("e125"),n("4823"),n("2e73"),n("dde3"),n("76d0"),n("0c1f"),n("8e9e")),i=n.n(o),c=(n("ce9c"),n("9ce4")),r=n("5228"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-btn",{staticClass:"col",attrs:{size:t.size,flat:"",dense:"",icon:t.icon},on:{click:function(t){t.stopPropagation()}}},[t.tooltip?n("q-tooltip",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[t._v("\n     "+t._s(t.tooltip)+"\n   ")]):t._e(),n("q-popup-proxy",[n("q-card",{staticClass:"bg-blue-grey-9",staticStyle:{width:"200px"},attrs:{dark:""}},[n("q-card-section",[t._v("\n        "+t._s(t.label)+"\n      ")]),n("q-separator",{attrs:{dark:"",inset:""}}),n("q-card-section",{staticClass:"row q-gutter-sm"},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col",attrs:{color:"pink",label:"No"}}),n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col",attrs:{color:"positive","text-color":"black",label:"Yes"},on:{click:function(e){return t.success(t.model)}}})],1)],1)],1)],1)},u=[],d={name:"Component.Buttons.Delete",props:{success:{type:Function,required:!0},model:{type:Object,required:!0},size:{type:String,default:"sm"},icon:{type:String,default:"fal fa-trash"},label:{type:String,default:"Delete"},tooltip:{type:String}},data:function(){return{}},methods:{},computed:{},components:{},created:function(){}},p=d,f=(n("91ba"),n("2be6")),m=n("e279"),h=n.n(m),b=n("2ef0"),g=n("3aaf"),y=n("8c18"),w=n("ebe6"),v=n("965d"),x=n("96f0"),C=n("58c0"),q=Object(f["a"])(p,l,u,!1,null,"4f305aec",null),S=q.exports;h()(q,"components",{QBtn:b["a"],QTooltip:g["a"],QPopupProxy:y["a"],QCard:w["a"],QCardSection:v["a"],QSeparator:x["a"]}),h()(q,"directives",{ClosePopup:C["a"]});var k=n("ad81"),_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-btn",{attrs:{size:t.size,icon:t.icon,outline:"",color:"accent",dense:""}},[t.tooltip?n("q-tooltip",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[t._v("\n     "+t._s(t.tooltip)+"\n   ")]):t._e(),n("q-popup-proxy",{ref:"popup"},[n("q-banner",{staticClass:"bg-secondary text-font q-pt-md bd-font-seconary",on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit()}}},[n("q-input",{attrs:{label:t.label,type:t.type,autofocus:""},model:{value:t.data,callback:function(e){t.data=e},expression:"data"}}),n("q-input",{attrs:{label:t.label2,type:t.type2},model:{value:t.data2,callback:function(e){t.data2=e},expression:"data2"}}),n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"full-width highlight q-mt-md",attrs:{disabled:0===t.data.length||0===t.data2.length,outline:"",label:"submit"},on:{click:function(e){return t.submit()}}})],1)],1)],1)},O=[],j={name:"Component.Buttons.New",props:{success:{type:Function,required:!0},size:{type:String,default:"xs"},icon:{type:String,default:"fal fa-plus"},label:{type:String,default:"New"},type:{type:String,default:""},label2:{type:String,default:"New"},type2:{type:String,default:""},tooltip:{type:String}},data:function(){return{data:"",data2:""}},methods:{submit:function(){0!==this.data.length&&0!==this.data2.length&&(this.success(this.data,this.data2),this.data="",this.data2="",this.$refs.popup.hide())}},computed:{},components:{},created:function(){}},R=j,P=(n("5b0e"),n("01a4")),$=n("bc74"),Q=Object(f["a"])(R,_,O,!1,null,"2979e137",null),I=Q.exports;h()(Q,"components",{QBtn:b["a"],QTooltip:g["a"],QPopupProxy:y["a"],QBanner:P["a"],QInput:$["a"]}),h()(Q,"directives",{ClosePopup:C["a"]});var E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-btn",{staticClass:"col q-mr-md",attrs:{size:t.size,flat:"",dense:"",icon:t.icon,color:t.color},on:{click:function(t){t.stopPropagation()}}},[t.tooltip?n("q-tooltip",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[t._v("\n     "+t._s(t.tooltip)+"\n   ")]):t._e(),n("q-popup-edit",{on:{save:function(e){return t.success(t.model)},hide:function(e){return t.success(t.model)}},model:{value:t.model[t.field],callback:function(e){t.$set(t.model,t.field,e)},expression:"model[field]"}},[n("q-input",{attrs:{type:t.type,dark:"",dense:"",autofocus:""},model:{value:t.model[t.field],callback:function(e){t.$set(t.model,t.field,e)},expression:"model[field]"}})],1)],1)},D=[],T={name:"Component.Buttons.Edit",props:{success:{type:Function,required:!0},model:{type:Object,required:!0},field:{type:String,required:!0},size:{type:String,default:"sm"},icon:{type:String,default:"fal fa-edit"},title:{type:String,default:"Edit"},type:{type:String,default:""},tooltip:{type:String},color:{type:String}},data:function(){return{name:""}},methods:{},computed:{},components:{},created:function(){}},N=T,B=(n("476c"),n("d200")),L=Object(f["a"])(N,E,D,!1,null,"3b534679",null),Y=L.exports;function M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function A(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?M(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}h()(L,"components",{QBtn:b["a"],QTooltip:g["a"],QPopupEdit:B["a"],QInput:$["a"]});var z={name:"Tbs.Coaches.Setup",props:{session:{type:Number},locked:{type:Boolean,default:!1}},data:function(){return{direction:"outbound",routes:[],selectedRouteId:null,selectedRoute:{id:null,name:null},newName:"",temp:!1}},methods:{clickCoachStop:function(t,e){console.warn(t,e);var n={coachId:t.id,stopId:e.id,isActive:e.isActive};r["a"].putCoachStop(this.getRoute,this.$error,n)},canChangeTime:function(t){var e=this.selectedRoute;return 1===e.isReturn?0===t.isSchoolLocation:1===t.isSchoolLocation},getRoutes:function(){r["a"].getRoutes(this.processRoutes,null,this.session)},saveRoute:function(t){r["a"].putRoute(this.getRoutes,null,t)},deleteRoute:function(t){r["a"].deleteRoute(this.getRoutes,null,t.id),t.id===this.selectedRouteId&&(this.selectedRouteId=null,this.selectedRoute={id:null,name:null})},setSession:function(){},processRoutes:function(t){this.routes=t},selectRoute:function(t){t.id!==this.selectedRouteId&&(this.selectedRoute=t,this.selectedRouteId=t.id)},submitNew:function(t){var e=this;this.$q.loading.show();var n={name:t,sessionId:this.session,isReturn:this.isReturn};r["a"].postRoute((function(t){e.selectedRoute=t,e.selectedRouteId=t.id,e.getRoutes(),e.$q.loading.hide()}),null,n)},newStop:function(t){r["a"].postStop(this.getRoute,null,{routeId:this.selectedRouteId,name:t})},saveStop:function(t){r["a"].putStop(this.getRoute,null,t)},deleteStop:function(t){r["a"].deleteStop(this.getRoute,null,t.id)},getRoute:function(){var t=this,e=this.selectedRouteId;r["a"].getRoute((function(e){console.log(e),t.selectedRoute=e}),null,e)},newCoach:function(t,e){r["a"].postCoach(this.getRoute,null,{routeId:this.selectedRouteId,code:t,capacity:e})},saveCoach:function(t){r["a"].putCoach(this.getRoute,null,t)},deleteCoach:function(t){r["a"].deleteCoach(this.getRoute,null,t.id)},setTopActive:function(){var t=this.activeRoutes[0];this.selectedRouteId=t.id,this.selectedRoute=t}},watch:{selectedRouteId:function(){this.getRoute()},session:function(){this.getRoutes()},direction:function(){this.setTopActive()}},computed:A(A({},Object(c["c"])("transport",["activeSession"])),{},{isReturn:function(){return"outbound"===this.direction?0:1},countActiveStops:function(t){var e=t.stops.filter((function(t){return t.isActive}));return e.length},activeRoutes:function(){var t=this,e=this.routes.filter((function(e){return e.isReturn===t.isReturn}));return e}}),components:{DeleteButton:S,NewButton:k["a"],NewButtonDouble:I,EditButton:Y},created:function(){var t=this;0!==this.session&&(this.$store.watch((function(){return t.$store.getters["transport/activeSession"]}),this.setSession),this.session=this.$store.getters["transport/activeSession"]),this.getRoutes()}},F=z,H=(n("15fa"),n("4776")),K=n("dd08"),G=n("6c93"),W=n("ac9b"),V=n("66dc"),U=n("5d16"),X=n("0f3b"),J=n("34ff"),Z=n("7d9a"),tt=n("851c"),et=n("7bf9"),nt=n("8aae"),at=n("f987"),st=n("2be8"),ot=Object(f["a"])(F,a,s,!1,null,"00e1b05b",null);e["a"]=ot.exports;h()(ot,"components",{QTabs:H["a"],QTab:K["a"],QList:G["a"],QItem:W["a"],QItemSection:V["a"],QPopupEdit:B["a"],QInput:$["a"],QBar:U["a"],QCard:w["a"],QCardSection:v["a"],QExpansionItem:X["a"],QIcon:J["a"],QItemLabel:Z["a"],QCheckbox:tt["a"],QTimeline:et["a"],QTimelineEntry:nt["a"],QBadge:at["a"]}),h()(ot,"directives",{Ripple:st["a"]})},"476c":function(t,e,n){"use strict";var a=n("8c68"),s=n.n(a);s.a},"47e1":function(t,e,n){},"510c":function(t,e,n){"use strict";var a=n("2c85"),s=n.n(a);s.a},5228:function(t,e,n){"use strict";var a=n("4778"),s=n("452d");e["a"]={getRoutes:function(t,e,n){a["a"].get("/transport/coaches/routes/"+n).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getStops:function(t,e,n){a["a"].get("/transport/coaches/stops/"+n).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getRoute:function(t,e,n){a["a"].get("/transport/coaches/route/"+n).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},postRoute:function(t,e,n){a["a"].post("/transport/coaches/route",n).then((function(e){t(e.data)})).catch((function(t){console.log(t),e()}))},putRoute:function(t,e,n){a["a"].put("/transport/coaches/route",n).then((function(e){t(e.data)})).catch((function(t){console.log(t),e()}))},deleteRoute:function(t,e,n){a["a"].delete("/transport/coaches/route/"+n).then((function(e){t(e.data)})).catch((function(t){console.log(t),e()}))},postCoach:function(t,e,n){a["a"].post("/transport/coaches/coach",n).then((function(e){t(e.data)})).catch((function(t){console.log(t),e()}))},postRegisterEmail:function(t,e,n){a["a"].post("/transport/coaches/coach/register/email/"+n).then((function(e){t(e.data)})).catch((function(t){console.log(t),e()}))},postAllRegisterEmails:function(t,e){var n=s["a"].getters["transport/activeSession"];a["a"].post("/transport/coaches/registers/email/"+n).then((function(e){t(e.data)})).catch((function(t){console.log(t),e()}))},putCoach:function(t,e,n){a["a"].put("/transport/coaches/coach",n).then((function(e){t(e.data)})).catch((function(t){console.log(t),e()}))},deleteCoach:function(t,e,n){a["a"].delete("/transport/coaches/coach/"+n).then((function(e){t(e.data)})).catch((function(t){console.log(t),e()}))},postStop:function(t,e,n){a["a"].post("/transport/coaches/stop",n).then((function(e){t(e.data)})).catch((function(t){console.log(t),e()}))},putStop:function(t,e,n){a["a"].put("/transport/coaches/stop",n).then((function(e){t(e.data)})).catch((function(t){console.log(t),e()}))},deleteStop:function(t,e,n){a["a"].delete("/transport/coaches/stop/"+n).then((function(e){t(e.data)})).catch((function(t){console.log(t),e()}))},putCoachStop:function(t,e,n){a["a"].put("/transport/coaches/coach/stop",n).then((function(e){t(e.data)})).catch((function(t){console.log(t),e()}))},postCopyRoutes:function(t,e,n,s){a["a"].post("/transport/coaches/copy/"+n+"/"+s).then((function(e){t(e.data)})).catch((function(t){console.log(t),e()}))},putSupervisor:function(t,e,n,s){a["a"].put("/transport/coaches/coach/supervisor/"+n+"/"+s).then((function(e){t(e.data)})).catch((function(t){console.log(t),e()}))}}},5451:function(t,e,n){"use strict";var a=n("4778");e["a"]={getMISStudents:function(t){a["a"].get("/admin/sync/misstudents").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},postSyncStudents:function(t){a["a"].post("/admin/sync/students").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getMISStaff:function(t){a["a"].get("/admin/sync/misstaff").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},postSyncStaff:function(t){a["a"].post("/admin/sync/staff").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getMISSubjects:function(t){a["a"].get("/admin/sync/missubjects").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},postSyncSubjects:function(t){a["a"].post("/admin/sync/subjects").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},postSyncExternalExams:function(t,e,n){a["a"].post("/admin/sync/externalexams/session/"+n).then((function(e){t(e.data)})).catch((function(t){console.log(t),e(t)}))},postSyncExternalExamSessions:function(t,e,n){a["a"].post("/admin/sync/externalexams/sessions").then((function(e){t(e.data)})).catch((function(t){console.log(t),e(t)}))},getExternalExamSessions:function(t){a["a"].get("/admin/sync/externalexams/sessions").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))}}},"55da":function(t,e,n){},5658:function(t,e,n){},"56bb":function(t,e,n){"use strict";var a=n("92d9"),s=n.n(a);s.a},"57a6":function(t,e,n){},"5a18":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input-form"},[n("div",{ref:"new",staticClass:"row"},[t._l(t.columns,(function(e,a){return e.validations?n("div",{key:e.field,staticClass:"col-12"},[!0===!e.hidden?n("div",{staticClass:"q-mb-md",attrs:{orientation:"vertical",label:e.label,helperx:e.required?"Required":"","error-label":""}},["string"===e.type?n("q-input",{ref:a?"input"+a:"",refInFor:!0,attrs:{tabindex:"0",label:e.label,"stack-labelx":e.label,type:"text",dark:t.dark,error:t.$v.newRow[e.field].$error,autofocus:""},on:{blur:function(n){t.$v.newRow[e.field].$touch},input:function(n){t.$v.newRow[e.field].$touch,t.input(t.newRow[e.field],e)}},model:{value:t.newRow[e.field],callback:function(n){t.$set(t.newRow,e.field,"string"===typeof n?n.trim():n)},expression:"newRow[column.field]"}}):t._e(),"number"===e.type?n("q-input",{attrs:{tabindex:"0",label:e.label,"stack-labelx":e.label,type:"number",dark:t.dark,error:t.$v.newRow[e.field].$error,autofocus:""},on:{blur:function(n){t.$v.newRow[e.field].$touch},input:function(n){t.$v.newRow[e.field].$touch,t.input(t.newRow[e.field],e)}},model:{value:t.newRow[e.field],callback:function(n){t.$set(t.newRow,e.field,"string"===typeof n?n.trim():n)},expression:"newRow[column.field]"}}):t._e(),"options"===e.type&&e.options.length<4?n("q-btn-toggle",{staticClass:"q-mt-md",attrs:{label:e.label,color:"dark","toggle-color":"cyan-9","text-color":"white","toggle-text-color":"primary",options:e.options,error:t.$v.newRow[e.field].$error,outline:""},on:{input:function(n){t.$v.newRow[e.field].$touch,t.input(t.newRow[e.field],e)}},model:{value:t.newRow[e.field],callback:function(n){t.$set(t.newRow,e.field,n)},expression:"newRow[column.field]"}}):t._e(),"options"===e.type&&e.options.length>3?n("q-select",{attrs:{"map-options":"","stack-label":e.label,options:e.options,label:e.label,dark:t.dark,error:t.$v.newRow[e.field].$error,"emit-value":""},on:{input:function(n){t.$v.newRow[e.field].$touch,t.input(t.newRow[e.field],e)}},model:{value:t.newRow[e.field],callback:function(n){t.$set(t.newRow,e.field,n)},expression:"newRow[column.field]"}}):t._e(),"date"===e.type||"datetime"===e.type||"time"===e.type?n("q-input",{attrs:{label:e.label,dark:"",filled:""},on:{click:function(n){return t.clickDateInput(e.field)}},scopedSlots:t._u([{key:"prepend",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:"time"===e.type?"access_time":"event"}},[n("q-popup-proxy",{ref:"qDateProxy_"+e.field,refInFor:!0,attrs:{"transition-show":"scale","transition-hide":"scale"}},[n("div",{staticClass:"bg-dark row no-padding no-margin",staticStyle:{border:"1px solid grey"}},["date"===e.type||"datetime"===e.type?n("div",{staticClass:"col q-pb-md",staticStyle:{"border-right":"1px solid grey"}},[n("q-date",{staticClass:"row",attrs:{color:"grey-8",mask:"datetime"===e.type?"DD-MM-YYYY HH:mm":"DD-MM-YYYY","text-color":"black",dark:"",flat:"",minimal:""},on:{input:function(n){t.$v.newRow[e.field].$touch,t.input(t.newRow[e.field],e)}},model:{value:t.newRow[e.field],callback:function(n){t.$set(t.newRow,e.field,n)},expression:"newRow[column.field]"}}),n("div",{staticClass:"row q-mt-md"},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col q-ml-md q-mr-xs",attrs:{flatx:"",outline:"",color:"primary","text-color":"primary",label:"clear"},on:{click:function(n){return t.clearValue(e.field)}}}),n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col q-ml-xs q-mr-md",attrs:{outlinex:"",color:"primary","text-color":"dark",label:"save"}})],1)],1):t._e(),"time"===e.type||"datetime"===e.type?n("div",{staticClass:"col no-padding no-margin"},[n("q-time",{attrs:{mask:"DD-MM-YYYY HH:mm",format24h:"",color:"grey-8","text-color":"black",dark:"",borderedx:"",minimal:"",flat:""},on:{input:function(n){t.$v.newRow[e.field].$touch,t.input(t.newRow[e.field],e)}},model:{value:t.newRow[e.field],callback:function(n){t.$set(t.newRow,e.field,n)},expression:"newRow[column.field]"}}),"time"===e.type?n("div",{staticClass:"row q-my-md"},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col q-ml-md q-mr-xs",attrs:{flatx:"",outline:"",color:"primary","text-color":"primary",label:"clear"},on:{click:function(n){return t.clearValue(e.field)}}}),n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col q-ml-xs q-mr-md",attrs:{outlinex:"",color:"primary","text-color":"dark",label:"save"}})],1):t._e()],1):t._e()])])],1)]},proxy:!0}],null,!0),model:{value:t.newRow[e.field],callback:function(n){t.$set(t.newRow,e.field,n)},expression:"newRow[column.field]"}}):t._e()],1):t._e()]):t._e()})),n("div",{staticClass:"row q-mt-md full-width"},[n("q-btn",{directives:[{name:"hotkey",rawName:"v-hotkey.once",value:{enter:t.submit},expression:"{'enter': submit}",modifiers:{once:!0}}],staticClass:"text-primary col",attrs:{outline:"",dark:"",icon:"fal fa-check",label:"Create New"},nativeOn:{click:function(e){return t.submit(e)}}})],1)],2)])},s=[],o=n("c286"),i=n("9869"),c={name:"ComponentCrudNew",props:{rowKey:{default:"id"},columns:{required:!0,type:Array},data:{required:!0,type:Array},api:{required:!0,type:Object}},data:function(){return{dark:!0,newRow:{},autofocus:!1}},validations:function(){return{newRow:this.getValidations}},methods:{setValue:function(t,e){i["a"].set(this.newRow,t,e)},clearValue:function(t){i["a"].set(this.newRow,t,"")},clickDateInput:function(t){this.$refs["qDateProxy_"+t][0].show()},input:function(t,e){this.$emit("input",t,e)},submit:function(){this.$v.newRow.$touch(),this.$v.newRow.$error?this.$q.notify("Please review fields again."):this.api.post(this.success,this.error,this.newRow,this.api.parameters)},success:function(t){this.data.push(t),this.$emit("saved",t)},error:function(){this.$q.notify("Oops, something went wrong")}},computed:{getValidations:function(){var t={};return this.columns.forEach((function(e,n){t[e.field]=e.validations?e.validations:{}})),t},defaultYearMonth:function(){var t=Date.now();return o["b"].formatDate(t,"YYYY/MM")}},components:{},created:function(){},mounted:function(){console.log(this.columns)}},r=c,l=(n("c91c"),n("2be6")),u=n("e279"),d=n.n(u),p=n("34ff"),f=n("2ef0"),m=n("bc74"),h=n("6dd6"),b=n("3946"),g=n("8c18"),y=n("88af"),w=n("d538"),v=n("58c0"),x=Object(l["a"])(r,a,s,!1,null,"76c71ed9",null);e["default"]=x.exports;d()(x,"components",{QIcon:p["a"],QBtn:f["a"],QInput:m["a"],QBtnToggle:h["a"],QSelect:b["a"],QPopupProxy:g["a"],QDate:y["a"],QTime:w["a"]}),d()(x,"directives",{ClosePopup:v["a"]})},"5b0e":function(t,e,n){"use strict";var a=n("57a6"),s=n.n(a);s.a},"672a":function(t,e,n){},6884:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",{},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-8"},[n("h1",[t._v(" iSAMS Students ")]),n("crud",{ref:"crud",attrs:{dataOverride:t.misStudents,api:t.api,columns:t.columns,settings:t.settings,actions:t.actions,sortBy:"name",rowKey:"id",search:""}})],1),n("div",{staticClass:"col-4"},[n("div",{staticClass:"block border-accent q-ba-sm"},[n("div",{staticClass:"row"},[n("div",{attrs:{clsss:"col flex"}},[n("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"accent",readonly:"",label:"# MIS Students"},model:{value:t.stats.misStudentCount,callback:function(e){t.$set(t.stats,"misStudentCount",e)},expression:"stats.misStudentCount"}})],1),n("div",{staticClass:"col"},[n("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"accent",readonly:"",label:"# ADA Students"},model:{value:t.stats.adaStudentCount,callback:function(e){t.$set(t.stats,"adaStudentCount",e)},expression:"stats.adaStudentCount"}})],1)]),n("q-btn",{staticClass:"full-width q-mt-xl",attrs:{loading:t.loading,percentage:100*t.syncProgress,"dark-percentagex":"",outline:"",color:"accent","icon-rightx":"fal fa-sync fa-xs"},on:{click:t.syncStudents}},[t._v("\n           Sync\n          "),n("span",{attrs:{slot:"loading"},slot:"loading"},[n("q-spinner-gears",{staticClass:"on-left"}),t._v("\n            Computing...\n          ")],1)]),n("console",{staticStyle:{"min-height":"300px"}}),t.syncIsComplete&&!t.loading?n("div",[n("h1",[t._v("Summary")]),n("div",{attrs:{clsss:"row"}},[n("div",{staticClass:"col"},[n("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"accent",readonly:"",label:"New"},model:{value:t.results.new,callback:function(e){t.$set(t.results,"new",e)},expression:"results.new"}})],1)]),n("div",{staticClass:"row full-width"},[n("div",{staticClass:"col"},[n("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"accent",dark:"",readonly:"",label:"Updated"},model:{value:t.results.updated,callback:function(e){t.$set(t.results,"updated",e)},expression:"results.updated"}})],1)]),n("div",{staticClass:"row full-width"},[n("div",{staticClass:"col"},[n("q-input",{attrs:{type:"text",align:"left",suffix:"",color:"accent",dark:"",readonly:"",label:"Disabled"},model:{value:t.results.disabled,callback:function(e){t.$set(t.results,"disabled",e)},expression:"results.disabled"}})],1)])]):t._e()],1)])])])},s=[],o=(n("e125"),n("4823"),n("2e73"),n("dde3"),n("76d0"),n("0c1f"),n("8e9e")),i=n.n(o),c=n("9ce4"),r=n("5451"),l=n("d612"),u=n("dd14");function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f={name:"ComponentAdminSyncStudentSync",props:{},data:function(){return{id:"0",stats:{misStudentCount:0,adaStudentCount:0},misStudentCount:"",misStudents:[],columns:[{name:"id",label:"id",field:"id",type:"string",align:"left",hidden:!0},{name:"lastName",required:!0,label:"Name",align:"left",field:"txtSurname",sortable:!0},{name:"firstName",required:!0,label:"",align:"left",field:"txtForename",sortable:!0},{name:"gender",label:"M/F",field:"txtGender",align:"left",sortable:!0},{name:"house",label:"Hs",field:"txtBoardingHouse",align:"left",sortable:!0}],loading:!1,percentage:100,syncIsComplete:!1,results:[],channel:"lab.crud.basic"}},methods:p(p({},Object(c["b"])("sockets",["clearConsoleLog"])),{},{showMISStudents:function(t){this.misStudents=t.misStudents,this.stats=t.stats},syncStudents:function(){this.clearConsoleLog(),this.loading=!0,r["a"].postSyncStudents(this.syncComplete)},syncComplete:function(t){this.results=t,this.loading=!1,this.syncIsComplete=!0,this.percentage=0}}),computed:p(p({},Object(c["c"])("sockets",["progress"])),{},{syncProgress:function(){return this.progress("Admin/Sync/Students")}}),components:{Crud:l["a"],Console:u["a"]},created:function(){r["a"].getMISStudents(this.showMISStudents)}},m=f,h=(n("2c59"),n("2be6")),b=n("e279"),g=n.n(b),y=n("8c42"),w=n("bc74"),v=n("2ef0"),x=n("d1dc"),C=Object(h["a"])(m,a,s,!1,null,"ee77a5e8",null);e["a"]=C.exports;g()(C,"components",{QPage:y["a"],QInput:w["a"],QBtn:v["a"],QSpinnerGears:x["a"]})},7586:function(t,e,n){"use strict";var a=n("f182"),s=n.n(a);s.a},"7ba1":function(t,e,n){"use strict";var a=n("4778"),s=n("452d");e["a"]={getYearMetrics:function(t,e,n){var o=s["a"].getters["user/getGlobalSubject"];a["a"].get("/hod/"+o.id+"/metrics/year/"+n).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getClassMetrics:function(t,e,n){var o=s["a"].getters["user/getGlobalSubject"];a["a"].get("/hod/"+o.id+"/metrics/class/"+n).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getYearMLO:function(t,e,n,o){var i=s["a"].getters["user/getGlobalSubject"];a["a"].get("/hod/"+i.id+"/metrics/year/"+n+"/MLO/"+o).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getExamHistory:function(t,e,n,o){var i=s["a"].getters["user/getGlobalSubject"];a["a"].get("/hod/"+i.id+"/metrics/year/"+n+"/history/"+o).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))}}},"7f6e":function(t,e,n){},8009:function(t,e,n){"use strict";var a=n("e315"),s=n.n(a);s.a},"88cd":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qx-pa-md"},[n("div",{staticClass:"q-gutter-mdx row"},[t.hide&&!t.showSelect&&t.chip?n("q-chip",{staticClass:"q-ma-none",attrs:{label:t.subjectName,outline:"",square:"",sizex:"sm",color:"accent"},nativeOn:{click:function(e){t.showSelect=!0}}}):t._e(),t.subject&&!t.showSelect&&t.hide?t._e():n("q-select",{staticClass:"q-pt-sm",staticStyle:{"min-width":"300px"},attrs:{filled:"",dense:"","use-input":"","input-debounce":"0",label:"Subjects",options:t.options,clearablex:""},on:{filter:t.filterFn,input:t.selectChange},scopedSlots:t._u([{key:"no-option",fn:function(){return[n("q-item",[n("q-item-section",{staticClass:"text-grey"},[t._v("\n            No Subjects\n          ")])],1)]},proxy:!0}],null,!1,1778722682),model:{value:t.subject,callback:function(e){t.subject=e},expression:"subject"}})],1)])},s=[],o=(n("e125"),n("4823"),n("2e73"),n("dde3"),n("76d0"),n("0c1f"),n("288e"),n("c880"),n("8e9e")),i=n.n(o),c=n("9ce4"),r=n("4778"),l={getSubjectNames:function(t,e){r["a"].get("/subjects/names").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))}};function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var p={name:"Component.Dropdowns.Subjects",props:{optionsOverride:{type:Array,default:function(){return[]}},subjectStore:{type:String},hide:{type:Boolean,default:!1},chip:{type:Boolean,default:!1}},data:function(){return{subjects:[],filter:null,subjectOptions:[],options:[],subject:null,showSelect:!0}},methods:d(d({},Object(c["b"])("user",["setGlobalSubject"])),{},{selectChange:function(){this.showSelect=!1,this.setGlobalSubject(this.subject)},process:function(t){if(this.subjects=t,this.subjectOptions=t.map((function(t){return{value:t.name,label:t.name,name:t.name,code:t.code,id:t.id}})),this.options=this.subjectOptions,this.subjectStore){var e=this.$store.getters[this.subjectStore];this.subject=this.subjectOptions.find((function(t){return t.value===e.id}))}},filterFn:function(t,e){var n=this;e(""!==t?function(){var e=t.toLowerCase();n.options=n.subjectOptions.filter((function(t){return t.label.toLowerCase().indexOf(e)>-1}))}:function(){n.options=n.subjectOptions})}}),computed:d(d({},Object(c["c"])("user",["getGlobalSubject"])),{},{subjectName:function(){return this.subject?this.subject.name:""}}),watch:{subject:function(){this.$emit("change",{label:this.subject.name,value:this.subject.name,name:this.subject.name,code:this.subject.code,id:this.subject.id})}},components:{},created:function(){this.subject=this.getGlobalSubject,this.subject&&(this.showSelect=!1),l.getSubjectNames(this.process)}},f=p,m=(n("1bf8"),n("2be6")),h=n("e279"),b=n.n(h),g=n("2ef0"),y=n("4840"),w=n("3946"),v=n("ac9b"),x=n("66dc"),C=Object(m["a"])(f,a,s,!1,null,"10b03554",null);e["a"]=C.exports;b()(C,"components",{QBtn:g["a"],QChip:y["a"],QSelect:w["a"],QItem:v["a"],QItemSection:x["a"]})},"89cf":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.exams.length>1?n("div",{staticClass:"q-ma-xs q-ml-md",attrs:{exam:"row fitx full-widthx"}},[n("q-btn-toggle",{attrs:{spreadx:"","no-caps":"",dense:"",flat:"","toggle-color":"tertiary",color:"secondary","text-color":"font-secondary","toggle-text-color":"positive",options:t.examOptions},on:{input:t.change},model:{value:t.selectedExam,callback:function(e){t.selectedExam=e},expression:"selectedExam"}})],1):t._e()},s=[],o=(n("e125"),n("4823"),n("2e73"),n("dde3"),n("76d0"),n("0c1f"),n("288e"),n("8e9e")),i=n.n(o),c=n("268c"),r=n("9ce4");function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d={name:"Component.Home.Exams.ExamBar",props:{},data:function(){return{exams:[],selectedExam:null,subject:null,subjectId:null,year:null}},methods:u(u({},Object(r["d"])("hod",["setActiveExam"])),{},{process:function(t){this.exams=t,this.selectedExam=this.exams[0].id,this.$emit("loaded"),this.change()},change:function(){var t=this,e=this.exams.find((function(e){return e.id===t.selectedExam}));this.setActiveExam(e.id),this.$emit("change",e)},setExams:function(){this.subject=this.$store.getters["user/getGlobalSubject"],this.year=this.$store.getters["hod/activeYear"],this.subject&&this.year&&c["a"].getExams(this.process,this.$errorHandler,this.subject.id,this.year)}}),computed:{examOptions:function(){return this.exams.map((function(t){return{value:t.id,label:t.examName}}))}},components:{},created:function(){var t=this;this.subjectWatch=this.$store.watch((function(){return t.$store.getters["user/getGlobalSubject"]}),this.setExams),this.examWatch=this.$store.watch((function(){return t.$store.getters["hod/activeYear"]}),this.setExams),this.setExams()},beforeDestroy:function(){this.subjectWatch(),this.examWatch()}},p=d,f=(n("7586"),n("2be6")),m=n("e279"),h=n.n(m),b=n("6dd6"),g=Object(f["a"])(p,a,s,!1,null,"383b33d7",null);e["a"]=g.exports;h()(g,"components",{QBtnToggle:b["a"]})},"8b05":function(t,e,n){"use strict";var a=n("4778");e["a"]={getNames:function(t,e){a["a"].get("/students/names").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getDetails:function(t,e,n){a["a"].get("/students/details/"+n.id).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getTags:function(t,e){a["a"].get("/students/tags").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))}}},"8c68":function(t,e,n){},"8d9d":function(t,e,n){},"8e64":function(t,e,n){"use strict";var a=n("55da"),s=n.n(a);s.a},"91ba":function(t,e,n){"use strict";var a=n("8d9d"),s=n.n(a);s.a},"92d9":function(t,e,n){},"954f":function(t,e,n){},"972e":function(t,e,n){"use strict";var a=n("cca7"),s=n.n(a);s.a},"9d37":function(t,e,n){"use strict";var a=n("4778"),s=n("452d");e["a"]={getDeadlines:function(t,e,n){a["a"].get("/transport/sessions/deadlines/"+n).then((function(e){t(e.data)})).catch((function(t){t()}))},getSessions:function(t,e){a["a"].get("/transport/sessions").then((function(e){t(e.data)})).catch((function(t){t()}))},getSession:function(t,e,n){a["a"].get("/transport/sessions/"+n).then((function(e){t(e.data)})).catch((function(t){t()}))},activateSession:function(t,e,n){a["a"].post("/transport/sessions/activate/"+n).then((function(e){t(e.data)})).catch((function(t){t()}))},activateSessionFromCheckist:function(t,e,n){var o=s["a"].getters["transport/activeSession"];n=!0===n?1:0,a["a"].post("/transport/sessions/activate/checklist/"+o+"/"+n).then((function(e){t(e.data)})).catch((function(t){t()}))},deleteSession:function(t,e,n){a["a"].delete("/transport/sessions/"+n).then((function(e){t(e.data)})).catch((function(t){t()}))},putSession:function(t,e,n){a["a"].put("/transport/sessions",n).then((function(e){t(e.data)})).catch((function(t){t()}))},postSession:function(t,e,n){a["a"].post("/transport/sessions",n).then((function(e){t(e.data)})).catch((function(t){t()}))},postSelfService:function(t,e,n){var o=s["a"].getters["transport/activeSession"];a["a"].post("/transport/sessions/"+o+"/selfservice/"+n).then((function(e){t(e.data)})).catch((function(t){t(),e()}))}}},aba1:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.yearOptions.length>1?n("div",{attrs:{year:"row fitx full-width"}},[n("q-btn-toggle",{attrs:{spread:"","no-caps":"",dense:"","toggle-color":"tertiary",color:"secondary","text-color":"font-secondary","toggle-text-color":"accent",options:t.yearOptions,year:"full-width"},on:{input:t.change},model:{value:t.selectedYear,callback:function(e){t.selectedYear=e},expression:"selectedYear"}})],1):t._e()},s=[],o=(n("e125"),n("4823"),n("2e73"),n("dde3"),n("76d0"),n("0c1f"),n("c880"),n("288e"),n("8e9e")),i=n.n(o),c=n("268c"),r=n("9ce4");function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d={name:"Component.Home.Years.YearBar",props:{},data:function(){return{years:[],selectedYear:null,subjectId:null}},methods:u(u({},Object(r["d"])("hod",["setActiveYear"])),{},{process:function(t){this.years=t,this.selectedYear=this.years[0].id,this.$emit("loaded"),this.change()},change:function(){var t=this,e=this.years.find((function(e){return e.id===t.selectedYear}));this.setActiveYear(e.id),this.$emit("change",e)},setYears:function(){this.subject=this.$store.getters["user/getGlobalSubject"],this.subject&&c["a"].getYears(this.process,this.$errorHandler,this.subject.id)}}),computed:{yearOptions:function(){return this.years.map((function(t){return{value:t.id,label:t.name}}))}},components:{},created:function(){var t=this;this.$store.watch((function(){return t.$store.getters["user/getGlobalSubject"]}),this.setYears),this.setYears()}},p=d,f=(n("8e64"),n("2be6")),m=n("e279"),h=n.n(m),b=n("6dd6"),g=Object(f["a"])(p,a,s,!1,null,"3a426b30",null);e["a"]=g.exports;h()(g,"components",{QBtnToggle:b["a"]})},ad81:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-btn",t._b({staticClass:"q-pr-xs"},"q-btn",t.$props,!1),[t.tooltip?n("q-tooltip",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[t._v("\n     "+t._s(t.tooltip)+"\n   ")]):t._e(),n("q-popup-proxy",{ref:"popup"},[n("q-banner",{staticClass:"bg-tertiary text-font q-pt-md",staticStyle:{border:"1px solid grey"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit()}}},[n("q-input",{attrs:{label:t.title,type:t.type,autofocus:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"full-width highlight q-mt-md",attrs:{disabled:0===t.name.length,outline:"",label:"submit"},on:{click:function(e){return t.submit()}}})],1)],1)],1)},s=[],o=(n("c880"),{name:"Component.Buttons.New",props:{success:{type:Function,required:!0},size:{type:String,default:"xs"},outline:{type:Boolean,default:!0},color:{type:String,default:"accent"},dense:{type:Boolean,default:!0},icon:{type:String,default:"fal fa-plus"},label:{type:String,default:""},title:{type:String,default:"New"},type:{type:String,default:""},tooltip:{type:String}},data:function(){return{name:""}},methods:{submit:function(){0!==this.name.length&&(this.success(this.name),this.name="",this.$refs.popup.hide())}},computed:{},components:{},created:function(){}}),i=o,c=(n("d37d"),n("2be6")),r=n("e279"),l=n.n(r),u=n("2ef0"),d=n("3aaf"),p=n("8c18"),f=n("01a4"),m=n("bc74"),h=n("58c0"),b=Object(c["a"])(i,a,s,!1,null,"f4562b4a",null);e["a"]=b.exports;l()(b,"components",{QBtn:u["a"],QTooltip:d["a"],QPopupProxy:p["a"],QBanner:f["a"],QInput:m["a"]}),l()(b,"directives",{ClosePopup:h["a"]})},b0d4:function(t,e,n){"use strict";var a=n("7f6e"),s=n.n(a);s.a},b4d7:function(t,e,n){},c0f5:function(t,e,n){"use strict";var a=n("4778");e["a"]={getStudentNames:function(t,e){a["a"].get("/students/names").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getStudentList:function(t,e){a["a"].get("/students/list").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getStudentSubjects:function(t,e,n){a["a"].get("/students/profile/subjects/"+n).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))}}},c686:function(t,e,n){"use strict";var a=n("4778");e["a"]={getLogs:function(t,e,n){a["a"].get("/admin/logs").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getResources:function(t,e,n){a["a"].get("/admin/logs/resources").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getConnections:function(t,e,n){a["a"].get("/admin/logs/connections").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getAccessPages:function(t,e,n){a["a"].get("/admin/logs/access/pages").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))}}},c91c:function(t,e,n){"use strict";var a=n("d84f"),s=n.n(a);s.a},ca92:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("q-page",{staticClass:"no-scroll",style:t.$q.platform.is.desktop?"padding-top:40px":""},[n("q-toolbar",{staticClass:"bg-primary desktop-only"},[n("q-btn",{staticClass:"no-border glow hidden",attrs:{flat:"",round:"",dense:"",icon:t.icon,color:"accent"}}),t.selectStudent?n("students",{attrs:{studentStore:t.studentStore},on:{change:t.changeStudent}}):t._e(),t.selectSubject?n("subjects",{staticClass:"q-mb-xs",attrs:{hide:"",chip:""},on:{change:t.changeSubject}}):t._e(),n("q-tabs",{staticClass:"text-font-secondary q-pt-sm q-pl-sm",attrs:{"inline-label":"","active-color":"accent",dense:"",shrink:"","indicator-color":"primary",align:"left"},model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},t._l(t.routes,(function(e,a){return t.getPageAccess(t.module,e.page)?n("q-route-tab",{key:e.name,attrs:{default:1==a,name:e.page,icon:e.icon+" fa-mu",label:t.hideLabels?"":e.label,to:e.route,exact:""}},[t.hideLabels?n("q-tooltip",[t._v("\n            "+t._s(e.label)+"\n          ")]):t._e()],1):t._e()})),1),n("q-space"),t.settingsRoute?n("q-btn",{staticClass:"q-mr-sm",attrs:{icon:t.settingsIcon,"text-color":t.$router.currentRoute.path===t.settingsRoute?"accent":"font",unelevated:""},on:{click:function(e){return t.$router.push(t.settingsRoute)}}}):t._e(),t.options.length>0?n("q-select",{staticClass:"text-accent q-pt-xs q-pb-xs",staticStyle:{"min-width":"250px","max-width":"500px","margin-bottom":"0px","padding-bottom":"0px"},attrs:{options:t.options,hint:t.label,dense:"",filled:"","map-options":"",placeholder:t.placeholder,"input-style":"max-height:20px",filter:"","filter-placeholder":"search",color:t.globalInterface?"font":"warning"},model:{value:t.globalInterface,callback:function(e){t.globalInterface=e},expression:"globalInterface"}}):t._e()],1),n("router-view",{staticClass:"bg-secondary"})],1),n("q-footer",{staticClass:"bg-primary text-white mobile-only",attrs:{elevated:"",bordered:""}},[n("q-toolbar",[n("q-icon",{staticClass:"q-mr-md",attrs:{size:"md",color:"font-secondary",name:"menu"},on:{click:t.toggleMenu}}),n("q-tabs",{staticClass:"text-font-secondary",attrs:{"inline-label":"","active-color":"accent","indicator-color":"primary",dense:"",shrink:"",align:"left"},model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},t._l(t.routes,(function(e,a){return t.getPageAccess(t.module,e.page)?n("q-route-tab",{key:e.name,staticStyle:{width:"50px"},attrs:{default:1==a,name:e.page,icon:e.icon+" fa-mu",to:e.route,exact:""}}):t._e()})),1)],1)],1)],1)},s=[],o=(n("e125"),n("4823"),n("2e73"),n("dde3"),n("76d0"),n("0c1f"),n("8e9e")),i=n.n(o),c=n("0082"),r=n("88cd"),l=n("9ce4");function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var p={name:"ComponentModuleIndex",props:{selectStudent:{type:Boolean,default:!1},selectSubject:{type:Boolean,default:!1},studentStore:{type:String},settingsRoute:{default:null},settingsIcon:{type:String,default:"fal fa-cogs"},options:{type:Array,default:function(){return[]}},placeholder:{type:String,default:"Select"},label:{type:String,default:""},icon:{type:String,default:"fal fa-bomb"},module:{retured:!0,type:String},routes:{required:!0,type:Array,default:function(){return[{label:"Test",page:"test",icon:"fal fa-bug",route:""}]}},active:null,hideLabels:{type:Boolean,default:!0}},data:function(){return{currentTab:null,menuOpen:!1}},components:{Students:c["a"],Subjects:r["a"]},computed:d(d(d({},Object(l["e"])("user",["isDark","isLight"])),Object(l["c"])("user",["getPageAccess","getModuleColor"])),{},{globalInterface:{get:function(){return this.active},set:function(t){this.$emit("set",t)}}}),methods:d(d({},Object(l["b"])("user",["setPrimaryColor","toggleMenu"])),{},{changeStudent:function(t){this.$emit("changeStudent",t)},changeSubject:function(t){this.$emit("changeSubject",t)}}),mounted:function(){},created:function(){}},f=p,m=(n("8009"),n("2be6")),h=n("e279"),b=n.n(h),g=n("8c42"),y=n("eb05"),w=n("2ef0"),v=n("4776"),x=n("d3a4"),C=n("3aaf"),q=n("f962c"),S=n("3946"),k=n("c8ed"),_=n("34ff"),O=Object(m["a"])(f,a,s,!1,null,"77e37926",null);e["a"]=O.exports;b()(O,"components",{QPage:g["a"],QToolbar:y["a"],QBtn:w["a"],QTabs:v["a"],QRouteTab:x["a"],QTooltip:C["a"],QSpace:q["a"],QSelect:S["a"],QFooter:k["a"],QIcon:_["a"]})},cca7:function(t,e,n){},cfa74:function(t,e,n){"use strict";var a=n("5658"),s=n.n(a);s.a},d37d:function(t,e,n){"use strict";var a=n("ee9b"),s=n.n(a);s.a},d612:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row col crud-table no-shadow "},[n("q-splitter",{staticClass:"full-width",attrs:{"separator-class":t.seperatorClass,"separator-style":{width:"1px"},limits:t.splitterLimits,color:"accent"},scopedSlots:t._u([{key:"before",fn:function(){return[t.showTable?n("div",{staticClass:"col q-pr-sm no-shadow",style:[t.maxWidth>0?{"max-width":t.maxWidth+"px",margin:"auto"}:""]},[t.title.length>0&&!t.isPopup?n("div",{staticClass:"row text-accent q-py-xs q-px-sm uppercase"},[t._v(t._s(t.title))]):t._e(),n("q-table",{directives:[{name:"hotkey",rawName:"v-hotkey.once",value:{down:t.downTable,up:t.upTable},expression:"{'down': downTable, 'up': upTable}",modifiers:{once:!0}}],staticClass:"sticky-header-table no-shadow no-border bg-dark full-heightx scroll",staticStyle:{"border-collapse":"separate!important","border-top-color":"none"},attrs:{"virtual-scroll":"",gridx:t.$q.screen.lt.md,"table-stylex":"max-height: 80vh; height:100%","hide-header":t.hideHeader,data:t.filteredData,columns:t.columns,"row-key":t.rowKey,filter:t.searchTerm,"filter-method":t.searchFilter,dense:"",selection:t.multiselect?"multiple":"single",selected:t.selected,pagination:t.pagination,separator:t.separator,"hide-bottomx":t.modal,loading:t.loading},on:{"update:selected":function(e){t.selected=e},"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"top",fn:function(e){return t.search||t.filterbox||t.fullscreen||t.download||t.canNew?n("div",{staticClass:"row flex-center fit no-padding",staticStyle:{"min-height":"30px"}},[n("div",{staticClass:"row flex-center fit"},[t.canNew?n("q-btn",{staticClass:"text-positive new-button q-mr-md",attrs:{"icon-color":"positive",outline:"",icon:"fad fa-plus fa-xs",size:"md",dense:""},on:{click:t.triggerNewForm}}):t._e(),!0===t.filterbox?n("q-btn-dropdown",{staticClass:"q-mr-xs action q-text-accent",attrs:{labelx:"Filter",size:"sm",icon:"fad fa-filter fa-sm",color:"accent",unelevated:"",dense:""}},[n("q-list",{staticClass:"bg-primary"},t._l(t.columns,(function(e){return!0===!e.hidden&&"options"===e.type?n("q-expansion-item",{key:e.name,attrs:{group:"somegroup",icon:e.icon,label:e.name}},[n("div",{staticClass:"bd-font"},[n("q-list",{staticClass:"bg-primary bd-font",attrs:{link:""}},t._l(e.options,(function(a){return n("q-item",{key:a.value,attrs:{clickable:""},nativeOn:{click:function(n){return t.setFilter(e.field,a.value)}}},[n("q-item-section",[n("q-item-label",{staticClass:"text-grey"},[t._v(t._s(a.label))])],1)],1)})),1)],1)]):t._e()})),1)],1):t._e(),t.search?t._e():n("q-space"),t.search?n("q-input",{ref:"search",staticClass:"col q-mb-none",class:[!0===t.filterbox?"q-mx-xs":""],staticStyle:{"min-width":"200px"},attrs:{placeholder:"Search",clearable:"",dense:"",filled:"","hide-underlines":"",autofocus:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"fad fa-search"}})]},proxy:!0}],null,!0),model:{value:t.searchTerm,callback:function(e){t.searchTerm=e},expression:"searchTerm"}}):t._e(),n("div",{},[t.download?n("q-btn",{staticClass:"q-ml-md",attrs:{icon:"fad fa-download fa-xs",size:"sm",dense:"",flat:"",unelevated:"",loading:t.downloadLoading},on:{click:t.downloadData}}):t._e(),t.fullscreen?n("q-btn",{staticClass:"q-ml-md text-secondary",attrs:{flat:"",round:"",dense:"",icon:e.inFullscreen?"fullscreen_exit":"fullscreen"},on:{click:e.toggleFullscreen}}):t._e()],1)],1),n("div",{staticClass:"row full-width q-mt-xs"},[n("div",{staticClass:"col"},t._l(t.columns,(function(e){return"options"===e.type&&t.filters[e.field]&&t.filterchips?n("q-chip",{key:e.name,attrs:{"text-color":"font",iconx:"alarm",outline:"",dark:t.fadse,color:"font",dense:"",classx:"q-pa-sm",removable:""},on:{remove:function(n){t.filters[e.field]=null}}},[t._v("\n                      "+t._s(t.getOptions(e.options,t.filters[e.field]))+"\n                    ")]):t._e()})),1)])]):t._e()}},{key:"header",fn:function(e){return n("q-tr",{staticClass:"no-border",attrs:{props:e}},[t.indicator.length>0?n("q-th",{staticClass:"no-border no-padding",staticStyle:{background:"none","max-width":"5px",width:"5px!important",padding:"none",margin:"none"}}):t._e(),t.multiselect?n("q-th",{staticClass:"no-border",attrs:{"auto-width":""}},[e.multipleSelect?n("q-checkbox",{staticStyle:{"padding-left":"4px"},attrs:{dense:"","indeterminate-value":"some"},model:{value:e.selected,callback:function(n){t.$set(e,"selected",n)},expression:"props.selected"}}):t._e()],1):t._e(),t.expand&&t.details?n("q-th",{staticClass:"no-border",attrs:{"auto-width":""}}):t._e(),t._l(e.cols,(function(a){return!0===!a.hidden?n("q-th",{key:a.name,class:{"sticky-col sticky-col-head":a.sticky},staticStyle:{"text-align":"left"},attrs:{props:e}},["options"===a.type&&!0===a.filter?n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"no-border no-shadow",attrs:{icon:"fad fa-filter",size:"xs",dense:"",color:"accent",flat:"",unelevated:""},on:{click:function(t){t.stopPropagation()}}},[n("q-menu",{staticClass:"bg-primary",attrs:{dark:""}},[n("q-list",{attrs:{dense:"",link:""}},t._l(a.options,(function(e){return n("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],key:e.value,attrs:{clickable:"",sparse:""},nativeOn:{click:function(n){return t.setFilter(a.field,e.value)}}},[n("q-item-section",[n("q-item-label",{staticClass:"text-grey"},[t._v(t._s(e.label))])],1)],1)})),1)],1)],1):t._e(),t._v("\n                "+t._s(a.label)+"\n              ")],1):t._e()})),t.actions.length>0&&t.canAction||t.canDelete?n("q-th"):t._e()],2)}},{key:"top-row",fn:function(e){return t.selected.length>1?n("q-tr",{staticStyle:{height:"30px"}},[n("q-td",{staticClass:"bg-dark q-mt-md",staticStyle:{height:"30px"},attrs:{colspan:"100%"}},[n("q-btn",{staticClass:"action",attrs:{label:"delete",size:"md",dense:""}})],1)],1):t._e()}},{key:"body",fn:function(e){return[n("q-tr",{class:[!0===e.row[t.indicator]||1==e.row[t.indicator]?"indicatedRow":"normalRow",e.row[t.rowKey]===t.expandedRowId?"expanded":"",!0===t.selectIndicator&&!0===e.selected?"selectIndicator":null],attrs:{props:e},nativeOn:{click:function(n){return t.clickRow(e)}}},[t.indicator.length>0?n("q-td",{staticClass:"no-border no-padding",class:[!0===e.row[t.indicator]||"1"==e.row[t.indicator]?"indicatedCell":""],staticStyle:{"max-width":"10px",width:"10px!important",padding:"none",margin:"none"}}):t._e(),t.multiselect?n("q-td",{attrs:{"auto-width":""}}):t._e(),t.expand&&t.details?n("q-td",{attrs:{"auto-width":""}},[n("q-icon",{attrs:{name:e.row[t.rowKey]===t.expandedRowId?"fad fa-chevron-down":"fad fa-chevron-right"}})],1):t._e(),t._l(t.columns,(function(a,s){return!0===!a.hidden?n("q-td",{key:a.name,class:{"sticky-col":a.sticky},attrs:{props:e}},[n("div",{staticClass:"row",staticStyle:{"align-items":"center"}},[a.slotLeft?n("span",[n(a.slotLeft,{tag:"component",attrs:{columns:t.columns,row:e.row,data:t.data}})],1):t._e(),-1===s?n("q-btn",{staticClass:"no-border",attrs:{flat:"",round:"",dense:"",icon:"delete"},nativeOn:{click:function(n){return t.deleteItem(e.row.id)}}}):t._e(),!0===!a.hidden&&"badges"===a.type?n("span",t._l(e.row[a.field],(function(e){return n("q-badge",{key:e,staticClass:"q-mr-xs",attrs:{color:t.badgeColor(e,a),"text-color":t.badgeTextColor(e,a)}},[t._v("\n                        "+t._s(a.truncate?e.substring(0,1):e)+"\n                      ")])})),1):t._e(),!0===!a.hidden&&"badge"===a.type?n("span",[n("q-badge",{attrs:{color:t.badgeColor(e.row[a.field],a),"text-color":t.badgeTextColor(e.row[a.field],a)}},[t._v("\n                        "+t._s(a.truncate?e.row[a.field].substring(0,1):e.row[a.field])+"\n                      ")])],1):t._e(),!0===!a.hidden&&"options"===a.type?n("span",{staticClass:"inlineEdit full-width"},["options"===a.type&&!0===t.inlineEdit&&!0===t.canEdit?n("q-select",{attrs:{"map-options":"","emit-value":"",readonly:!a.editable,"hide-dropdown-icon":!a.editable,dense:"",borderless:"","popup-content-class":"bd-font",options:a.options,"hide-bottom-spacex":""},on:{input:function(n){return t.update(e.row[t.rowKey])}},model:{value:e.row[a.field],callback:function(n){t.$set(e.row,a.field,n)},expression:"props.row[column.field]"}}):t._e()],1):t._e(),!0!==a.editable||!0!==t.canEdit||!0!==t.inlineEdit||"date"!==a.type&&"datetime"!==a.type&&"time"!==a.type?t._e():n("q-btn",{staticClass:"no-shadow q-mr-xs",attrs:{"text-color":"accent",flat:"",dense:"",icon:"time"===a.type?"fad fa-clock fa-xs":"fad fa-calendar fa-xs",size:"8px"}},[n("q-popup-proxy",{staticClass:"bg-primary"},[n("div",{staticClass:"bg-primary bd-font row no-padding no-margin"},["date"===a.type||"datetime"===a.type?n("div",{staticClass:"col q-pb-md bd-font"},[n("q-date",{staticClass:"row",attrs:{color:"font-secondary",mask:"datetime"===a.type?"DD-MM-YYYY HH:mm":"DD-MM-YYYY","text-color":"font",dark:"",flat:"",minimal:""},on:{input:function(n){return t.update(e.row[t.rowKey])}},model:{value:e.row[a.field],callback:function(n){t.$set(e.row,a.field,n)},expression:"props.row[column.field]"}}),n("div",{staticClass:"row q-mt-md"},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col q-ml-md q-mr-xs",attrs:{flatx:"",outline:"",color:"accent","text-color":"accent",label:"clear"},on:{click:function(){e.row[a.field]=null,t.update(e.row[t.rowKey])}}}),n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col q-ml-xs q-mr-md",attrs:{outlinex:"",color:"accent","text-color":"dark",label:"save"}})],1)],1):t._e(),"time"===a.type||"datetime"===a.type?n("div",{staticClass:"col no-padding no-margin"},[n("q-time",{attrs:{mask:"DD-MM-YYYY HH:mm",format24h:"",color:"grey-8","text-color":"font",borderedx:"",minimal:"",flat:""},on:{input:function(n){return t.update(e.row[t.rowKey])}},model:{value:e.row[a.field],callback:function(n){t.$set(e.row,a.field,n)},expression:"props.row[column.field]"}}),"time"===a.type?n("div",{staticClass:"row q-my-md"},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col q-ml-md q-mr-xs",attrs:{flatx:"",outline:"",color:"accent","text-color":"accent",label:"clear"},on:{click:function(){e.row[a.field]=null,t.update(e.row[t.rowKey])}}}),n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col q-ml-xs q-mr-md",attrs:{outlinex:"",color:"accent","text-color":"dark",label:"save"}})],1):t._e()],1):t._e()])])],1),!0===a.editable&&!0===t.canEdit&&!0===t.inlineEdit&&"date"!==a.type&&"time"!==a.type&&"datetime"!==a.type&&"options"!==a.type?n("span",[n("q-btn",{staticClass:"no-border no-shadow q-mr-xsx",attrs:{icon:"fad fa-pen-square","text-color":"accent",size:"9px",flat:""}},[!0===a.editable&&!0===t.inlineEdit?n("q-popup-edit",{staticClass:"bg-primary",attrs:{color:"positive",title:a.label,buttons:"","content-class":"bg-primary bd-font text-font capitalize",dark:"","label-set":"Save"},on:{save:function(n){return t.update(e.row[t.rowKey])}},model:{value:e.row[a.field],callback:function(n){t.$set(e.row,a.field,n)},expression:"props.row[column.field]"}},["string"===a.type?n("q-input",{attrs:{filled:"","hide-bottom-space":"",borderless:"",autofocus:"",type:"text"},on:{inputx:function(n){return t.update(e.row[t.rowKey])}},model:{value:e.row[a.field],callback:function(n){t.$set(e.row,a.field,n)},expression:"props.row[column.field]"}}):t._e(),"number"===a.type?n("q-input",{attrs:{filled:"","hide-bottom-space":"",borderless:"",autofocus:"",type:"number"},on:{inputx:function(n){return t.update(e.row[t.rowKey])}},model:{value:e.row[a.field],callback:function(n){t.$set(e.row,a.field,n)},expression:"props.row[column.field]"}}):t._e(),"options"===a.type?n("q-select",{attrs:{"map-options":"",autofocus:"",options:a.options,"emit-value":""},on:{input:function(n){return t.update(e.row[t.rowKey])}},model:{value:e.row[a.field],callback:function(n){t.$set(e.row,a.field,n)},expression:"props.row[column.field]"}}):t._e()],1):t._e()],1)],1):t._e(),n("div",{staticClass:"col text-left",staticStyle:{overflow:"hidden"}},[!0!==!a.hidden||"string"!==a.type&&"number"!==a.type&&a.type?t._e():n("span",{staticClass:"ellipsis"},[t._v("\n                      "+t._s(e.row[a.field])+"\n                    ")]),!0!==!a.hidden||"date"!==a.type&&"time"!==a.type&&"datetime"!==a.type?t._e():n("span",[t._v(t._s(e.row[a.field]))])]),a.slotRight?n("span",[n(a.slotRight,{tag:"component",attrs:{columns:t.columns,row:e.row,data:t.data}})],1):t._e()],1)]):t._e()})),t.actions.length>0&&t.canAction||t.canDelete?n("q-td",{on:{click:function(t){t.stopPropagation()}}},[t.actions.length>0&&t.canAction||t.canDelete?n("q-btn",{staticClass:"no-border no-shadow",staticStyle:{},attrs:{icon:"fad fa-ellipsis-v",flat:"",dense:"",size:"10px","text-color":"accent"}}):t._e(),n("q-menu",{staticClass:"bg-grey",staticStyle:{"min-width":"300px"},attrs:{"content-style":'{min-width:"200px"}',"auto-close":""}},[n("q-list",{staticClass:"bg-primary text-accent q-py-xs",staticStyle:{"min-width":"150px"},attrs:{dark:""}},[t._l(t.actions,(function(a){return n("q-item",{key:a.name,staticClass:"q-mb-sm",attrs:{link:"",clickable:""},nativeOn:{click:function(n){return t.sendAction(a.event,e.row)}}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{staticClass:"text-accent",class:[a.icon?a.icon:""]})],1),n("q-item-section",[t._v("\n                            "+t._s(a.title)+"\n                          ")])],1)})),!0===t.canDelete?n("q-item",{attrs:{clickable:""},nativeOn:{click:function(n){return t.deleteRow(e.row)}}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{staticClass:"q-mr-sm text-red",attrs:{size:"lg",name:"fad fa-trash fa-menu"}})],1),n("q-item-section",[t._v("Delete")])],1):t._e()],2)],1)],1):t._e()],2),t.expand&&t.details?n("q-tr",{directives:[{name:"show",rawName:"v-show",value:e.row[t.rowKey]===t.expandedRowId,expression:"props.row[rowKey] === expandedRowId"}],class:[!0===e.row[t.indicator]?"indicatedRow":"normalRow",e.row[t.rowKey]===t.expandedRowId?"expanded":""],attrs:{props:e}},[n("q-td",{attrs:{colspan:"100%"}},[t._t("details",[n("details-row",{attrs:{canEdit:t.canEdit,columns:t.columns,selectedRow:e.row}})],{selectedRow:e.row})],2)],1):t._e()]}},{key:t.modal?"bottom":"pagination",fn:function(e){return t.hidePagination?t._e():n("div",{staticClass:"row flex-center q-py-sm"},[n("div",{staticClass:"row col flex-center"},[n("q-btn",{staticClass:"q-mr-sm no-shadow",attrs:{round:"",dense:"",size:"sm",icon:"undo",color:"","text-color":"accent",disable:e.isFirstPage},on:{click:e.prevPage}}),n("div",{staticClass:"q-mr-sm",staticStyle:{"font-size":"small"}},[t._v("Page "+t._s(e.pagination.page)+" / "+t._s(e.pagesNumber))]),n("q-btn",{staticClass:"no-shadow",attrs:{round:"",dense:"",size:"sm",icon:"redo",color:"","text-color":"accent",disable:e.isLastPage},on:{click:e.nextPage}})],1)])}}],null,!0)})],1):t._e()]},proxy:!0},t.showSidebar?{key:"after",fn:function(){return[t.showSidebar?n("div",{staticClass:"q-ml-sm",class:[t.sidebarWidth&&t.showTable?"col-"+t.sidebarWidth:"col"]},[n("q-tabs",{staticClass:"bg-toolbar text-white narrow no-border no-shadow",attrs:{dense:"",shrink:"",animated:"",swipeable:"",align:"justify","indicator-color":"accent"},model:{value:t.selectedSbComponent,callback:function(e){t.selectedSbComponent=e},expression:"selectedSbComponent"}},[t.tablehide?n("q-btn",{staticClass:"text-accent q-px-md no-shadow",attrs:{icon:t.showTable?"fad fa-arrow-left fa-xs":"fad fa-arrow-right fa-xs",dense:"",name:"details"},nativeOn:{click:function(e){t.showTable=!t.showTable}}}):t._e(),!0===t.details&&!1===t.expand?n("q-tab",{attrs:{name:"details",label:"Details"}}):t._e(),t._l(t.sidebarComponents,(function(t){return n("q-tab",{key:t.name,attrs:{name:t.name,label:t.title}})}))],2),n("q-tab-panels",{staticClass:"full-height",attrs:{"keep-alive":""},model:{value:t.selectedSbComponent,callback:function(e){t.selectedSbComponent=e},expression:"selectedSbComponent"}},[n("q-tab-panel",{staticClass:"no-border no-shadow full-height",attrs:{name:"details"}},[t._t("details",[n("details-panel",{attrs:{columns:t.columns,selectedRow:t.selectedRow}})],{selectedRow:t.selectedRow,columns:t.columns,data:t.data})],2),t._l(t.sidebarComponents,(function(e){return n("q-tab-panel",{key:e.name,attrs:{name:e.name}},[n(e.component,{key:e.name,tag:"component",attrs:{columns:t.columns,selectedRow:t.selectedRow,data:t.data}})],1)}))],2)],1):t._e()]},proxy:!0}:null],null,!0),model:{value:t.splitterModel,callback:function(e){t.splitterModel=e},expression:"splitterModel"}}),n("q-dialog",{ref:"new",attrs:{"content-classes":"new-modal bg-dark q-pa-md",persistent:"","transition-show":"scale","transition-hide":"scale"},on:{show:t.newFormFocus},model:{value:t.showNewForm,callback:function(e){t.showNewForm=e},expression:"showNewForm"}},[n("q-card",{staticClass:"bg-grey-9",attrs:{dark:""}},[n("q-toolbar",[n("q-toolbar-title",[t._v("New")]),n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",dense:"",icon:"close"}})],1),n("q-card-section",{key:t.newComponentKey},[n(t.insertComponent,{key:t.newComponentKey,tag:"component",attrs:{rowKey:t.rowKey,columns:t.columns,api:t.api,data:t.data},on:{saved:t.saved,close:function(e){t.showNewForm=!1}}})],1)],1)],1)],1)},s=[],o=(n("e125"),n("4823"),n("c880"),n("0c1f"),n("8e9e")),i=n.n(o),c=(n("06ef"),n("3cc3")),r=n.n(c),l=(n("2e73"),n("dde3"),n("76d0"),n("0e20"),n("0e30"),n("288e"),n("ce9c"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.selectedRow?n("div",{staticClass:"row"},t._l(t.columns,(function(e){return n("div",{key:e.field,staticClass:"col-12"},["string"===e.type&&!0===!e.hidden?n("q-input",{attrs:{type:"text",dark:t.dark,"stack-label":e.label},model:{value:t.selectedRow[e.field],callback:function(n){t.$set(t.selectedRow,e.field,n)},expression:"selectedRow[column.field]"}}):t._e(),"number"===e.type&&!0===!e.hidden?n("q-input",{attrs:{type:"number",dark:t.dark,"stack-label":e.label},model:{value:t.selectedRow[e.field],callback:function(n){t.$set(t.selectedRow,e.field,n)},expression:"selectedRow[column.field]"}}):t._e(),"options"===e.type&&!0===!e.hidden?n("q-select",{attrs:{options:e.options,"map-options":"",dark:t.dark,"stack-label":e.label},model:{value:t.selectedRow[e.field],callback:function(n){t.$set(t.selectedRow,e.field,n)},expression:"selectedRow[column.field]"}}):t._e()],1)})),0):t._e()}),u=[],d={name:"ComponentCrudDetails",props:{columns:{required:!0,type:Array},selectedRow:{required:!0}},data:function(){return{dark:!0}},methods:{},computed:{},components:{},created:function(){}},p=d,f=(n("27da"),n("2be6")),m=n("e279"),h=n.n(m),b=n("bc74"),g=n("3946"),y=Object(f["a"])(p,l,u,!1,null,"7ab01de1",null),w=y.exports;h()(y,"components",{QInput:b["a"],QSelect:g["a"]});var v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.selectedRow?n("div",{staticClass:"row content-start q-my-md"},t._l(t.columns,(function(e){return!0===e.hidden?n("div",{key:e.field,staticClass:"col block content-start q-mr-sm"},["string"===e.type?n("q-input",{attrs:{type:"text",dark:t.dark,label:e.label,"stack-label":"",readonly:!t.canEdit&&!e.editable},model:{value:t.selectedRow[e.field],callback:function(n){t.$set(t.selectedRow,e.field,n)},expression:"selectedRow[column.field]"}}):t._e(),"number"===e.type?n("q-input",{attrs:{type:"number",dark:t.dark,label:e.label,"stack-label":"",readonly:!t.canEdit&&!e.editable},model:{value:t.selectedRow[e.field],callback:function(n){t.$set(t.selectedRow,e.field,n)},expression:"selectedRow[column.field]"}}):t._e(),"options"===e.type&&!0===e.editable&&!0===t.canEdit?n("q-select",{attrs:{"map-options":"",options:e.options,dark:t.dark,"stack-label":e.label,readonly:!t.canEdit&&!e.editable},model:{value:t.selectedRow[e.field],callback:function(n){t.$set(t.selectedRow,e.field,n)},expression:"selectedRow[column.field]"}}):t._e(),"text"===e.type&&!0===e.editable&&!0===t.canEdit?n("q-input",{attrs:{label:e.label,"stack-label":"",dark:t.dark,type:"textarea",autofocus:"",counter:"",readonly:!t.canEdit&&!e.editable},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.stopPropagation()}},model:{value:t.selectedRow[e.field],callback:function(n){t.$set(t.selectedRow,e.field,n)},expression:"selectedRow[column.field]"}}):t._e()],1):t._e()})),0):t._e()},x=[],C={name:"ComponentCrudDetails",props:{columns:{required:!0,type:Array},selectedRow:{required:!0},canEdit:{required:!0,type:Boolean}},data:function(){return{dark:!0}},methods:{},computed:{},components:{},created:function(){}},q=C,S=(n("510c"),Object(f["a"])(q,v,x,!1,null,"463ce00c",null)),k=S.exports;h()(S,"components",{QInput:b["a"],QSelect:g["a"]});var _=n("5a18"),O=n("9869"),j=n("c005"),R=n.n(j),P=n("9ce4"),$=n("4778");function Q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Q(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var E={name:"ComponentCRUD",props:{columns:{required:!0,type:Array},isPopup:{type:Boolean,default:!1},detailedView:{default:!0,type:Boolean},title:{default:"",type:String},api:{required:!1,type:Object,default:function(){return{get:null,parameters:{},getSingle:null,put:null,post:null,delete:null}}},actions:{type:Array,default:function(){return[]}},search:{type:Boolean,default:!1},sortBy:{type:String,default:"id"},reverse:{type:Boolean,default:!1},rowsPerPage:{default:0},rowKey:{type:String,default:"id"},multiselect:{type:Boolean,default:!1},expand:{type:Boolean,default:!1},inlineEdit:{type:Boolean,default:!1},hideHeader:{type:Boolean,default:!1},details:{type:Boolean,default:!1},newtab:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},readOnly:{type:Boolean,default:!1},filterbox:{type:Boolean,default:!1},filterchips:{type:Boolean,default:!1},hidePagination:{type:Boolean,default:!0},sidebarComponents:{type:Array,default:function(){return[]}},newComponent:{},canNew:{type:Boolean,default:!1},canEdit:{type:Boolean,default:!1},canDelete:{type:Boolean,default:!1},canAction:{type:Boolean,default:!0},indicator:{type:String,default:""},selectIndicator:{type:Boolean,default:!0},sidebarWidth:{},tablehide:{default:!1},download:{type:Boolean,default:!1},modal:{type:Boolean,default:!1},maxWidth:{type:Number,default:0},dataOverride:{type:Array},channel:{type:String,default:""},selfPublish:{type:Boolean,default:!1}},data:function(){return{data:[],dark:!0,loading:!1,downloadLoading:!1,selected:[],selectedRow:null,newRow:[],searchTerm:null,filters:{},separator:"cell",expandedRowId:null,showNewForm:!1,rowIndex:null,newComponentKey:1,showTable:!0,pagination:{page:1,descending:this.reverse,sortBy:!1===this.sortBy?null:this.sortBy,rowsPerPage:100},wampSubscription:null,selectedSbComponent:null,splitterModel:100}},methods:{downloadData:function(){var t=this;if(!0!==this.downloadLoading){this.downloadLoading=!0;var e={columns:this.columns,data:this.filteredData};$["a"].post("/tools/crud/sheet",e).then((function(e){t.$downloadBlob(e.data.url,e.data.file),t.downloadLoading=!1})).catch((function(e){t.downloadLoading=!1,t.errorHandler(e)}))}},badgeColor:function(t,e){if(e.colors){var n=e.colors.find((function(e){return e.label.toLowerCase()===t.toLowerCase()}));if(n)return n.color}return e.color?e.color:"accent"},badgeTextColor:function(t,e){if(e.colors){var n=e.colors.find((function(e){return e.label.toLowerCase()===t.toLowerCase()}));if(n)return n.textColor}return e.textColor?e.textColor:"black"},publish:function(t){this.$wamp.publish(this.channel,[],{id:t},{exclude_me:!this.selfPublish})},newFormFocus:function(){},saved:function(t){if(this.newComponentKey+=1,this.showNewForm=!1,t){var e=t[this.rowKey];this.publish(e),this.$emit("new",e),this.$emit("change",e)}else this.get(),this.publish()},get:function(t){var e=this;if(t){if(this.api.parameters||(this.api.parameters={}),this.api.parameters[this.rowKey]=t,this.api.getSingle||console.warn(this.channel,"Getsingle Not Set"),!this.api.getSingle)return void this.get();this.api.getSingle((function(n){if(n.length>0){var a=e.filteredData.findIndex((function(n){return n[e.rowKey]===t}));a>-1?(Object.entries(n[0]).forEach((function(t){var s=r()(t,2),o=s[0];s[1];e.data[a][o]=n[0][o]})),e.$emit("update",t,n),e.$emit("change",t,n)):(e.data.push(n[0]),e.$emit("new",t,n),e.$emit("change",t,n))}else e.data=e.data.filter((function(n){return n[e.rowKey]!==t})),e.$emit("delete",t),e.$emit("change",t)}),null,this.api.parameters)}else this.api.get((function(t){e.loading=!1,e.data=t}),null,this.api.parameters)},deleteRow:function(t){var e=this;this.$q.dialog({title:"Confirm Delete",message:"This action cannot be undone",ok:"DELETE",cancel:"Cancel",color:"dark"}).onOk((function(){e.api.delete((function(n){e.data=e.data.filter((function(n){return n[e.rowKey]!==t[e.rowKey]})),e.$emit("delete",n,t),e.$emit("change",n,t),e.publish(t[e.rowKey]),e.$q.notify({message:"Success",position:"top"})}),e.error,t[e.rowKey],e.api.parameters)})).onCancel((function(){e.$q.notify({message:"Cancelled",position:"top"})}))},error:function(){this.$q.notify({message:"Oops. Something went wrong",position:"top"})},update:function(t){var e=this,n=this.filteredData.find((function(n){return n[e.rowKey]===t}));this.api.put((function(){e.channel?e.publish(t):console.warn("Wamp Channel Not Set"),e.$emit("update",t,n),e.$emit("change",t,n)}),this.error,n,this.api.parameters)},create:function(){},getOptions:function(t,e){if(!t)return"";var n=t.find((function(t){return t.value===e}));return n?n.label:void 0},clickRow:function(t){t.selected=!t.selected,this.selectedRow=t.row,t.expand=!t.expand,this.expandedRowId=this.expandedRowId===t.row[this.rowKey]?null:t.row[this.rowKey],this.$emit("clickedRow",t.row[this.rowKey])},searchFilter:function(t,e,n,a){var s=this,o=e?e.toLowerCase():"";return t.filter((function(t){return n.some((function(e){var n="options"===e.type?s.getOptions(e.options,t[e.field]):a(e,t);return-1!==(n+"").toLowerCase().indexOf(o)}))}))},setFilter:function(t,e){this.filters[t]?this.filters[t]=e:O["a"].set(this.filters,t,e)},focusSearch:function(t){this.$refs.search.focus(),this.$refs.search.val="",t&&t.preventDefault()},moveRowIndex:function(t){var e=this.filteredData[t];this.selectedRow=e,this.expandedRowId=this.expandedRowId===e[this.rowKey]?null:e[this.rowKey],this.rowIndex=t},downTable:function(t){var e=null===this.rowIndex?0:++this.rowIndex;e===this.filteredData.length&&(e=0),this.moveRowIndex(e),t.preventDefault()},upTable:function(t){var e=null===this.rowIndex?this.data.length-1:--this.rowIndex;-1===e&&(e=this.filteredData.length-1),this.moveRowIndex(e),t.preventDefault()},triggerNewForm:function(){this.showNewForm=!0},sendAction:function(t,e){this.$emit(t,e)}},computed:I(I({},Object(P["e"])("user",["isDark","isLight"])),{},{insertComponent:function(){var t=null;return t=this.newComponent?this.newComponent:function(){return Promise.resolve().then(n.bind(null,"5a18"))},t},filteredData:function(){var t=this,e=this.dataOverride?this.dataOverride:this.data,n=!0,a=e.filter((function(e){for(var a=0,s=Object.keys(t.filters);a<s.length;a++){var o=s[a];if(null!==t.filters[o]&&(n=!1,e[o]!==t.filters[o]))return!1}return!0}));return n?e:a},showSidebar:function(){return!1===this.expand&&!0===this.details||this.sidebarComponents.length>0},seperatorClass:function(){return this.showSidebar?"bg-font":"hidden"},splitterLimits:function(){return this.showSidebar?[10,90]:[0,100]}}),watch:{api:function(){this.get()},selected:function(){this.$emit("selected",this.selected)}},components:{detailsPanel:w,detailsRow:k,insert:_["default"]},created:function(){this.showSidebar&&(this.splitterModel=this.sidebarWidth?this.sidebarWidth:100),this.columns.forEach((function(t){t.align||t.type&&"string"!==t.type||(t.align="left")}))},mounted:function(){O["a"].use(R.a),this.loading=!0,this.dataOverride?this.loading=!1:this.get(),this.selectedSbComponent=!0===this.details&&!1===this.expand||0===this.sidebarComponents.length?"details":this.sidebarComponents[0].name,this.pagination.rowsPerPage=!0===this.modal?10:1e3,this.rowsPerPage&&(this.pagination.rowsPerPage=this.rowsPerPage),this.pagination.sortBy=this.sortBy,this.pagination.rowsPerPage=this.rowsPerPage,this.pagination.descending=this.reverse,this.channel.length>0&&(this.wamp=this.$wamp.subscribe(this.channel,(function(t,e,n){this.get(e[this.rowKey])}),{acknowledge:!0}).then((function(t){this.wampSubscription=t}))),this.focusSearch()},beforeDestroy:function(){this.wampSubscription&&this.$wamp.unsubscribe(this.wampSubscription)}},D=E,T=(n("3c62"),n("bc4f")),N=n("18f0"),B=n("2ef0"),L=n("5f53"),Y=n("6c93"),M=n("0f3b"),A=n("ac9b"),z=n("66dc"),F=n("7d9a"),H=n("f962c"),K=n("34ff"),G=n("4840"),W=n("41c9"),V=n("c462"),U=n("851c"),X=n("6a2f"),J=n("b74b"),Z=n("f987"),tt=n("8c18"),et=n("88af"),nt=n("d538"),at=n("d200"),st=n("4776"),ot=n("dd08"),it=n("1411"),ct=n("1d98"),rt=n("e81c"),lt=n("ebe6"),ut=n("eb05"),dt=n("f85a"),pt=n("965d"),ft=n("dfd0"),mt=n("b693"),ht=n("58c0"),bt=Object(f["a"])(D,a,s,!1,null,"5e1cf190",null);e["a"]=bt.exports;h()(bt,"components",{QSplitter:T["a"],QTable:N["a"],QBtn:B["a"],QBtnDropdown:L["a"],QList:Y["a"],QExpansionItem:M["a"],QItem:A["a"],QItemSection:z["a"],QItemLabel:F["a"],QSpace:H["a"],QInput:b["a"],QIcon:K["a"],QChip:G["a"],QTr:W["a"],QTh:V["a"],QCheckbox:U["a"],QMenu:X["a"],QTd:J["a"],QBadge:Z["a"],QSelect:g["a"],QPopupProxy:tt["a"],QDate:et["a"],QTime:nt["a"],QPopupEdit:at["a"],QTabs:st["a"],QTab:ot["a"],QTabPanels:it["a"],QTabPanel:ct["a"],QDialog:rt["a"],QCard:lt["a"],QToolbar:ut["a"],QToolbarTitle:dt["a"],QCardSection:pt["a"],QColor:ft["a"],QField:mt["a"]}),h()(bt,"directives",{ClosePopup:ht["a"]})},d84f:function(t,e,n){},dd14:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"console q-ma-md q-pb-xl",attrs:{stylex:"overflow-y:hidden"}},[n("p",{staticClass:"q-ma-sm"},[t._v("Console")]),n("ul",{ref:"scroll",staticClass:"flex-column",staticStyle:{"overflow-y":"scroll","maxx-height":"200px"}},[t._l(t.consoleLog,(function(e){return n("li",{key:e.lineIndex,class:{error:e.isError,indent1:1==e.indent,indent2:2==e.indent,indent3:3==e.indent}},[t._v("\n        "+t._s(e.message)+"\n      ")])})),n("li",{ref:"bottom",staticStyle:{height:"100px"}})],2)])},s=[],o=(n("e125"),n("4823"),n("2e73"),n("dde3"),n("76d0"),n("0c1f"),n("8e9e")),i=n.n(o),c=n("9ce4");function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var u={name:"AppConsole",data:function(){return{}},methods:{scroll:function(){}},computed:l({},Object(c["c"])("sockets",["consoleLog"])),watch:{consoleLog:function(){this.scroll()}}},d=u,p=(n("972e"),n("2be6")),f=n("e279"),m=n.n(f),h=n("26a8"),b=n("dfd0"),g=Object(p["a"])(d,a,s,!1,null,"447f21de",null);e["a"]=g.exports;m()(g,"components",{QScrollArea:h["a"],QColor:b["a"]})},de53:function(t,e,n){"use strict";var a=n("4778");e["a"]={getSessions:function(t,e){a["a"].get("/exams/sessions").then((function(e){t(e.data)})).catch((function(t){t()}))},getSession:function(t,e,n){console.log(n),a["a"].get("/exams/"+n.level+"/results/"+n.sessionID).then((function(e){console.log(e.data),t(e.data)})).catch((function(t){console.log("error",t),e(t)}))},getSessionCache:function(t,e,n){console.log(n),a["a"].get("/exams/cache/"+n.level+"/results/"+n.sessionID).then((function(e){console.log(e.data.statistics),t(e.data)})).catch((function(t){console.log("error",t),e(t)}))}}},e315:function(t,e,n){},e5ab:function(t,e,n){},eaa3b:function(t,e,n){"use strict";var a=n("672a"),s=n.n(a);s.a},ee9b:function(t,e,n){},f182:function(t,e,n){},f3c0:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row full-height full-width q-pa-md"},[n("div",{staticClass:"col q-mr-lg"},[n("div",{staticClass:"row justify-start items-start content-start",staticStyle:{height:"70px"}},[n("div",{staticClass:"qx-mb-xl row wrap justify-start items-start content-start full-width full-height",staticStyle:{"max-height":"60px"}},t._l(t.connections,(function(e){return n("div",{key:e.label,staticClass:"col-3 q-pa-xs"},[n("q-badge",{staticClass:"text-center full-width",staticStyle:{height:"50px"},attrs:{outline:e.value,color:e.value?"font":"warning"}},[n("span",{staticClass:"full-width text-center text-bold capitalize"},[t._v(t._s(e.label))])])],1)})),0),n("div",{staticClass:"row full-width q-my-md"},[n("q-linear-progress",{attrs:{size:"25px",value:.01*t.resources.disk.percentage,color:"accent","track-color":"tertiary"}})],1)]),n("div",{staticClass:"row full-height",attrs:{stylex:"margin-top:-40px"}},[n("q-scroll-area",{staticClass:"full-width full-height",attrs:{stylex:"height:60vh"}},[n("div",{staticClass:"q-pa-md"},[n("q-markup-table",{staticClass:"text-white no-shadow",attrs:{dense:""}},[n("tbody",t._l(t.logs.slice().reverse(),(function(e){return n("tr",{key:e.id,class:t.logColor(e),staticStyle:{border:"none"}},[n("td",{staticClass:"text-left text-font-secondary",staticStyle:{width:"150px","border-bottom-width":"0px","font-size":"12px"}},[t._v(t._s(e.time))]),n("td",{staticClass:"text-left text-font",staticStyle:{"border-bottom-width":"0px","font-size":"12px"}},["WARNING"===e.level?n("q-icon",{staticClass:"q-mr-sm",attrs:{color:"warning",size:"sm",name:"fa fa-exclamation-square"}}):t._e(),t._v("\n                  "+t._s(e.message)+"\n                ")],1)])})),0)])],1)])],1)]),n("div",{staticClass:"col-3"},[n("q-bar",{staticClass:"bg-secondary text-accent text-h5 q-mt-sm"},[t._v("CPU "),n("q-space"),t.$q.fullscreen.isCapable?n("q-btn",{staticClass:"no-border q-mr-sm no-shadow",attrs:{color:"dark",icon:"fad fa-arrows-alt",flat:"",size:"sm",round:""},on:{click:function(e){return t.$q.fullscreen.toggle()}}}):t._e()],1),n("div",{staticClass:"row full-width"},t._l(t.resources.cores,(function(e){return n("q-circular-progress",{key:e.id,staticClass:"q-ma-md text-accent col text-center",attrs:{"show-value":"","font-size":"10px",indeterminate:t.indeterminate,value:100-e.idle,size:"100px",color:"accent","track-color":"tertiary"}},[t._v("\n      "+t._s(100-Math.round(e.idle))+"%\n      ")])})),1),n("div",{staticClass:"full-width text-center"},[n("q-circular-progress",{staticClass:"q-ma-md text-accent",attrs:{"show-value":"","font-size":"31px",indeterminate:t.indeterminate,value:100-t.resources.cpuIdle,size:"200px",color:"accent","track-color":"tertiary"}},[t._v("\n      "+t._s(100-Math.round(t.resources.cpuIdle))+"%\n      ")]),n("div",{ref:"cpuhistory",staticClass:"full-width",attrs:{id:"cpuhistory"}})],1),n("q-bar",{staticClass:"q-mt-sm text-accent text-h5 bg-secondary"},[t._v("MEMORY")]),n("div",{staticClass:"full-width text-center"},[n("q-circular-progress",{staticClass:"q-ma-md text-accent",attrs:{"show-value":"","font-size":"31px",indeterminate:t.indeterminate,value:t.resources.memory,size:"200px",color:"accent","track-color":"tertiary"}},[t._v("\n     "+t._s(t.resources.memory)+"%\n     ")]),n("div",{ref:"memhistory",staticClass:"full-width",attrs:{id:"cpuhistory"}}),t._m(0)],1)],1)])},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"cssload-wrap",staticStyle:{"margin-top":"80px"}},[n("div",{staticClass:"cssload-circle"}),n("div",{staticClass:"cssload-circle"}),n("div",{staticClass:"full-width full-height flex flex-centre"},[n("img",{staticClass:"q-ml-sm",staticStyle:{margin:"auto"},attrs:{width:"20px",height:"20px",src:"/statics/icons/plain.svg"}})]),n("div",{staticClass:"cssload-circle"}),n("div",{staticClass:"cssload-circle"}),n("div",{staticClass:"cssload-circle"})])])}],o=n("c686"),i=n("915b"),c=n("3099"),r=n("d610");i["f"](r["a"]);var l={name:"Admin.Logs.Dashboard",data:function(){return{logs:[],resources:{cpuIdle:0,disk:{percentage:0}},indeterminate:!0,cpuHistory:[],cpuHistoryChartx:null,memHistory:[],memHistoryChartx:null,logInterval:2e3,resourcesInterval:2e3,connectionsInterval:5e3,graphMinutes:1,counter:0,connections:{}}},computed:{},methods:{fetchLogs:function(){o["a"].getLogs(this.processLog)},fetchResources:function(){o["a"].getResources(this.processResources)},fetchConnections:function(){o["a"].getConnections(this.processConnections)},processConnections:function(t){this.connections=t},processLog:function(t){this.logs=t.messages},processResources:function(t){this.counter++,this.resources=t.resources,this.indeterminate=!1;var e=Date.parse(t.time),n={date:e,value:100-this.resources.cpuIdle},a={date:e,value:this.resources.memory};if(this.cpuHistoryChart&&this.counter%10!==0){var s=60*this.graphMinutes/(this.resourcesInterval/1e3),o=this.cpuHistory.length>s?1:0;this.cpuHistoryChart.addData(n,o),this.memHistoryChart.addData(a,o)}else this.cpuHistory.push(n),this.memHistory.push(a),this.createCpuSpark(),this.createMemSpark()},logColor:function(t){switch(t.level){case"CRITICAL":return"text-white bg-warning";default:return"text-tertiery"}},createCpuSpark:function(){this.cpuHistoryChart&&this.cpuHistoryChart.dispose();var t=i["c"](this.$refs.cpuhistory,c["l"]);t.data=this.cpuHistory,t.padding(0,0,0,0);var e=t.xAxes.push(new c["d"]);e.renderer.grid.template.disabled=!0,e.renderer.labels.template.disabled=!0,e.startLocation=.5,e.endLocation=.7,e.cursorTooltipEnabled=!1;var n=t.yAxes.push(new c["k"]);n.min=0,n.renderer.grid.template.disabled=!0,n.renderer.baseGrid.disabled=!0,n.renderer.labels.template.disabled=!0,n.cursorTooltipEnabled=!1,t.cursor=new c["m"],t.cursor.lineY.disabled=!0;var a=t.series.push(new c["g"]);a.tooltipText="{date}: [bold]{value}",a.dataFields.dateX="date",a.dataFields.valueY="value",a.tensionX=.8,a.strokeWidth=2;var s=a.bullets.push(new c["b"]);s.circle.opacity=0,s.circle.propertyFields.opacity="opacity",s.circle.radius=3,this.cpuHistoryChart=t},createMemSpark:function(){this.memHistoryChart&&this.memHistoryChart.dispose();var t=i["c"](this.$refs.memhistory,c["l"]);t.data=this.memHistory,t.padding(0,0,0,0);var e=t.xAxes.push(new c["d"]);e.renderer.grid.template.disabled=!0,e.renderer.labels.template.disabled=!0,e.startLocation=.5,e.endLocation=.7,e.cursorTooltipEnabled=!1;var n=t.yAxes.push(new c["k"]);n.min=0,n.renderer.grid.template.disabled=!0,n.renderer.baseGrid.disabled=!0,n.renderer.labels.template.disabled=!0,n.cursorTooltipEnabled=!1,t.cursor=new c["m"],t.cursor.lineY.disabled=!0;var a=t.series.push(new c["g"]);a.tooltipText="{date}: [bold]{value}",a.dataFields.dateX="date",a.dataFields.valueY="value",a.tensionX=.8,a.strokeWidth=2;var s=a.bullets.push(new c["b"]);s.circle.opacity=0,s.circle.propertyFields.opacity="opacity",s.circle.radius=3,this.memHistoryChart=t}},components:{},mounted:function(){this.$q.fullscreen.toggle()},created:function(){this.fetchLogs(),this.fetchResources(),this.fetchConnections(),this.logTimer=setInterval(function(){this.fetchLogs()}.bind(this),this.logInterval),this.resourcesTimer=setInterval(function(){this.fetchResources()}.bind(this),this.resourcesInterval),this.connectionsTimer=setInterval(function(){this.fetchConnections()}.bind(this),this.connectionsInterval),this.windowTimer=setInterval((function(){this.$forceUpdate()}),12e4)},beforeDestroy:function(){clearInterval(this.logTimer),clearInterval(this.windowTimer),clearInterval(this.resourcesTimer),clearInterval(this.connectionsTimer)}},u=l,d=(n("cfa74"),n("2be6")),p=n("e279"),f=n.n(p),m=n("2ef0"),h=n("f987"),b=n("4f61"),g=n("26a8"),y=n("2e0b"),w=n("34ff"),v=n("5d16"),x=n("f962c"),C=n("cf19"),q=Object(d["a"])(u,a,s,!1,null,"3314fae2",null);e["a"]=q.exports;f()(q,"components",{QBtn:m["a"],QBadge:h["a"],QLinearProgress:b["a"],QScrollArea:g["a"],QMarkupTable:y["a"],QIcon:w["a"],QBar:v["a"],QSpace:x["a"],QCircularProgress:C["a"]})}}]);