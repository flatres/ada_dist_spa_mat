(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[43],{"1e83":function(e,t,a){"use strict";var s=a("74d9"),r=a.n(s);r.a},"74d9":function(e,t,a){},"90b2e":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col column fit q-pl-xs"},[a("q-page",{staticClass:"no-scroll full-height full-width toolbar-page fixed q-pr-xl"},[a("div",{staticClass:"row shrink flex items-center"},[a("year-bar",{staticClass:"ybx-border q-ma-xs"}),a("q-btn-toggle",{staticClass:" no-shadow q-mr-md bd-font-secondary ",staticStyle:{height:"26px"},attrs:{spreadx:"","no-caps":"",densex:"","toggle-color":"tertiary",color:"secondary","text-color":"font-secondary","toggle-text-color":"positive",options:[{label:"TAGS",value:"tag"},{label:"MEGS",value:"meg"}],size:"sm"},model:{value:e.grade,callback:function(t){e.grade=t},expression:"grade"}})],1),a("overview",{staticClass:"full-height no-scroll",attrs:{grade:e.grade}})],1)],1)},r=[],o=a("08e9"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"scroll col full-width toolbar-page fixed q-pr-xl column"},[a("div",{staticClass:"col column"},[a("div",{staticClass:"q-pr-sm col row q-pt-lg q-mb-xl q-pb-xl"},[a("q-table",{staticClass:"my-sticky-header-table col column full-height",attrs:{dense:"",data:e.filteredOverview,columns:e.columns,"row-key":"id",stylex:"width:700px",flat:"","virtual-scroll":"",pagination:e.pagination,"rows-per-page-options":[0]},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"body",fn:function(t){return[a("q-tr",{staticClass:"wyap-table",attrs:{props:t}},[13===e.activeYear?a("q-td",{key:"flagged",staticClass:"q-pa-xs text-center",class:1===t.row.flagged?"bg-warning":"",attrs:{props:t,"auto-width":""},on:{click:function(a){return e.toggleFlag(t.row.id,t.row.flagged)}}},[1==t.row.flagged?a("q-icon",{attrs:{name:"fad fa-flag",color:"black"}}):e._e()],1):e._e(),a("q-td",{key:"number",attrs:{props:t,"auto-width":""}},[e._v(e._s(t.row.schoolNumber))]),a("q-td",{key:"name",attrs:{props:t,"auto-width":""}},[e._v(e._s(t.row.displayName))]),a("q-td",{key:"gender",attrs:{props:t,"auto-width":""}},[e._v(e._s(t.row.gender))]),a("q-td",{key:"house",attrs:{props:t,"auto-width":""}},[e._v(e._s(t.row.boardingHouseCode))]),a("q-td",{key:"baseline",attrs:{props:t,"auto-width":""}},[e._v(e._s(t.row.baseline))]),13===e.activeYear?a("q-td",{key:"offer",attrs:{props:t,"auto-width":""}},[e._v("\n            "+e._s(t.row.ucas.offerShort)+"\n            "),a("q-tooltip",{staticStyle:{"max-width":"300px",width:"300px",background:"white!important"},attrs:{"content-class":"bg-white text-black"}},[a("ul",{staticClass:"bg-white",staticStyle:{"max-width":"300px",width:"300px"}},[a("li",[e._v("Offer: "+e._s(t.row.ucas.offer))]),a("li",[e._v("Uni: "+e._s(t.row.ucas.uni))]),a("li",[e._v("Course: "+e._s(t.row.ucas.course))]),a("li",[e._v("Decision: "+e._s(t.row.ucas.decision))]),a("li",[e._v("Status: "+e._s(t.row.ucas.status))]),a("li",[e._v("Details: "+e._s(t.row.ucas.details))])])])],1):e._e(),13===e.activeYear?a("q-td",{key:"offerPoints",class:e.pointsClass(t.row),attrs:{props:t,"auto-width":""}},[e._v(e._s(t.row.ucas.points))]):e._e(),"tag"===e.grade?a("q-td",{key:"tagPoints",class:e.pointsClass(t.row),attrs:{props:t,"auto-width":""}},[e._v(e._s(t.row.tagPoints))]):e._e(),"tag"===e.grade?a("q-td",{key:"tags",attrs:{props:t,"auto-width":""}},e._l(t.row.exams,(function(t){return a("span",{key:t.id},[e._v("\n              "+e._s(t.tag)+"\n              "),a("q-tooltip",{staticStyle:{"max-width":"300px",width:"300px",background:"white!important"},attrs:{"content-class":"bg-white text-black"}},[e._v("\n                "+e._s(t.examCode)+" - "+e._s(t.examName)+"\n              ")])],1)})),0):e._e(),"meg"===e.grade?a("q-td",{key:"megPoints",class:e.pointsClass(t.row),attrs:{props:t,"auto-width":""}},[e._v(e._s(t.row.megPoints))]):e._e(),"meg"===e.grade?a("q-td",{key:"megs",attrs:{props:t,"auto-width":""}},e._l(t.row.exams,(function(t){return a("span",{key:t.id},[e._v("\n              "+e._s(t.meg)+"\n              "),a("q-tooltip",{staticStyle:{"max-width":"300px",width:"300px",background:"white!important"},attrs:{"content-class":"bg-white text-black"}},[e._v("\n                "+e._s(t.examCode)+" - "+e._s(t.examName)+"\n              ")])],1)})),0):e._e(),a("q-td")],1)]}}])})],1)])])},i=[],n=(a("e125"),a("4823"),a("2e73"),a("76d0"),a("8e9e")),c=a.n(n),d=a("84a8"),g=a("9ce4");function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){c()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var f,w,b={name:"Page.Dha.Tags.Overview",props:{grade:{required:!0}},data(){return{exams:[],overview:[],pagination:{rowsPerPage:0}}},computed:u(u({},Object(g["c"])("dha",["activeYear"])),{},{filteredOverview(){return this.overview},columns(){var e=[{name:"flagged",align:"center",label:"Flagged",field:"flagged",sortable:!0},{name:"number",align:"left",label:"Sch #",field:"schoolNumber",sortable:!0},{name:"name",required:!0,label:"Name",align:"left",field:"displayName",sortable:!0},{name:"gender",required:!0,label:"M/F",align:"left",field:"gender",sortable:!0},{name:"house",align:"left",label:"Hs",field:"boardingHouseCode",sortable:!0},{name:"baseline",align:"left",label:"Baseline",field:"baseline",sortable:!0}];return 13===this.activeYear&&(e.push({name:"offer",align:"left",label:"Offer"}),e.push({name:"offerPoints",align:"left",label:"Ofr Pnts"})),"tag"===this.grade?(e.push({name:"tagPoints",align:"left",label:"Points",field:"tagPoints",sortable:!0}),e.push({name:"tags",align:"left",label:"TAGs"})):(e.push({name:"megPoints",align:"left",label:"Points",field:"megPoints",sortable:!0}),e.push({name:"megs",align:"left",label:"MEGs"})),e}}),methods:{pointsClass(e){if(this.activeYear<13)return"";var t=this.grade+"Points";return e[t]<e.ucas.points?"bg-warning text-black":void 0},getOverview(){this.$startLoading(),d["a"].getOverview(this.processOverview,this.$errorHandler,this.activeYear)},processOverview(e){this.overview=e,this.$endLoading()},toggleFlag(e,t){var a=1===t?0:1;this.overview.find((function(t){return t.id===e})).flagged=a,d["a"].toggleFlag(null,null,e,a)}},components:{},created(){var e=this;this.yearWatch=this.$store.watch((function(){return e.$store.getters["dha/activeYear"]}),this.getOverview),this.getOverview()},beforeDestroy(){this.yearWatch&&this.yearWatch()}},h=b,v=(a("1e83"),a("2be6")),m=a("18f0"),_=a("41c9"),y=a("b74b"),x=a("34ff"),O=a("3aaf"),q=a("dfd0"),k=a("e279"),P=a.n(k),C=Object(v["a"])(h,l,i,!1,null,null,null),j=C.exports;P()(C,"components",{QTable:m["a"],QTr:_["a"],QTd:y["a"],QIcon:x["a"],QTooltip:O["a"],QColor:q["a"]});var S={},D=Object(v["a"])(S,f,w,!1,null,null,null),T=D.exports,Y=a("6247"),Q={name:"Page.DHA.Tags",data(){return{elements:[{name:"overview",label:"Overview",component:j},{name:"pupils",label:"pupils",component:T}],grade:"tag"}},components:{toolbarPage:o["a"],YearBar:Y["a"],Overview:j}},N=Q,$=a("8c42"),E=a("6dd6"),F=Object(v["a"])(N,s,r,!1,null,null,null);t["default"]=F.exports;P()(F,"components",{QPage:$["a"],QBtnToggle:E["a"]})}}]);