(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[24],{"282e":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",[a("div",{staticClass:"row"},[a("q-tabs",{attrs:{id:"ad",color:"font","underline-color":"accent"},model:{value:e.adTab,callback:function(t){e.adTab=t},expression:"adTab"}},[a("q-tab",{attrs:{default:"",icon:"fal fa-child fa-sm",label:"Me",name:"me"}}),a("q-tab",{attrs:{icon:"fal fa-users fa-sm",label:"All Staff",name:"staff"}})],1)],1),a("q-tab-panels",{model:{value:e.adTab,callback:function(t){e.adTab=t},expression:"adTab"}},[a("q-tab-panel",{attrs:{name:"me"}},[a("me")],1),a("q-tab-panel",{attrs:{name:"cr"}}),a("q-tab-panel",{attrs:{name:"staff"}},[a("all-staff")],1)],1)],1)},s=[],r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{},[a("div",{staticClass:"row fit"},[a("tree-view",{attrs:{data:e.jsonSource,options:{maxDepth:1}}})],1)])},o=[],l=(a("e125"),a("2e73"),a("8e9e")),i=a.n(l),c=a("9ce4"),u=a("4778"),p={getAllStaff(e){u["a"].get("/admin/activeDirectory/allStaff").then(t=>{e(t.data),console.log(t)}).catch(e=>{console.log(e)})},getMe(e){u["a"].get("/admin/activeDirectory/me").then(t=>{console.log(t),e(t.data["0"])}).catch(e=>{console.log(e)})},getIsamsInfo(e,t){u["a"].get("/admin/activeDirectory/isams/"+e).then(e=>{console.log(e),t(e.data)}).catch(e=>{console.log(e)})}};function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var m={name:"ComponentAdminAdMe",props:{},data(){return{jsonSource:{root:{id:"1"}}}},methods:d({},Object(c["b"])("sockets",["clearConsoleLog"])),computed:{},components:{},created(){p.getMe(e=>{this.jsonSource=e,console.log(this.jsonSource)})}},g=m,b=(a("c5dd"),a("2be6")),h=a("8c42"),v=a("e279"),y=a.n(v),O=Object(b["a"])(g,r,o,!1,null,null,null),w=O.exports;y()(O,"components",{QPage:h["a"]});var _=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{},[a("div",{staticClass:"row fit"},[a("div",{staticClass:"col-8 scroll"},[a("q-table",{attrs:{data:e.filteredUsers,columns:e.columns,filter:e.filter,separator:e.separator,pagination:e.paginationControl,"row-key":e.login,selectionx:"single",color:"font",loading:e.loading,dense:""},on:{"update:pagination":function(t){e.paginationControl=t}},scopedSlots:e._u([{key:"top-left",fn:function(t){return[a("q-input",{staticClass:"col-6",attrs:{type:"search","hide-underline":"",color:"font"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]}},{key:"top-right",fn:function(t){return[a("q-select",{staticClass:"q-mx-md",attrs:{color:"font",filter:"",options:e.groupList,"hide-underline":""},model:{value:e.group,callback:function(t){e.group=t},expression:"group"}})]}},{key:"body",fn:function(t){return[a("q-tr",{class:{"bg-secondary":e.selectedUserLogin===t.row.login,"text-black":e.selectedUserLogin===t.row.login},attrs:{props:t},nativeOn:{click:function(a){return e.clickRow(t.row)}}},[a("q-td",{key:"lastName",attrs:{props:t}},[e._v("\n                "+e._s(t.row.lastName)+"\n              ")]),a("q-td",{key:"firstName",attrs:{props:t}},[e._v("\n                "+e._s(t.row.firstName)+"\n              ")]),a("q-td",{key:"login",attrs:{props:t}},[e._v("\n                "+e._s(t.row.login)+"\n              ")]),a("q-td",{key:"email",attrs:{props:t}},[e._v("\n                "+e._s(t.row.email)+"\n              ")])],1)]}}])})],1),a("div",{staticClass:"col-4 q-pl-md"},[a("h4",[e._v(e._s(e.firstName+" "+e.lastName))]),a("p",[e._v(e._s(e.login))]),a("p",[e._v(e._s(e.email))]),e.selectedUserLogin?a("h5",{staticClass:"text-primary"},[e._v("Groups")]):e._e(),a("ul",e._l(e.groups,(function(t){return a("li",{key:t,staticClass:"text-secondary"},[e._v(e._s(t))])})),0),e.isamsData?a("div",[a("h5",{staticClass:"text-primary"},[e._v("iSams Data")]),a("p",[e._v(e._s(e.isamsData.userCode))]),a("ul",e._l(e.isamsData.tutees,(function(t){return a("li",{key:t.txtSchoolId,staticClass:"text-secondary"},[e._v("\n            "+e._s(t.lastName+" "+t.initials+" "+t.boarding)+"\n          ")])})),0)]):e._e()])])])},j=[];function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var q={name:"ComponentAdminAdMe",props:{},data(){return{login:null,group:"",groupList:[],users:[],filter:"",separator:"horizontal",selection:"single",selectedUser:null,selectedUserLogin:null,pagination:{page:1},paginationControl:{rowsPerPage:40,page:1,sortBy:"lastName"},loading:!1,dark:!0,columns:[{name:"lastName",required:!0,label:"Last name",align:"left",field:"lastName",sortable:!0},{name:"firstName",label:"First Name",field:"firstName",sortable:!0},{name:"login",label:"Login",field:"login",sortable:!0},{name:"email",label:"Email",field:"email",sortable:!0}],firstName:"",lastName:"",email:"",groups:[],isamsData:null}},methods:P(P({},Object(c["b"])("sockets",["clearConsoleLog"])),{},{clickRow(e){this.selectedUserLogin=e.login,this.selectedUser=e,this.firstName=e.firstName,this.lastName=e.lastName,this.login=e.login,this.email=e.email,this.groups=e.groups,p.getIsamsInfo(e.login,e=>{this.isamsData=e,console.log(e)})}}),computed:{filteredUsers(){if(""===this.group)return this.users;var e=this.users.filter(e=>e.groups.find(e=>e===this.group.value));return e}},components:{},created(){this.loading=!0,p.getAllStaff(e=>{this.users=e.users,this.groupList=e.groups,this.loading=!1})}},C=q,N=(a("db83"),a("18f0")),D=a("bc74"),S=a("3946"),x=a("41c9"),T=a("b74b"),L=Object(b["a"])(C,_,j,!1,null,null,null),Q=L.exports;y()(L,"components",{QPage:h["a"],QTable:N["a"],QInput:D["a"],QSelect:S["a"],QTr:x["a"],QTd:T["a"]});var A={name:"PageAdminAd",data(){return{adTab:null}},components:{me:w,allStaff:Q},methods:{},created(){}},U=A,E=a("4776"),I=a("dd08"),M=a("1411"),$=a("1d98"),J=Object(b["a"])(U,n,s,!1,null,null,null);t["default"]=J.exports;y()(J,"components",{QPage:h["a"],QTabs:E["a"],QTab:I["a"],QTabPanels:M["a"],QTabPanel:$["a"]})},"380a":function(e,t,a){},"4df1":function(e,t,a){},c5dd:function(e,t,a){"use strict";var n=a("380a"),s=a.n(n);s.a},db83:function(e,t,a){"use strict";var n=a("4df1"),s=a.n(n);s.a}}]);