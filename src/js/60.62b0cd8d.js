(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[60],{"0733":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-page",{staticClass:"no-scroll full-height full-width toolbar-page fixed q-pr-xl q-pa-md column"},[e("div",{staticClass:"q-pr-sm col column q-pt-lg q-mb-xl q-pb-xl"},[e("q-table",{staticClass:"my-sticky-header-table col column full-height",attrs:{dense:"",data:t.ucas,columns:t.columns,"row-key":"id",stylex:"width:700px",flat:"","virtual-scroll":"",pagination:t.pagination,"rows-per-page-options":[0]},on:{"update:pagination":function(a){t.pagination=a}},scopedSlots:t._u([{key:"body",fn:function(a){return[e("q-tr",{staticClass:"wyap-table",attrs:{props:a}},[e("q-td",{key:"number",attrs:{props:a,"auto-width":""}},[t._v(t._s(a.row.schoolNumber))]),e("q-td",{key:"name",attrs:{props:a,"auto-width":""}},[t._v(t._s(a.row.displayName))]),e("q-td",{key:"gender",attrs:{props:a,"auto-width":""}},[t._v(t._s(a.row.gender))]),e("q-td",{key:"house",attrs:{props:a,"auto-width":""}},[t._v(t._s(a.row.boardingHouseCode))]),e("q-td",{key:"offerHigh",attrs:{props:a,"auto-width":""}},[t._v("\n              "+t._s(a.row.ucasHigh.offer)+"\n              "),e("q-tooltip",{staticStyle:{"max-width":"300px",width:"300px",background:"white!important"},attrs:{"content-class":"bg-white text-black"}},[e("ul",{staticClass:"bg-white",staticStyle:{"max-width":"300px",width:"300px"}},[e("li",[t._v("Offer: "+t._s(a.row.ucasHigh.offer))]),e("li",[t._v("Uni: "+t._s(a.row.ucasHigh.uni))]),e("li",[t._v("Course: "+t._s(a.row.ucasHigh.course))]),e("li",[t._v("Decision: "+t._s(a.row.ucasHigh.decision))]),e("li",[t._v("Status: "+t._s(a.row.ucasHigh.status))]),e("li",[t._v("Details: "+t._s(a.row.ucasHigh.details))]),e("li",[t._v("Prediction: "+t._s(a.row.ucasHigh.predictions))])])])],1),e("q-td",{key:"offerLow",attrs:{props:a,"auto-width":""}},[t._v("\n              "+t._s(a.row.ucasLow.offer)+"\n              "),e("q-tooltip",{staticStyle:{"max-width":"300px",width:"300px",background:"white!important"},attrs:{"content-class":"bg-white text-black"}},[e("ul",{staticClass:"bg-white",staticStyle:{"max-width":"300px",width:"300px"}},[e("li",[t._v("Offer: "+t._s(a.row.ucasLow.offer))]),e("li",[t._v("Uni: "+t._s(a.row.ucasLow.uni))]),e("li",[t._v("Course: "+t._s(a.row.ucasLow.course))]),e("li",[t._v("Decision: "+t._s(a.row.ucasLow.decision))]),e("li",[t._v("Status: "+t._s(a.row.ucasLow.status))]),e("li",[t._v("Details: "+t._s(a.row.ucasLow.details))]),e("li",[t._v("Prediction: "+t._s(a.row.ucasLow.predictions))])])])],1),e("q-td")],1)]}}])})],1)])},o=[],i=e("7f3a"),l=e.n(i),n=(e("632c"),e("47783")),r={getPupilUcas(t,a){n["a"].get("/dha/ucas/pupils").then((function(a){t(a.data)})).catch((function(t){console.log(t)}))}},d={name:"PageDha.UCAS  ",data(){return{ucas:[],totals:[],pointsAvg:0,downloadLoading:!1}},methods:{getPupilUcas(){this.$startLoading(),r.getPupilUcas(this.processPupilUcas,this.$errorHandler)},processPupilUcas(t){this.$endLoading(),this.ucas=t.students.sort(this.$compare("lastName","asc")),this.totals=t.totals,this.pointsAvg=t.pointsAvg},downloadData(){var t=this;if(!0!==this.downloadLoading){this.downloadLoading=!0;var a=this.columns,e=[{label:"A*",field:"A*"},{label:"A",field:"A"},{label:"B",field:"B"},{label:"C",field:"C"},{label:"D",field:"D"},{label:"D1",field:"D1"},{label:"D2",field:"D2"},{label:"D3",field:"D3"},{label:"M1",field:"M1"},{label:"M2",field:"M2"},{label:"M3",field:"M3"}];a=[].concat(l()(a),e);var s={columns:a,data:this.ucas};n["a"].post("/tools/crud/sheet",s).then((function(a){t.$downloadBlob(a.data.url,a.data.file),t.downloadLoading=!1})).catch((function(a){t.downloadLoading=!1,t.errorHandler(a)}))}}},computed:{columns(){var t=[{name:"number",align:"left",label:"Sch #",field:"schoolNumber",sortable:!0},{name:"name",required:!0,label:"Name",align:"left",field:"displayName",sortable:!0},{name:"gender",required:!0,label:"M/F",align:"left",field:"gender",sortable:!0},{name:"house",align:"left",label:"Hs",field:"boardingHouseCode",sortable:!0}];return t.push({name:"offerHigh",align:"left",label:"Offer High"}),t.push({name:"offerLow",align:"left",label:"Offer Low"}),t}},components:{},created(){this.getPupilUcas()},beforeDestroy(){}},c=d,u=e("2be6"),p=e("8c42"),f=e("f962c"),h=e("2ef0"),w=e("18f0"),g=e("41c9"),b=e("b74b"),_=e("3aaf"),m=e("e279"),v=e.n(m),x=Object(u["a"])(c,s,o,!1,null,null,null);a["default"]=x.exports;v()(x,"components",{QPage:p["a"],QSpace:f["a"],QBtn:h["a"],QTable:w["a"],QTr:g["a"],QTd:b["a"],QTooltip:_["a"]})}}]);