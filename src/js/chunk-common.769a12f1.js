(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"0082":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"q-pa-md"},[s("div",{staticClass:"q-gutter-md row"},[s("q-select",{staticStyle:{"min-width":"300px"},attrs:{filled:"",dense:"","use-input":"","input-debounce":"0",label:"Students",options:e.options,clearable:""},on:{filter:e.filterFn},scopedSlots:e._u([{key:"no-option",fn:function(){return[s("q-item",[s("q-item-section",{staticClass:"text-grey"},[e._v("\n            No Students\n          ")])],1)]},proxy:!0}]),model:{value:e.student,callback:function(t){e.student=t},expression:"student"}})],1)])},o=[],n=s("4778"),i={getStudentNames(e,t){n["a"].get("/students/names").then(t=>{e(t.data)}).catch(e=>{console.log(e)})},getPortalStudentNames(e,t){n["a"].get("/students/portal/names").then(t=>{e(t.data)}).catch(e=>{console.log(e)})},getStudent(e,t,s){n["a"].get("/students/details/"+s).then(t=>{e(t.data)}).catch(e=>{console.log(e)})}},r={name:"Component.Dropdowns.Students",props:{optionsOverride:{type:Array,default:()=>[]},studentStore:{type:String}},data(){return{students:[],filter:null,studentOptions:[],options:[],student:null}},methods:{process(e){if(this.students=e,this.studentOptions=e.map(e=>({value:e.id,label:e.displayName,firstName:e.firstname,lastName:e.lastname})),this.options=this.studentOptions,this.studentStore){var t=this.$store.getters[this.studentStore];this.student=this.studentOptions.find(e=>e.value===t.id)}},filterFn(e,t,s){t(()=>{var t=e.toLowerCase();this.options=this.studentOptions.filter(e=>e.label.toLowerCase().indexOf(t)>-1)})},emit(e){this.$emit("change",e)}},computed:{},watch:{student(){i.getStudent(this.emit,null,this.student.value)}},components:{},created(){i.getStudentNames(this.process)}},l=r,c=(s("1d18"),s("2be6")),d=s("3946"),u=s("ac9b"),p=s("66dc"),h=s("2ef0"),m=s("e279"),f=s.n(m),b=Object(c["a"])(l,a,o,!1,null,"8dc7d114",null);t["a"]=b.exports;f()(b,"components",{QSelect:d["a"],QItem:u["a"],QItemSection:p["a"],QBtn:h["a"]})},"00f9":function(e,t,s){"use strict";var a=s("902c"),o=s.n(a);o.a},"0142":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-badge",{attrs:{color:e.color,outline:e.outline}},[s("q-icon",{attrs:{name:e.icon,color:e.iconColor}}),s("q-tooltip",[e._v(e._s(e.tooltip))])],1)},o=[],n={name:"covid.ui.answer",props:{person:{type:Object,require:!0},date:{type:String,required:!0}},data(){return{}},methods:{},computed:{answer(){return this.person.answers.find(e=>e.date===this.date)},icon(){var e=this.answer;return e?1===e.isHealthy?"fas fa-check":0===e.isHealthy&&1===e.hasAnswered&&0===e.isNotInWork?"fas fa-biohazard":0===e.hasAnswered?"fas fa-question":1===e.isNotInWork?"fas fa-sign-out-alt":void 0:""},color(){var e=this.answer;return e?1===e.isHealthy?"positive":0===e.isHealthy&&1===e.hasAnswered&&0===e.isNotInWork?"warning":0===e.hasAnswered?"font-secondary":1===e.isNotInWork?"font":void 0:"font-secondary"},iconColor(){var e=this.answer;return e?1===e.isHealthy?"positive":0===e.isHealthy&&1===e.hasAnswered&&0===e.isNotInWork?"primary":0===e.hasAnswered?"orange":1===e.isNotInWork?"font":void 0:"font-secondary"},outline(){var e=this.answer;return!e||(0!==e.isHealthy||1!==e.hasAnswered||0!==e.isNotInWork)},tooltip(){var e=this.answer;return e?1===e.isHealthy?"healthy":0===e.isHealthy&&1===e.hasAnswered&&0===e.isNotInWork?"covid risk":0===e.hasAnswered?"not answered":1===e.isNotInWork?"not in work":void 0:"record not found"}},components:{},created(){}},i=n,r=(s("3095"),s("2be6")),l=s("f987"),c=s("34ff"),d=s("3aaf"),u=s("e279"),p=s.n(u),h=Object(r["a"])(i,a,o,!1,null,"3c6d5acc",null);t["a"]=h.exports;p()(h,"components",{QBadge:l["a"],QIcon:c["a"],QTooltip:d["a"]})},"0603":function(e,t,s){"use strict";var a=s("4778"),o=s("452d");t["a"]={getSchoolsCloud(e,t){var s=12;a["a"].get("/hod/meetings/schoolscloud/"+s).then(t=>{e(t.data)}).catch(e=>{console.log(e)})},getAllMeetings(e,t){var s=12;a["a"].get("/hod/meetings/all/"+s).then(t=>{e(t.data)}).catch(e=>{console.log(e)})},getMeetingClasses(e,t){var s=o["a"].getters["user/getGlobalSubject"],n=12,i=o["a"].getters["hod/activeExam"];s&&i&&a["a"].get("/hod/meetings/"+s.id+"/"+n+"/"+i).then(t=>{e(t.data)}).catch(e=>{console.log(e)})},setMeeting(e,t,s,n,i){var r=o["a"].getters["user/getGlobalSubject"],l=o["a"].getters["hod/activeExam"];r&&l&&a["a"].post("/hod/meetings/"+r.id+"/"+l+"/"+s+"/"+n+"/"+i).then(t=>{e(t.data)}).catch(e=>{console.log(e)})},download(e,t){var s=o["a"].getters["user/getGlobalSubject"],n=12,i=o["a"].getters["hod/activeExam"];s&&i&&a["a"].get("/hod/meetings/download/"+s.id+"/"+n+"/"+i).then(t=>{e(t.data)}).catch(e=>{console.log(e)})},getMeetingsCounts(e,t,s){a["a"].post("/hod/meetings/counts",s).then(t=>{e(t.data)}).catch(e=>{console.log(e)})}}},"08e9":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("q-page",{staticClass:"no-scroll full-height toolbar-page"},[e.$q.platform.is.mobile?s("q-toolbar",{staticClass:"mobile-only shadow-1 bg-tertiary",staticStyle:{"max-height":"38px","min-height":"38px","border-bottom":"1px solid black"},attrs:{id:"toolbar",dense:"",shrink:""}},[s("q-breadcrumbs",{staticClass:"text-font",scopedSlots:e._u([{key:"separator",fn:function(){return[s("q-icon",{attrs:{size:"1.5em",name:"chevron_right",color:"font"}})]},proxy:!0}],null,!1,2995819124)},[s("q-breadcrumbs-el",{staticClass:"text-font",attrs:{label:e.moduleName,icon:e.moduleIcon}}),s("q-breadcrumbs-el",{staticClass:"capitalize ",attrs:{label:e.element.label,iconx:e.element.icon}})],1)],1):e._e(),s("q-toolbar",{staticClass:"shadow-1 bg-tertiary desktop-only",staticStyle:{"max-height":"38px","min-height":"38px","border-bottom":"1px solid black"},attrs:{id:"toolbar",dense:"",shrink:""}},[e._t("before"),e._l(e.elements,(function(t){return s("q-btn-group",{key:t.name,staticClass:"tbp-tabs",attrs:{unelevated:"",dense:"",shrink:"","active-color":"secondary"}},[t.menu?e._e():s("q-btn",{attrs:{label:t.label,name:t.name,icon:t.icon,size:"10px",color:e.selectedTab===t.name?"accent":"font",flat:""},on:{click:function(s){e.selectedTab=t.name}}},[t.count>0?s("q-badge",{attrs:{size:"xs",color:"warning","text-color":"font-negative",floating:""}},[e._v(e._s(t.count))]):e._e(),t.tooltip?s("q-tooltip",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[e._v("\n               "+e._s(t.tooltip)+"\n             ")]):e._e()],1),t.menu?s("q-btn",{attrs:{flat:"",size:"xs",label:t.label,icon:t.icon?t.icon:"fal fa-caret-down","text-color":"font",unelevated:""}},[s("q-menu",{ref:"settingsPopover",refInFor:!0,attrs:{"content-class":"bg-grey-9 text-white","auto-close":""}},[s("q-list",{attrs:{"item-separator":"",link:"","content-class":"bg-primary"}},e._l(t.menu,(function(t){return s("q-item",{key:t.name,attrs:{clickable:""},nativeOn:{click:function(s){return e.clickMenu(t)}}},[s("q-item-section",{attrs:{avatar:"",left:"",dark:""}},[s("q-icon",{attrs:{size:"20px",name:t.icon}})],1),s("q-item-section",[s("q-item-label",[e._v(e._s(t.label))])],1)],1)})),1)],1)],1):e._e()],1)})),s("q-space"),e._t("side"),e._t("after")],2),s("q-tab-panels",{staticClass:"full-height",model:{value:e.selectedTab,callback:function(t){e.selectedTab=t},expression:"selectedTab"}},e._l(e.tabPanels,(function(t){return s("q-tab-panel",{key:t.name,staticClass:"col full-height full-width",class:t.noPadding?"no-padding":"",attrs:{name:t.name}},[s("div",{staticClass:"full-width",staticStyle:{"overflow-y":"hidden"},style:{minHeight:e.screenHeight+"px",height:1.5*e.screenHeight+"px"}},[s(t.component,{tag:"component",on:{close:e.close}})],1)])})),1)],1),s("q-footer",{staticClass:"bg-primary text-font mobile-only",staticStyle:{"margin-bottom":"50px"},attrs:{xelevated:"",bordered:""}},[s("q-toolbar",{staticClass:"bg-tertiary",staticStyle:{"max-height":"38px","min-height":"38px","border-bottom":"1px solid black"},attrs:{id:"toolbar",dense:"",shrink:"",flat:""}},[e._t("before"),e._l(e.elements,(function(t){return s("q-btn-group",{key:t.name,staticClass:"tbp-tabs",attrs:{unelevated:"",dense:"",shrink:"","active-color":"accent"}},[t.menu?e._e():s("q-btn",{attrs:{name:t.name,icon:t.icon,size:"10px",color:e.selectedTab===t.name?"accent":"font",flat:""},on:{click:function(s){return e.setElement(t)}}},[t.count>0?s("q-badge",{attrs:{size:"xs",color:"warning","text-color":"font-negative",floating:""}},[e._v(e._s(t.count))]):e._e(),t.tooltip?s("q-tooltip",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[e._v("\n               "+e._s(t.tooltip)+"\n             ")]):e._e()],1),t.menu?s("q-btn",{attrs:{flat:"",size:"xs",label:t.label,icon:t.icon?t.icon:"fal fa-caret-down","text-color":"font",unelevated:""}},[s("q-menu",{ref:"settingsPopover",refInFor:!0,attrs:{"content-class":"bg-grey-9 text-white","auto-close":""}},[s("q-list",{attrs:{"item-separator":"",link:"","content-class":"bg-primary"}},e._l(t.menu,(function(t){return s("q-item",{key:t.name,attrs:{clickable:""},nativeOn:{click:function(s){return e.clickMenu(t)}}},[s("q-item-section",{attrs:{avatar:"",left:"",dark:""}},[s("q-icon",{attrs:{size:"20px",name:t.icon}})],1),s("q-item-section",[s("q-item-label",[e._v(e._s(t.label))])],1)],1)})),1)],1)],1):e._e()],1)})),s("q-space"),e._t("side"),e._t("after")],2)],1)],1)},o=[],n=(s("e125"),s("2e73"),s("8e9e")),i=s.n(n),r=s("9ce4");function l(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?l(Object(s),!0).forEach((function(t){i()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var d={name:"ComponentPageToolbar",props:{default:null,elements:null,currentElement:null},watch:{selectedTab(){}},data(){return{selectedTab:null,element:null}},computed:c(c({},Object(r["e"])("user",["moduleIcon","moduleName"])),{},{tabPanels(){var e=[];return this.elements.forEach(t=>{t.menu?t.menu.forEach(t=>{e.push({name:t.name,component:t.component})}):e.push({name:t.name,component:t.component,noPadding:t.noPadding})}),e},screenHeight(){return this.$q.screen.height-170}}),methods:{close(){this.selectedTab=this.default},clickMenu(e){e.name&&(this.selectedTab=e.name),e.event&&this.$emit(e.event)},setElement(e){this.selectedTab=e.name,this.element=e}},created(){this.selectedTab=this.default,this.element=this.elements.find(e=>e.name===this.default)}},u=d,p=(s("b0d4"),s("2be6")),h=s("8c42"),m=s("eb05"),f=s("4ba0"),b=s("34ff"),g=s("c575"),y=s("5be0"),w=s("2ef0"),v=s("f987"),x=s("3aaf"),q=s("6a2f"),C=s("6c93"),S=s("ac9b"),_=s("66dc"),k=s("7d9a"),O=s("f962c"),j=s("1411"),R=s("1d98"),P=s("c8ed"),Q=s("e279"),$=s.n(Q),E=Object(p["a"])(u,a,o,!1,null,null,null);t["a"]=E.exports;$()(E,"components",{QPage:h["a"],QToolbar:m["a"],QBreadcrumbs:f["a"],QIcon:b["a"],QBreadcrumbsEl:g["a"],QBtnGroup:y["a"],QBtn:w["a"],QBadge:v["a"],QTooltip:x["a"],QMenu:q["a"],QList:C["a"],QItem:S["a"],QItemSection:_["a"],QItemLabel:k["a"],QSpace:O["a"],QTabPanels:j["a"],QTabPanel:R["a"],QFooter:P["a"]})},"0a33":function(e,t,s){},"10ac":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.loading?s("div",[s("div",{staticClass:"flex flex-center col"},[s("div",{staticClass:"row text-center full-width"},[s("div",{staticClass:"col text-center cssload-wrap"},[e.minor?s("q-spinner-gears",{attrs:{color:"font-secondary",size:"6em"}}):e._e(),s("br"),e.channel?s("q-linear-progress",{staticClass:"q-mt-lg",staticStyle:{"max-width":"300px",margin:"20px auto"},attrs:{size:"sm",value:e.syncProgress,color:"font-secondary",label:"Change Model"}}):e._e(),s("p",{staticClass:"text-font-secondary"},[e._v(e._s(e.syncMessage))]),e.message?s("p",{staticClass:"text-font-secondary"},[e._v(e._s(e.message))]):e._e()],1),e.minor?e._e():s("div",{staticClass:"cssload-wrap"},[s("div",{staticClass:"cssload-circle"}),s("div",{staticClass:"cssload-circle"}),e._m(0),s("div",{staticClass:"cssload-circle"}),s("div",{staticClass:"cssload-circle"}),s("div",{staticClass:"cssload-circle"})])])])]):e._e()},o=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"full-width full-height flex flex-centre"},[s("img",{staticClass:"q-ml-sm",staticStyle:{margin:"auto"},attrs:{width:"20px",height:"20px",src:"/statics/icons/plain.svg"}})])}],n=(s("e125"),s("2e73"),s("8e9e")),i=s.n(n),r=s("9ce4");function l(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?l(Object(s),!0).forEach((function(t){i()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var d={name:"ComponentLoading",props:{loading:{default:!1,type:Boolean},minor:{default:!0,type:Boolean},channel:{default:!1},message:{default:!1}},data(){return{mounted:0}},methods:{},computed:c(c({},Object(r["c"])("sockets",["progress","progressMessage"])),{},{syncProgress(){return this.mounted?this.progress(this.channel):0},syncMessage(){return this.mounted?this.progressMessage(this.channel):0},color(){var e=Math.round(this.syncProgress/5),t=["#B7B7B7","#B7BAAD","#B8BEA3","#B9C29A","#BAC690","#BAC986","#BBCD7D","#BCD173","#BDD569","#BED960","#BEDC56","#BFE04D","#C0E443","#C1E839","#C2EC30","#C2EF26","#C3F31C","#C4F713","#C5FB09","#C6FF00"];return t[e]}}),components:{},created(){},mounted(){this.mounted=!0}},u=d,p=(s("3f76"),s("2be6")),h=s("d1dc"),m=s("4f61"),f=s("b693"),b=s("e279"),g=s.n(b),y=Object(p["a"])(u,a,o,!1,null,null,null);t["a"]=y.exports;g()(y,"components",{QSpinnerGears:h["a"],QLinearProgress:m["a"],QField:f["a"]})},"136e":function(e,t,s){},"16b0":function(e,t,s){},"1bf8":function(e,t,s){"use strict";var a=s("9cf3"),o=s.n(a);o.a},"1bfa":function(e,t,s){"use strict";var a=s("4778");t["a"]={getStaff(e,t){a["a"].get("/smt/covid/staff").then(t=>{e(t.data)}).catch(e=>{console.log(e)})},getStudents(e,t){a["a"].get("/smt/covid/students").then(t=>{e(t.data)}).catch(e=>{console.log(e)})},getHouseStudents(e,t,s){a["a"].get("/smt/covid/house/"+s).then(t=>{e(t.data)}).catch(e=>{console.log(e)})},postStudentEmails(e,t){a["a"].post("/smt/covid/students").then(t=>{e(t.data)}).catch(e=>{console.log(e)})},postStaffEmails(e,t){a["a"].post("/smt/covid/staff").then(t=>{e(t.data)}).catch(e=>{console.log(e)})},postHODEmails(e,t){a["a"].post("/smt/covid/summaries/hods").then(t=>{e(t.data)}).catch(e=>{console.log(e)})},postHouseEmails(e,t){a["a"].post("/smt/covid/summaries/houses").then(t=>{e(t.data)}).catch(e=>{console.log(e)})},putStudentsStatus(e,t,s){a["a"].put("/smt/covid/students/status",s).then(t=>{e(t.data)}).catch(e=>{console.log(e)})},putStaffStatus(e,t,s){a["a"].put("/smt/covid/staff/status",s).then(t=>{e(t.data)}).catch(e=>{console.log(e)})},getStatus(e,t){a["a"].get("/smt/covid/status").then(t=>{e(t.data)}).catch(e=>{console.log(e)})}}},"1d18":function(e,t,s){"use strict";var a=s("ed5c"),o=s.n(a);o.a},"1ea0":function(e,t,s){"use strict";var a=s("bfaa"),o=s.n(a);o.a},"268c":function(e,t,s){"use strict";var a=s("4778"),o=s("452d");t["a"]={getYears(e,t,s){s&&a["a"].get("/hod/years/"+s).then(t=>{e(t.data)}).catch(e=>{console.log(e)})},getExams(e,t,s,o){o&&a["a"].get("/hod/years/"+s+"/exams/"+o).then(t=>{e(t.data)}).catch(e=>{console.log(e)})},getExamClasses(e,t){var s=o["a"].getters["user/getGlobalSubject"],n=o["a"].getters["hod/activeYear"],i=o["a"].getters["hod/activeExam"];s&&n&&i&&a["a"].get("/hod/years/"+s.id+"/examclasses/"+n+"/"+i).then(t=>{e(t.data)}).catch(e=>{console.log(e)})}}},"27da":function(e,t,s){"use strict";var a=s("0a33"),o=s.n(a);o.a},3095:function(e,t,s){"use strict";var a=s("c4f4"),o=s.n(a);o.a},"30bd":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-btn",e._b({staticClass:"col",attrs:{dense:""},on:{click:function(e){e.stopPropagation()}}},"q-btn",e.$props,!1),[e.tooltip?s("q-tooltip",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[e._v("\n     "+e._s(e.tooltip)+"\n   ")]):e._e(),s("q-popup-proxy",[s("q-card",{staticClass:"bg-primary ada-card",staticStyle:{width:"200px"}},[s("q-card-section",[e._v("\n        "+e._s(e.title)+"\n      ")]),s("q-separator",{attrs:{dark:"",inset:""}}),s("q-card-section",{staticClass:"row q-gutter-sm"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col",attrs:{color:"pink",label:e.buttonLabelNo}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col",attrs:{color:"positive","text-color":"black",label:e.buttonLabelYes},on:{click:function(t){return e.success(e.model)}}})],1)],1)],1)],1)},o=[],n={name:"Component.Buttons.New",props:{success:{type:Function,required:!0},model:{type:Object,default:()=>{}},size:{type:String,default:"xs"},icon:{type:String,default:"fal fa-edit"},title:{type:String,default:""},fieldLabel:{type:String,default:""},type:{type:String,default:""},tooltip:{type:String},color:{type:String,default:"primary"},label:{type:String,default:""},buttonLabelYes:{type:String,default:"Yes"},buttonLabelNo:{type:String,default:"No"},textColor:{type:String,default:""},outline:{type:Boolean},flat:{type:Boolean}},data(){return{}},methods:{},computed:{},components:{},created(){}},i=n,r=(s("42ff"),s("2be6")),l=s("2ef0"),c=s("3aaf"),d=s("8c18"),u=s("ebe6"),p=s("965d"),h=s("96f0"),m=s("58c0"),f=s("e279"),b=s.n(f),g=Object(r["a"])(i,a,o,!1,null,"2f7a2ff5",null);t["a"]=g.exports;b()(g,"components",{QBtn:l["a"],QTooltip:c["a"],QPopupProxy:d["a"],QCard:u["a"],QCardSection:p["a"],QSeparator:h["a"]}),b()(g,"directives",{ClosePopup:m["a"]})},"336f":function(e,t,s){},"33e9":function(e,t,s){},"39ef":function(e,t,s){"use strict";var a=s("136e"),o=s.n(a);o.a},"3f76":function(e,t,s){"use strict";var a=s("33e9"),o=s.n(a);o.a},"423b":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-4 text-left q-mx-xs",staticStyle:{border:"1px solid font"}},[s("q-tabs",{staticClass:"bg-tertiary text-accent no-shadow",attrs:{dense:"",align:"left",breakpoint:0},model:{value:e.direction,callback:function(t){e.direction=t},expression:"direction"}},[s("q-tab",{attrs:{name:"outbound",label:"outbound",icon:"fal fa-arrow-square-right"}}),s("q-tab",{attrs:{name:"return",label:"return",icon:"fal fa-arrow-square-left"}})],1),s("div",{staticClass:"q-pa-md text-font"},[s("q-list",{attrs:{dark:"",bordered:"",separator:"",stylex:"max-width: 318px"}},e._l(e.activeRoutes,(function(t){return s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t.id,class:e.selectedRoute.id===t.id?"bg-tertiary highlight":"",attrs:{clickable:"","expand-separator":"",iconx:"perm_identity",label:t.name},on:{click:function(s){return e.selectRoute(t)}}},[s("q-item-section",[s("span",[e._v("\n              "+e._s(t.name)+"\n              ")])]),s("q-item-section",{staticClass:"row",attrs:{side:""}},[s("span",[e.locked?e._e():s("edit-button",{attrs:{model:t,field:"name",success:e.saveRoute}}),e.locked?e._e():s("delete-button",{attrs:{model:t,success:e.deleteRoute,label:"Delete Route?"}})],1)])],1)})),1),e.locked?e._e():s("new-button",{staticClass:"q-mt-md",attrs:{success:e.submitNew,label:"New Route Name"}})],1)],1),e.selectedRoute?s("div",{staticClass:"col text-left q-mx-xs bg-secondary bd-font-secondary"},[s("q-bar",{staticClass:"text-accent bg-tertiary"},[e._v(e._s(e.selectedRoute.name))]),e.selectedRoute.id?s("q-card",{staticClass:"no-shadow"},[s("q-card-section",{staticClass:"row bg-secondary no-shadow"},[s("div",{staticClass:"col q-mr-md"},[s("q-bar",{staticClass:"text-font text-bold q-mb-xs no-shadow no-border",staticStyle:{background:"none"}},[s("span",{staticClass:"q-mr-md"},[e._v("Coaches")]),e.locked?e._e():s("new-button-double",{staticClass:"q-mt-sm q-mb-sm q-ml-lg",attrs:{success:e.newCoach,label:"Bus Code",label2:"Capacity?",type2:"number"}})],1),s("q-list",e._l(e.selectedRoute.coaches,(function(t){return s("q-expansion-item",{key:t.id,staticClass:"bg-tertiary q-mb-sm",scopedSlots:e._u([{key:"header",fn:function(){return[s("q-item-section",{attrs:{avatar:""}},[s("q-icon",{attrs:{color:"accent",name:"fal fa-bus"}})],1),s("q-item-section",{staticClass:"text-white row"},[s("q-item-label",{attrs:{lines:"1"}},[e._v(e._s(t.code))]),s("q-item-label",{staticClass:"text-white",attrs:{caption:""}},[e._v(e._s(t.capacity)+" seats  ---  "+e._s(t.activeCount)+" stops")])],1),s("q-item-section",{staticClass:"row",attrs:{side:""}},[s("span",{staticClass:"text-white"},[e.locked?e._e():s("edit-button",{staticClass:"q-ml-xs",attrs:{model:t,field:"code",icon:"fal fa-tag",success:e.saveCoach,tooltip:"Change Bus Code"}}),e.locked?e._e():s("edit-button",{staticClass:"q-ml-xs",attrs:{model:t,type:"number",field:"capacity",icon:"fal fa-users",success:e.saveCoach,tooltip:"Change Capacity"}}),e.locked?e._e():s("delete-button",{staticClass:"q-ml-xs",attrs:{tooltip:"Delete Coach",model:t,success:e.deleteCoach,label:"Delete Coach?"}})],1)])]},proxy:!0}],null,!0)},[s("q-card",{staticStyle:{"border-top":"1px solid font"}},[s("q-card-section",{staticClass:"bg-tertiary text-white"},[s("q-list",[s("q-item",{attrs:{tagx:"label"}},[s("q-item-section",{attrs:{avatar:""}},e._l(t.stops,(function(a){return a.isSchoolLocation?e._e():s("q-checkbox",{key:a.id,staticClass:"row",attrs:{dark:"",label:a.name,color:"accent"},on:{input:function(s){return e.clickCoachStop(t,a)}},model:{value:a.isActive,callback:function(t){e.$set(a,"isActive",t)},expression:"stop.isActive"}})})),1)],1)],1)],1)],1)],1)})),1)],1),s("div",{staticClass:"col q-pl-md",staticStyle:{"border-left":"1px solid font"}},[s("q-bar",{staticClass:"text-font text-bold",staticStyle:{background:"none"}},[e._v("Route")]),s("q-timeline",{attrs:{layoutx:"dense",side:"right",color:"accent"}},e._l(e.selectedRoute.stops,(function(t){return s("q-timeline-entry",{key:t.id,staticClass:"text-font",attrs:{title:t.name,subtitle:e.canChangeTime(t)?t.time:"",side:"left"}},[s("span",{staticClass:"no-shadow",staticStyle:{"margin-top":"-30px"}},[e.locked?e._e():s("edit-button",{staticClass:"q-ml-xs",attrs:{model:t,field:"name",success:e.saveStop,tooltip:"Edit Stop Name"}}),e.locked||0!==t.isSchoolLocation?e._e():s("delete-button",{staticClass:"q-ml-xs",attrs:{model:t,success:e.deleteStop,label:"Delete Stop?",tooltip:"delete stop"}}),!e.locked&&e.canChangeTime(t)?s("edit-button",{staticClass:"q-ml-xs",attrs:{model:t,type:"time",field:"time",color:"00:00"===t.time?"warning":"font",icon:"fal fa-clock",success:e.saveStop,tooltip:"Change Time (affects stop order)"}}):e._e(),e.locked||0!==t.isSchoolLocation?e._e():s("edit-button",{staticClass:"q-ml-sm",attrs:{model:t,field:"cost",label:"Â£"+t.cost,icon:"fal fa-credit-card",success:e.saveStop,tooltip:"Set Price",outline:"",color:0===t.cost?"warning":"font"}})],1)])})),1),e.locked?e._e():s("new-button",{attrs:{label:"New stop name",success:e.newStop}})],1)])],1):e._e()],1):e._e()])},o=[],n=(s("e125"),s("2e73"),s("8e9e")),i=s.n(n),r=s("9ce4"),l=s("5228"),c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-btn",{staticClass:"col",attrs:{size:e.size,flat:"",dense:"",icon:e.icon},on:{click:function(e){e.stopPropagation()}}},[e.tooltip?s("q-tooltip",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[e._v("\n     "+e._s(e.tooltip)+"\n   ")]):e._e(),s("q-popup-proxy",[s("q-card",{staticClass:"bg-primary ada-card-outline",staticStyle:{width:"200px"},attrs:{dark:""}},[s("q-card-section",[e._v("\n        "+e._s(e.label)+"\n      ")]),s("q-separator",{attrs:{dark:"",inset:""}}),s("q-card-section",{staticClass:"row q-gutter-sm"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col",attrs:{color:"pink",label:"No"}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col",attrs:{color:"positive","text-color":"black",label:"Yes"},on:{click:function(t){return e.success(e.model)}}})],1)],1)],1)],1)},d=[],u={name:"Component.Buttons.Delete",props:{success:{type:Function,required:!0},model:{type:Object,required:!0},size:{type:String,default:"sm"},icon:{type:String,default:"fal fa-trash"},label:{type:String,default:"Delete"},tooltip:{type:String}},data(){return{}},methods:{},computed:{},components:{},created(){}},p=u,h=(s("00f9"),s("2be6")),m=s("2ef0"),f=s("3aaf"),b=s("8c18"),g=s("ebe6"),y=s("965d"),w=s("96f0"),v=s("58c0"),x=s("e279"),q=s.n(x),C=Object(h["a"])(p,c,d,!1,null,"68a5a28f",null),S=C.exports;q()(C,"components",{QBtn:m["a"],QTooltip:f["a"],QPopupProxy:b["a"],QCard:g["a"],QCardSection:y["a"],QSeparator:w["a"]}),q()(C,"directives",{ClosePopup:v["a"]});var _=s("ad81"),k=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-btn",{attrs:{size:e.size,icon:e.icon,outline:"",color:"accent",dense:""}},[e.tooltip?s("q-tooltip",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[e._v("\n     "+e._s(e.tooltip)+"\n   ")]):e._e(),s("q-popup-proxy",{ref:"popup"},[s("q-banner",{staticClass:"bg-secondary text-font q-pt-md bd-font-seconary ada-new-banner",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit()}}},[s("q-input",{attrs:{label:e.label,type:e.type,autofocus:"",color:"font"},model:{value:e.data,callback:function(t){e.data=t},expression:"data"}}),s("q-input",{attrs:{label:e.label2,type:e.type2,color:"font"},model:{value:e.data2,callback:function(t){e.data2=t},expression:"data2"}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"full-width highlight q-mt-md",attrs:{disabled:0===e.data.length||0===e.data2.length,outline:"",label:"submit"},on:{click:function(t){return e.submit()}}})],1)],1)],1)},O=[],j={name:"Component.Buttons.New",props:{success:{type:Function,required:!0},size:{type:String,default:"xs"},icon:{type:String,default:"fal fa-plus"},label:{type:String,default:"New"},type:{type:String,default:""},label2:{type:String,default:"New"},type2:{type:String,default:""},tooltip:{type:String}},data(){return{data:"",data2:""}},methods:{submit(){0!==this.data.length&&0!==this.data2.length&&(this.success(this.data,this.data2),this.data="",this.data2="",this.$refs.popup.hide())}},computed:{},components:{},created(){}},R=j,P=(s("d09c"),s("01a4")),Q=s("bc74"),$=Object(h["a"])(R,k,O,!1,null,"575437f3",null),E=$.exports;q()($,"components",{QBtn:m["a"],QTooltip:f["a"],QPopupProxy:b["a"],QBanner:P["a"],QInput:Q["a"]}),q()($,"directives",{ClosePopup:v["a"]});var I=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-btn",{staticClass:"col",attrs:{size:e.size,flat:"",dense:"",icon:e.icon,color:e.color,label:e.label},on:{click:function(e){e.stopPropagation()}}},[e.tooltip?s("q-tooltip",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[e._v("\n     "+e._s(e.tooltip)+"\n   ")]):e._e(),s("q-popup-edit",{on:{save:function(t){return e.success(e.model)},hide:function(t){return e.success(e.model)}},model:{value:e.model[e.field],callback:function(t){e.$set(e.model,e.field,t)},expression:"model[field]"}},[s("q-banner",{staticClass:"text-font q-pt-none q-pt-md",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.success(e.model)}}},[s("q-input",{attrs:{type:e.type,dense:"",autofocus:"",outline:"",color:"font"},model:{value:e.model[e.field],callback:function(t){e.$set(e.model,e.field,t)},expression:"model[field]"}})],1)],1)],1)},D=[],B={name:"Component.Buttons.Edit",props:{success:{type:Function,required:!0},model:{type:Object,required:!0},field:{type:String,required:!0},size:{type:String,default:"sm"},icon:{type:String,default:"fal fa-edit"},label:{type:String,default:""},title:{type:String,default:"Edit"},type:{type:String,default:""},tooltip:{type:String},color:{type:String,default:"font"}},data(){return{name:""}},methods:{},computed:{},components:{},created(){}},N=B,T=(s("e3c5"),s("d200")),L=Object(h["a"])(N,I,D,!1,null,"0129b0a9",null),H=L.exports;function A(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function F(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?A(Object(s),!0).forEach((function(t){i()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):A(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}q()(L,"components",{QBtn:m["a"],QTooltip:f["a"],QPopupEdit:T["a"],QBanner:P["a"],QInput:Q["a"]});var Y={name:"Tbs.Coaches.Setup",props:{session:{type:Number},locked:{type:Boolean,default:!1}},data(){return{direction:"outbound",routes:[],selectedRouteId:null,selectedRoute:{id:null,name:null},newName:"",temp:!1}},methods:{clickCoachStop(e,t){console.warn(e,t);var s={coachId:e.id,stopId:t.id,isActive:t.isActive};l["a"].putCoachStop(this.getRoute,this.$error,s)},canChangeTime(e){return!0},getRoutes(){l["a"].getRoutes(this.processRoutes,null,this.session)},saveRoute(e){l["a"].putRoute(this.getRoutes,null,e)},deleteRoute(e){l["a"].deleteRoute(this.getRoutes,null,e.id),e.id===this.selectedRouteId&&(this.selectedRouteId=null,this.selectedRoute={id:null,name:null})},setSession(){},processRoutes(e){this.routes=e,this.setTopActive()},selectRoute(e){e.id!==this.selectedRouteId&&(this.selectedRoute=e,this.selectedRouteId=e.id)},submitNew(e){this.$q.loading.show();var t={name:e,sessionId:this.session,isReturn:this.isReturn};l["a"].postRoute(e=>{this.selectedRoute=e,this.selectedRouteId=e.id,this.getRoutes(),this.$q.loading.hide()},null,t)},newStop(e){l["a"].postStop(this.getRoute,null,{routeId:this.selectedRouteId,name:e})},saveStop(e){l["a"].putStop(this.getRoute,null,e)},deleteStop(e){l["a"].deleteStop(this.getRoute,null,e.id)},getRoute(){var e=this.selectedRouteId;l["a"].getRoute(e=>{console.log(e),this.selectedRoute=e},null,e)},newCoach(e,t){l["a"].postCoach(this.getRoute,null,{routeId:this.selectedRouteId,code:e,capacity:t})},saveCoach(e){l["a"].putCoach(this.getRoute,null,e)},deleteCoach(e){l["a"].deleteCoach(this.getRoute,null,e.id)},setTopActive(){var e=this.activeRoutes[0];if(!e)return this.selectedRouteId=null,void(this.selectedRoute=null);this.selectedRouteId=e.id,this.selectedRoute=e,this.getRoute()}},watch:{selectedRouteId(){this.getRoute()},session(){this.getRoutes()},direction(){this.setTopActive()}},computed:F(F({},Object(r["c"])("transport",["activeSession"])),{},{isReturn(){return"outbound"===this.direction?0:1},countActiveStops(e){var t=e.stops.filter(e=>e.isActive);return t.length},activeRoutes(){var e=this.routes.filter(e=>e.isReturn===this.isReturn);return e}}),components:{DeleteButton:S,NewButton:_["a"],NewButtonDouble:E,EditButton:H},created(){0!==this.session&&(this.$store.watch(()=>this.$store.getters["transport/activeSession"],this.setSession),this.session=this.$store.getters["transport/activeSession"]),this.getRoutes()}},z=Y,M=(s("39ef"),s("4776")),K=s("dd08"),W=s("6c93"),G=s("ac9b"),U=s("66dc"),V=s("5d16"),J=s("0f3b"),X=s("34ff"),Z=s("7d9a"),ee=s("851c"),te=s("7bf9"),se=s("8aae"),ae=s("2be8"),oe=Object(h["a"])(z,a,o,!1,null,"69a630d6",null);t["a"]=oe.exports;q()(oe,"components",{QTabs:M["a"],QTab:K["a"],QList:W["a"],QItem:G["a"],QItemSection:U["a"],QPopupEdit:T["a"],QInput:Q["a"],QBar:V["a"],QCard:g["a"],QCardSection:y["a"],QExpansionItem:J["a"],QIcon:X["a"],QItemLabel:Z["a"],QCheckbox:ee["a"],QTimeline:te["a"],QTimelineEntry:se["a"]}),q()(oe,"directives",{Ripple:ae["a"]})},"42ff":function(e,t,s){"use strict";var a=s("a578"),o=s.n(a);o.a},4677:function(e,t,s){"use strict";var a=s("6e39"),o=s.n(a);o.a},"4df3":function(e,t,s){},"510c":function(e,t,s){"use strict";var a=s("a35c"),o=s.n(a);o.a},5111:function(e,t,s){},5228:function(e,t,s){"use strict";var a=s("4778"),o=s("452d");t["a"]={getRoutes(e,t,s){a["a"].get("/transport/coaches/routes/"+s).then(t=>{e(t.data)}).catch(e=>{console.log(e)})},getStops(e,t,s){a["a"].get("/transport/coaches/stops/"+s).then(t=>{e(t.data)}).catch(e=>{console.log(e)})},getRoute(e,t,s){a["a"].get("/transport/coaches/route/"+s).then(t=>{e(t.data)}).catch(e=>{console.log(e)})},postRoute(e,t,s){a["a"].post("/transport/coaches/route",s).then(t=>{e(t.data)}).catch(e=>{console.log(e),t()})},putRoute(e,t,s){a["a"].put("/transport/coaches/route",s).then(t=>{e(t.data)}).catch(e=>{console.log(e),t()})},deleteRoute(e,t,s){a["a"].delete("/transport/coaches/route/"+s).then(t=>{e(t.data)}).catch(e=>{console.log(e),t()})},postCoach(e,t,s){a["a"].post("/transport/coaches/coach",s).then(t=>{e(t.data)}).catch(e=>{console.log(e),t()})},postRegisterEmail(e,t,s){a["a"].post("/transport/coaches/coach/register/email/"+s).then(t=>{e(t.data)}).catch(e=>{console.log(e),t()})},postAllRegisterEmails(e,t){var s=o["a"].getters["transport/activeSession"];a["a"].post("/transport/coaches/registers/email/"+s).then(t=>{e(t.data)}).catch(e=>{console.log(e),t()})},putCoach(e,t,s){a["a"].put("/transport/coaches/coach",s).then(t=>{e(t.data)}).catch(e=>{console.log(e),t()})},deleteCoach(e,t,s){a["a"].delete("/transport/coaches/coach/"+s).then(t=>{e(t.data)}).catch(e=>{console.log(e),t()})},postStop(e,t,s){a["a"].post("/transport/coaches/stop",s).then(t=>{e(t.data)}).catch(e=>{console.log(e),t()})},putStop(e,t,s){a["a"].put("/transport/coaches/stop",s).then(t=>{e(t.data)}).catch(e=>{console.log(e),t()})},deleteStop(e,t,s){a["a"].delete("/transport/coaches/stop/"+s).then(t=>{e(t.data)}).catch(e=>{console.log(e),t()})},putCoachStop(e,t,s){a["a"].put("/transport/coaches/coach/stop",s).then(t=>{e(t.data)}).catch(e=>{console.log(e),t()})},postCopyRoutes(e,t,s,o){a["a"].post("/transport/coaches/copy/"+s+"/"+o).then(t=>{e(t.data)}).catch(e=>{console.log(e),t()})},putSupervisor(e,t,s,o){a["a"].put("/transport/coaches/coach/supervisor/"+s+"/"+o).then(t=>{e(t.data)}).catch(e=>{console.log(e),t()})}}},"5a18":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"input-form"},[s("div",{ref:"new",staticClass:"row"},[e._l(e.columns,(function(t,a){return t.validations?s("div",{key:t.field,staticClass:"col-12"},[!0===!t.hidden?s("div",{staticClass:"q-mb-md",attrs:{orientation:"vertical",label:t.label,helperx:t.required?"Required":"","error-label":""}},["string"===t.type?s("q-input",{ref:a?"input"+a:"",refInFor:!0,attrs:{tabindex:"0",label:t.label,"stack-labelx":t.label,type:"text",error:e.$v.newRow[t.field].$error,autofocus:"",color:"font"},on:{blur:function(s){e.$v.newRow[t.field].$touch},input:function(s){e.$v.newRow[t.field].$touch,e.input(e.newRow[t.field],t)}},model:{value:e.newRow[t.field],callback:function(s){e.$set(e.newRow,t.field,"string"===typeof s?s.trim():s)},expression:"newRow[column.field]"}}):e._e(),"number"===t.type?s("q-input",{attrs:{tabindex:"0",label:t.label,"stack-labelx":t.label,type:"number",error:e.$v.newRow[t.field].$error,autofocus:"",color:"font"},on:{blur:function(s){e.$v.newRow[t.field].$touch},input:function(s){e.$v.newRow[t.field].$touch,e.input(e.newRow[t.field],t)}},model:{value:e.newRow[t.field],callback:function(s){e.$set(e.newRow,t.field,"string"===typeof s?s.trim():s)},expression:"newRow[column.field]"}}):e._e(),"options"===t.type&&t.options.length<4?s("q-btn-toggle",{staticClass:"q-mt-md",attrs:{label:t.label,"toggle-color":"cyan-9","text-color":"white","toggle-text-color":"accent",options:t.options,error:e.$v.newRow[t.field].$error,outline:""},on:{input:function(s){e.$v.newRow[t.field].$touch,e.input(e.newRow[t.field],t)}},model:{value:e.newRow[t.field],callback:function(s){e.$set(e.newRow,t.field,s)},expression:"newRow[column.field]"}}):e._e(),"options"===t.type&&t.options.length>3?s("q-select",{attrs:{"map-options":"","stack-label":t.label,options:t.options,label:t.label,dark:e.dark,error:e.$v.newRow[t.field].$error,"emit-value":""},on:{input:function(s){e.$v.newRow[t.field].$touch,e.input(e.newRow[t.field],t)}},model:{value:e.newRow[t.field],callback:function(s){e.$set(e.newRow,t.field,s)},expression:"newRow[column.field]"}}):e._e(),"date"===t.type||"datetime"===t.type||"time"===t.type?s("q-input",{attrs:{label:t.label,filled:"",color:"font"},on:{click:function(s){return e.clickDateInput(t.field)}},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"time"===t.type?"access_time":"event"}},[s("q-popup-proxy",{ref:"qDateProxy_"+t.field,refInFor:!0,attrs:{"transition-show":"scale","transition-hide":"scale"}},[s("div",{staticClass:"bg-dark row no-padding no-margin",staticStyle:{border:"1px solid grey"}},["date"===t.type||"datetime"===t.type?s("div",{staticClass:"col q-pb-md",staticStyle:{"border-right":"1px solid grey"}},[s("q-date",{staticClass:"row",attrs:{color:"grey-8",mask:"datetime"===t.type?"DD-MM-YYYY HH:mm":"DD-MM-YYYY","text-color":"black",flat:"",minimal:""},on:{input:function(s){e.$v.newRow[t.field].$touch,e.input(e.newRow[t.field],t)}},model:{value:e.newRow[t.field],callback:function(s){e.$set(e.newRow,t.field,s)},expression:"newRow[column.field]"}}),s("div",{staticClass:"row q-mt-md"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col q-ml-md q-mr-xs",attrs:{flatx:"",outline:"",color:"tertiary","text-color":"font",label:"clear"},on:{click:function(s){return e.clearValue(t.field)}}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col q-ml-xs q-mr-md",attrs:{outline:"",color:"positive","text-color":"positive",label:"save"}})],1)],1):e._e(),"time"===t.type||"datetime"===t.type?s("div",{staticClass:"col no-padding no-margin"},[s("q-time",{attrs:{mask:"DD-MM-YYYY HH:mm",format24h:"",color:"grey-8","text-color":"font",borderedx:"",minimal:"",flat:""},on:{input:function(s){e.$v.newRow[t.field].$touch,e.input(e.newRow[t.field],t)}},model:{value:e.newRow[t.field],callback:function(s){e.$set(e.newRow,t.field,s)},expression:"newRow[column.field]"}}),"time"===t.type?s("div",{staticClass:"row q-my-md"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col q-ml-md q-mr-xs",attrs:{flatx:"",outline:"",color:"font","text-color":"font",label:"clear"},on:{click:function(s){return e.clearValue(t.field)}}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col q-ml-xs q-mr-md",attrs:{outline:"",color:"positive","text-color":"positive",label:"save"}})],1):e._e()],1):e._e()])])],1)]},proxy:!0}],null,!0),model:{value:e.newRow[t.field],callback:function(s){e.$set(e.newRow,t.field,s)},expression:"newRow[column.field]"}}):e._e()],1):e._e()]):e._e()})),s("div",{staticClass:"row q-mt-md full-width"},[s("q-btn",{staticClass:"text-positive col",attrs:{outline:"",icon:"fal fa-check",label:"Create New"},nativeOn:{click:function(t){return e.submit(t)}}})],1)],2)])},o=[],n=s("c286"),i=s("9869"),r={name:"ComponentCrudNew",props:{rowKey:{default:"id"},columns:{required:!0,type:Array},data:{required:!0,type:Array},api:{required:!0,type:Object}},data(){return{dark:!0,newRow:{},autofocus:!1}},validations(){return{newRow:this.getValidations}},methods:{setValue(e,t){i["a"].set(this.newRow,e,t)},clearValue(e){i["a"].set(this.newRow,e,"")},clickDateInput(e){this.$refs["qDateProxy_"+e][0].show()},input(e,t){this.$emit("input",e,t)},submit(){this.$v.newRow.$touch(),this.$v.newRow.$error?this.$q.notify("Please review fields again."):this.api.post(this.success,this.error,this.newRow,this.api.parameters)},success(e){this.data.push(e),this.$emit("saved",e)},error(){this.$q.notify("Oops, something went wrong")}},computed:{getValidations(){var e={};return this.columns.forEach((function(t,s){e[t.field]=t.validations?t.validations:{}})),e},defaultYearMonth(){var e=Date.now();return n["b"].formatDate(e,"YYYY/MM")}},components:{},created(){},mounted(){console.log(this.columns)}},l=r,c=(s("9077"),s("2be6")),d=s("34ff"),u=s("2ef0"),p=s("bc74"),h=s("6dd6"),m=s("3946"),f=s("8c18"),b=s("88af"),g=s("d538"),y=s("58c0"),w=s("e279"),v=s.n(w),x=Object(c["a"])(l,a,o,!1,null,"5edff097",null);t["default"]=x.exports;v()(x,"components",{QIcon:d["a"],QBtn:u["a"],QInput:p["a"],QBtnToggle:h["a"],QSelect:m["a"],QPopupProxy:f["a"],QDate:b["a"],QTime:g["a"]}),v()(x,"directives",{ClosePopup:y["a"]})},6777:function(e,t,s){},"6e39":function(e,t,s){},"77b4":function(e,t,s){"use strict";var a=s("a1a5"),o=s.n(a);o.a},"7acd":function(e,t,s){"use strict";var a=s("16b0"),o=s.n(a);o.a},"85b2":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"q-pa-mdx"},[s("div",{staticClass:"q-gutter-md row"},[s("q-select",{staticStyle:{"min-width":"300px"},attrs:{outlined:"",dense:"","use-input":"","input-debounce":"0",label:e.label,options:e.selectOptions,"emit-values":"",clearable:"",color:"font"},on:{filter:e.filterFn},scopedSlots:e._u([{key:"no-option",fn:function(){return[s("q-item",[s("q-item-section",{staticClass:"text-font-secondary"},[e._v("\n            No Users\n          ")])],1)]},proxy:!0}]),model:{value:e.user_,callback:function(t){e.user_=t},expression:"user_"}})],1)])},o=[],n=s("4778"),i={getUserNames(e,t){n["a"].get("/users/names").then(t=>{e(t.data)}).catch(e=>{console.log(e)})},getUser(e,t,s){n["a"].get("/users/details/"+s).then(t=>{e(t.data)}).catch(e=>{console.log(e)})}},r={name:"Component.Dropdowns.Users",props:{options:{type:Array,default:()=>[]},id:{default:null},label:{default:"Common Room",type:String},user:{required:!1}},data(){return{users:[],filter:null,userOptions:[],user_:null,details:{},noEmit:!1,selectOptions:[]}},methods:{process(e){this.users=e,this.userOptions=e.map(e=>({value:e.id,label:e.displayName,firstName:e.firstname,lastName:e.lastname})),this.selectOptions=this.userOptions,this.id&&(this.noEmit=!0,this.user_=this.userOptions.find(e=>e.value===this.id))},filterFn(e,t){t(""!==e?()=>{var t=e.toLowerCase();this.selectOptions=this.userOptions.filter(e=>e.label.toLowerCase().indexOf(t)>-1)}:()=>{this.selectOptions=this.userOptions})},emit(e){this.noEmit?this.noEmit=!1:(this.details=e,this.$emit("change",e),this.$emit("update:user",e))},clear(){this.user_=null,this.$emit("update:user",null)}},computed:{},watch:{user_(){this.user_&&i.getUser(this.emit,null,this.user_.value)},user(){this.user||(this.user_=this.user)}},components:{},created(){i.getUserNames(this.process),this.options.length>0&&(this.selectOptions=this.options)}},l=r,c=(s("a916"),s("2be6")),d=s("3946"),u=s("ac9b"),p=s("66dc"),h=s("2ef0"),m=s("e279"),f=s.n(m),b=Object(c["a"])(l,a,o,!1,null,"8e11b0fe",null);t["a"]=b.exports;f()(b,"components",{QSelect:d["a"],QItem:u["a"],QItemSection:p["a"],QBtn:h["a"]})},"88cd":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"qx-pa-md"},[s("div",{staticClass:"q-gutter-mdx row"},[e.hide&&!e.showSelect&&e.chip?s("q-chip",{staticClass:"q-ma-none",attrs:{label:e.subjectName,outline:"",square:"",sizex:"sm",color:"accent"},nativeOn:{click:function(t){e.showSelect=!0}}}):e._e(),e.subject&&!e.showSelect&&e.hide?e._e():s("q-select",{staticClass:"q-pt-sm",staticStyle:{"min-width":"300px"},attrs:{filled:"",dense:"","use-input":"","input-debounce":"0",label:"Subjects",options:e.options,clearablex:""},on:{filter:e.filterFn,input:e.selectChange},scopedSlots:e._u([{key:"no-option",fn:function(){return[s("q-item",[s("q-item-section",{staticClass:"text-grey"},[e._v("\n            No Subjects\n          ")])],1)]},proxy:!0}],null,!1,1778722682),model:{value:e.subject,callback:function(t){e.subject=t},expression:"subject"}})],1)])},o=[],n=(s("e125"),s("2e73"),s("8e9e")),i=s.n(n),r=s("9ce4"),l=s("f517");function c(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function d(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?c(Object(s),!0).forEach((function(t){i()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var u={name:"Component.Dropdowns.Subjects",props:{optionsOverride:{type:Array,default:()=>[]},subjectStore:{type:String},hide:{type:Boolean,default:!1},chip:{type:Boolean,default:!1}},data(){return{subjects:[],filter:null,subjectOptions:[],options:[],subject:null,showSelect:!0}},methods:d(d({},Object(r["b"])("user",["setGlobalSubject"])),{},{selectChange(){this.showSelect=!1,this.setGlobalSubject(this.subject)},process(e){if(this.subjects=e,this.subjectOptions=e.map(e=>({value:e.name,label:e.name,name:e.name,code:e.code,id:e.id})),this.options=this.subjectOptions,this.subjectStore){var t=this.$store.getters[this.subjectStore];this.subject=this.subjectOptions.find(e=>e.value===t.id)}},filterFn(e,t){t(""!==e?()=>{var t=e.toLowerCase();this.options=this.subjectOptions.filter(e=>e.label.toLowerCase().indexOf(t)>-1)}:()=>{this.options=this.subjectOptions})}}),computed:d(d({},Object(r["c"])("user",["getGlobalSubject"])),{},{subjectName(){return this.subject?this.subject.name:""}}),watch:{subject(){this.$emit("change",{label:this.subject.name,value:this.subject.name,name:this.subject.name,code:this.subject.code,id:this.subject.id})}},components:{},created(){this.subject=this.getGlobalSubject,this.subject&&(this.showSelect=!1),l["a"].getSubjectNames(this.process)}},p=u,h=(s("1bf8"),s("2be6")),m=s("2ef0"),f=s("4840"),b=s("3946"),g=s("ac9b"),y=s("66dc"),w=s("e279"),v=s.n(w),x=Object(h["a"])(p,a,o,!1,null,"10b03554",null);t["a"]=x.exports;v()(x,"components",{QBtn:m["a"],QChip:f["a"],QSelect:b["a"],QItem:g["a"],QItemSection:y["a"]})},"89cf":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.exams.length>1?s("div",{staticClass:"q-ma-xs q-pl-md q-pt-xsx",attrs:{exam:"row fitx full-widthx"}},[s("q-btn-toggle",{staticStyle:{"font-size":"3px"},attrs:{spreadx:"","no-caps":"",densex:"",flat:"","toggle-color":"tertiary",color:"secondary","text-color":"font-secondary","toggle-text-color":"positive",options:e.examOptions,size:"sm"},on:{input:e.change},model:{value:e.selectedExam,callback:function(t){e.selectedExam=t},expression:"selectedExam"}})],1):e._e()},o=[],n=(s("e125"),s("2e73"),s("8e9e")),i=s.n(n),r=s("268c"),l=s("9ce4");function c(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function d(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?c(Object(s),!0).forEach((function(t){i()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var u={name:"Component.Home.Exams.ExamBar",props:{},data(){return{exams:[],selectedExam:null,subject:null,subjectId:null,year:null}},methods:d(d({},Object(l["d"])("hod",["setActiveExam"])),{},{process(e){this.exams=e,this.selectedExam=this.exams[0].id,this.$emit("loaded"),this.change()},change(){var e=this.exams.find(e=>e.id===this.selectedExam);this.setActiveExam(e.id),this.$emit("change",e)},setExams(){this.subject=this.$store.getters["user/getGlobalSubject"],this.year=this.$store.getters["hod/activeYear"],this.subject&&this.year&&r["a"].getExams(this.process,this.$errorHandler,this.subject.id,this.year)}}),computed:{examOptions(){return this.exams.map(e=>({value:e.id,label:e.examName}))}},components:{},created(){this.subjectWatch=this.$store.watch(()=>this.$store.getters["user/getGlobalSubject"],this.setExams),this.examWatch=this.$store.watch(()=>this.$store.getters["hod/activeYear"],this.setExams),this.setExams()},beforeDestroy(){this.subjectWatch(),this.examWatch()}},p=u,h=(s("d334"),s("2be6")),m=s("6dd6"),f=s("e279"),b=s.n(f),g=Object(h["a"])(p,a,o,!1,null,"0c333c04",null);t["a"]=g.exports;b()(g,"components",{QBtnToggle:m["a"]})},"8b05":function(e,t,s){"use strict";var a=s("4778");t["a"]={getNames(e,t){a["a"].get("/students/names").then(t=>{e(t.data)}).catch(e=>{console.log(e)})},getDetails(e,t,s){a["a"].get("/students/details/"+s.id).then(t=>{e(t.data)}).catch(e=>{console.log(e)})},getTags(e,t){a["a"].get("/students/tags").then(t=>{e(t.data)}).catch(e=>{console.log(e)})}}},"8bbc":function(e,t,s){},"902c":function(e,t,s){},9077:function(e,t,s){"use strict";var a=s("f1da"),o=s.n(a);o.a},"972e":function(e,t,s){"use strict";var a=s("ef38"),o=s.n(a);o.a},"9bca":function(e,t,s){},"9cf3":function(e,t,s){},"9d37":function(e,t,s){"use strict";var a=s("4778"),o=s("452d");t["a"]={getDeadlines(e,t,s){a["a"].get("/transport/sessions/deadlines/"+s).then(t=>{e(t.data)}).catch(e=>{e()})},getSessions(e,t){a["a"].get("/transport/sessions").then(t=>{e(t.data)}).catch(e=>{e()})},getSession(e,t,s){a["a"].get("/transport/sessions/"+s).then(t=>{e(t.data)}).catch(e=>{e()})},activateSession(e,t,s){a["a"].post("/transport/sessions/activate/"+s).then(t=>{e(t.data)}).catch(e=>{e()})},activateSessionFromCheckist(e,t,s){var n=o["a"].getters["transport/activeSession"];s=!0===s?1:0,a["a"].post("/transport/sessions/activate/checklist/"+n+"/"+s).then(t=>{e(t.data)}).catch(e=>{e()})},deleteSession(e,t,s){a["a"].delete("/transport/sessions/"+s).then(t=>{e(t.data)}).catch(e=>{e()})},putSession(e,t,s){a["a"].put("/transport/sessions",s).then(t=>{e(t.data)}).catch(e=>{e()})},postSession(e,t,s){a["a"].post("/transport/sessions",s).then(t=>{e(t.data)}).catch(e=>{e()})},postSelfService(e,t,s){var n=o["a"].getters["transport/activeSession"];a["a"].post("/transport/sessions/"+n+"/selfservice/"+s).then(t=>{e(t.data)}).catch(e=>{e(),t()})}}},a1a5:function(e,t,s){},a35c:function(e,t,s){},a578:function(e,t,s){},a916:function(e,t,s){"use strict";var a=s("336f"),o=s.n(a);o.a},aba1:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.yearOptions.length>1?s("div",{attrs:{year:"row fitx full-width"}},[s("q-btn-toggle",{attrs:{spread:"","no-caps":"",dense:"","toggle-color":"tertiary",color:"secondary","text-color":"font-secondary","toggle-text-color":"accent",options:e.yearOptions,year:"full-width"},on:{input:e.change},model:{value:e.selectedYear,callback:function(t){e.selectedYear=t},expression:"selectedYear"}})],1):e._e()},o=[],n=(s("e125"),s("2e73"),s("8e9e")),i=s.n(n),r=s("268c"),l=s("9ce4");function c(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function d(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?c(Object(s),!0).forEach((function(t){i()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var u={name:"Component.Home.Years.YearBar",props:{},data(){return{years:[],selectedYear:null,subjectId:null}},methods:d(d({},Object(l["d"])("hod",["setActiveYear"])),{},{process(e){this.years=e,this.years[0].id!==this.selectedYear&&(this.selectedYear=this.years[0].id,this.change())},change(){var e=this.years.find(e=>e.id===this.selectedYear);this.setActiveYear(e.id),this.$emit("change",e)},setYears(){this.subject=this.$store.getters["user/getGlobalSubject"],this.subject&&r["a"].getYears(this.process,this.$errorHandler,this.subject.id)}}),computed:{yearOptions(){return this.years.map(e=>({value:e.id,label:e.name}))}},components:{},created(){this.subjectWatch=this.$store.watch(()=>this.$store.getters["user/getGlobalSubject"],this.setYears),this.setYears()},beforeDestroy(){this.subjectWatch&&this.subjectWatch()}},p=u,h=(s("cfdf"),s("2be6")),m=s("6dd6"),f=s("e279"),b=s.n(f),g=Object(h["a"])(p,a,o,!1,null,"5f393166",null);t["a"]=g.exports;b()(g,"components",{QBtnToggle:m["a"]})},ad81:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-btn",e._b({staticClass:"q-pr-xs"},"q-btn",e.$props,!1),[e.tooltip?s("q-tooltip",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[e._v("\n     "+e._s(e.tooltip)+"\n   ")]):e._e(),s("q-popup-proxy",{ref:"popup",staticClass:"q-mt-md"},[s("q-banner",{staticClass:"bg-tertiary text-font q-pt-none q-pt-md ada-new-banner",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit()}}},[s("q-input",{attrs:{outline:"",color:"font-secondary",label:e.title,type:e.type,autofocus:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"full-width highlightx q-mt-md",attrs:{disabled:0===e.name.length,outline:"",color:"positive",label:"submit"},on:{click:function(t){return e.submit()}}})],1)],1)],1)},o=[],n={name:"Component.Buttons.New",props:{success:{type:Function,required:!0},size:{type:String,default:"xs"},outline:{type:Boolean,default:!0},color:{type:String,default:"accent"},dense:{type:Boolean,default:!0},icon:{type:String,default:"fal fa-plus"},label:{type:String,default:""},title:{type:String,default:"New"},type:{type:String,default:""},tooltip:{type:String}},data(){return{name:""}},methods:{submit(){0!==this.name.length&&(this.success(this.name),this.name="",this.$refs.popup.hide())}},computed:{},components:{},created(){}},i=n,r=(s("77b4"),s("2be6")),l=s("2ef0"),c=s("3aaf"),d=s("8c18"),u=s("01a4"),p=s("bc74"),h=s("58c0"),m=s("e279"),f=s.n(m),b=Object(r["a"])(i,a,o,!1,null,"556f4acc",null);t["a"]=b.exports;f()(b,"components",{QBtn:l["a"],QTooltip:c["a"],QPopupProxy:d["a"],QBanner:u["a"],QInput:p["a"]}),f()(b,"directives",{ClosePopup:h["a"]})},b0d4:function(e,t,s){"use strict";var a=s("6777"),o=s.n(a);o.a},bfaa:function(e,t,s){},c0f5:function(e,t,s){"use strict";var a=s("4778");t["a"]={getStudentNames(e,t){a["a"].get("/students/names").then(t=>{e(t.data)}).catch(e=>{console.log(e)})},getStudentList(e,t){a["a"].get("/students/list").then(t=>{e(t.data)}).catch(e=>{console.log(e)})},getStudentSubjects(e,t,s){a["a"].get("/students/profile/subjects/"+s).then(t=>{e(t.data)}).catch(e=>{console.log(e)})}}},c4f4:function(e,t,s){},c686:function(e,t,s){"use strict";var a=s("4778");t["a"]={getLogs(e,t,s){a["a"].get("/admin/logs").then(t=>{e(t.data)}).catch(e=>{console.log(e)})},getResources(e,t,s){a["a"].get("/admin/logs/resources").then(t=>{e(t.data)}).catch(e=>{console.log(e)})},getConnections(e,t,s){a["a"].get("/admin/logs/connections").then(t=>{e(t.data)}).catch(e=>{console.log(e)})},getAccessPages(e,t,s){a["a"].get("/admin/logs/access/pages").then(t=>{e(t.data)}).catch(e=>{console.log(e)})}}},ca92:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("q-page",{staticClass:"no-scroll",style:e.$q.platform.is.desktop?"padding-top:33px":""},[s("q-toolbar",{staticClass:"bg-primary desktop-only items-center",staticStyle:{"border-bottom":"1px solid black"}},[s("q-btn",{staticClass:"no-border glow hidden",attrs:{flat:"",round:"",dense:"",icon:e.icon,color:"accent"}}),e.selectStudent?s("students",{staticClass:"q-mt-xs",attrs:{studentStore:e.studentStore},on:{change:e.changeStudent}}):e._e(),e.selectSubject?s("subjects",{staticClass:"q-mt-xs",attrs:{hide:"",chip:""},on:{change:e.changeSubject}}):e._e(),e.selectHouse?s("houses",{staticClass:"q-mt-xs",attrs:{hide:"",chip:""},on:{change:e.changeHouse}}):e._e(),s("q-tabs",{staticClass:"text-font-secondary q-pt-sm q-pl-sm",attrs:{"inline-label":"","active-color":"accent",dense:"",shrink:"","indicator-color":"primary",align:"left"},model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},e._l(e.routes,(function(t,a){return e.getPageAccess(e.module,t.page)?s("q-route-tab",{key:t.name,attrs:{activeClass:"text-accent",default:1==a,name:t.page,icon:t.icon+" fa-mu",label:e.hideLabels?"":t.label,to:t.route,exact:""}},[e.hideLabels?s("q-tooltip",[e._v("\n            "+e._s(t.label)+"\n          ")]):e._e()],1):e._e()})),1),s("q-space"),e.settingsRoute?s("q-btn",{staticClass:"q-mr-sm q-mt-sm",attrs:{icon:e.settingsIcon,"text-color":e.$router.currentRoute.path===e.settingsRoute?"accent":"font",unelevated:""},on:{click:function(t){return e.$router.push(e.settingsRoute)}}}):e._e(),e.options.length>0?s("q-select",{staticClass:"text-accent q-pt-xs q-pb-xs",staticStyle:{"min-width":"250px","max-width":"500px","margin-bottom":"0px","padding-bottom":"0px","margin-top":"3px"},attrs:{options:e.options,hint:e.label,dense:"",filled:"","map-options":"",placeholder:e.placeholder,"input-style":"max-height:20px",filter:"","filter-placeholder":"search",color:e.globalInterface?"font":"warning"},model:{value:e.globalInterface,callback:function(t){e.globalInterface=t},expression:"globalInterface"}}):e._e()],1),s("router-view",{staticClass:"bg-secondary"})],1),s("q-footer",{staticClass:"bg-primary text-white mobile-only",staticStyle:{"z-index":"3001"},attrs:{elevated:"",bordered:""}},[s("q-toolbar",[s("q-icon",{staticClass:"q-mr-md",attrs:{size:"md",color:"font-secondary",name:"menu"},on:{click:e.toggleMenu}}),e.selectStudent?s("students",{staticClass:"q-mt-xs",attrs:{studentStore:e.studentStore},on:{change:e.changeStudent}}):e._e(),e.selectSubject?s("subjects",{staticClass:"q-mt-xs",attrs:{hide:"",chip:""},on:{change:e.changeSubject}}):e._e(),e.selectHouse?s("houses",{attrs:{hide:"",chip:"",classx:"q-mt-xs"},on:{change:e.changeHouse}}):e._e(),s("q-tabs",{staticClass:"text-font-secondary",attrs:{"inline-label":"","active-color":"accent","indicator-color":"primary",dense:"",shrink:"",align:"left"},model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},e._l(e.routes,(function(t,a){return e.getPageAccess(e.module,t.page)?s("q-route-tab",{key:t.name,staticStyle:{width:"50px"},attrs:{default:1==a,name:t.page,icon:t.icon+" fa-mu",to:t.route,exact:""}}):e._e()})),1)],1)],1)],1)},o=[],n=(s("e125"),s("2e73"),s("8e9e")),i=s.n(n),r=s("0082"),l=s("88cd"),c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"qx-pa-md"},[s("div",{staticClass:"q-gutter-mdx row"},[e.hide&&!e.showSelect&&e.chip?s("q-chip",{staticClass:"q-ma-none desktop-only",attrs:{label:e.houseName,outline:"",square:"",sizex:"sm",color:"accent"},nativeOn:{click:function(t){e.showSelect=!0}}}):e._e(),e.hide&&e.chip?s("q-chip",{staticClass:"q-ma-none mobile-only",attrs:{label:e.house?e.houseName:"Select House",outline:"",square:"",sizex:"sm",color:"accent"},nativeOn:{click:function(t){e.menuOpen=!0}}}):e._e(),e.house&&!e.showSelect&&e.hide?e._e():s("q-select",{staticClass:"q-pt-sm q-mb-xs desktop-only",staticStyle:{"min-width":"300px"},attrs:{filled:"",dense:"","use-input":"","input-debounce":"0",label:"Houses",options:e.options,clearablex:""},on:{filter:e.filterFn,input:e.selectChange},scopedSlots:e._u([{key:"no-option",fn:function(){return[s("q-item",[s("q-item-section",{staticClass:"text-grey"},[e._v("\n            No Houses\n          ")])],1)]},proxy:!0}],null,!1,2104994274),model:{value:e.house,callback:function(t){e.house=t},expression:"house"}}),s("q-btn",{staticClass:"mobile-only",attrs:{dense:"",flat:"","no-caps":""}},[s("q-menu",{ref:"settingsPopover",attrs:{"content-class":"bg-grey-9 text-white bd-font","auto-close":"",label:"Basic Menu"},model:{value:e.menuOpen,callback:function(t){e.menuOpen=t},expression:"menuOpen"}},[s("q-list",{staticStyle:{"min-width":"200px"},attrs:{"item-separator":"",link:"","content-class":"bg-primary"}},e._l(e.options,(function(t){return s("q-item",{key:t.value,attrs:{clickable:""},on:{click:function(s){e.house=t,e.selectChange()}}},[s("q-item-section",[s("q-item-label",[e._v(e._s(t.label))])],1)],1)})),1)],1)],1)],1)])},d=[],u=s("9ce4"),p=s("4778"),h={getHouseNames(e,t){p["a"].get("/hm/houses").then(t=>{e(t.data)}).catch(e=>{console.log(e)})}};function m(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function f(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?m(Object(s),!0).forEach((function(t){i()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):m(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var b={name:"Component.Dropdowns.Subjects",props:{optionsOverride:{type:Array,default:()=>[]},subjectStore:{type:String},hide:{type:Boolean,default:!1},chip:{type:Boolean,default:!1}},data(){return{houses:[],filter:null,houseOptions:[],options:[],house:null,showSelect:!0,menuOpen:!1}},methods:f(f({},Object(u["b"])("user",["setGlobalHouse"])),{},{selectChange(){this.showSelect=!1,this.setGlobalHouse(this.house)},process(e){if(this.houses=e,this.houseOptions=e.map(e=>({value:e.name,label:e.name,name:e.name,code:e.code,id:e.id})),this.options=this.houseOptions,this.houseStore){var t=this.$store.getters[this.houseStore];this.house=this.houseOptions.find(e=>e.value===t.id)}},filterFn(e,t){t(""!==e?()=>{var t=e.toLowerCase();this.options=this.houseOptions.filter(e=>e.label.toLowerCase().indexOf(t)>-1)}:()=>{this.options=this.houseOptions})}}),computed:f(f({},Object(u["c"])("user",["getGlobalHouse"])),{},{houseName(){return this.house?this.house.name:""}}),watch:{house(){this.$emit("change",{label:this.house.name,value:this.house.name,name:this.house.name,code:this.house.code,id:this.house.id})}},components:{},created(){this.house=this.getGlobalHouse,this.house&&(this.showSelect=!1),h.getHouseNames(this.process)}},g=b,y=(s("1ea0"),s("2be6")),w=s("2ef0"),v=s("4840"),x=s("3946"),q=s("ac9b"),C=s("66dc"),S=s("6a2f"),_=s("6c93"),k=s("7d9a"),O=s("e279"),j=s.n(O),R=Object(y["a"])(g,c,d,!1,null,"8c934e18",null),P=R.exports;function Q(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function $(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(s),!0).forEach((function(t){i()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Q(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}j()(R,"components",{QBtn:w["a"],QChip:v["a"],QSelect:x["a"],QItem:q["a"],QItemSection:C["a"],QMenu:S["a"],QList:_["a"],QItemLabel:k["a"]});var E={name:"ComponentModuleIndex",props:{selectStudent:{type:Boolean,default:!1},selectSubject:{type:Boolean,default:!1},selectHouse:{type:Boolean,default:!1},studentStore:{type:String},settingsRoute:{default:null},settingsIcon:{type:String,default:"fal fa-cogs"},options:{type:Array,default(){return[]}},placeholder:{type:String,default:"Select"},label:{type:String,default:""},icon:{type:String,default:"fal fa-bomb"},module:{retured:!0,type:String},routes:{required:!0,type:Array,default(){return[{label:"Test",page:"test",icon:"fal fa-bug",route:""}]}},active:null,hideLabels:{type:Boolean,default:!0}},data(){return{currentTab:null,menuOpen:!1}},components:{Students:r["a"],Subjects:l["a"],Houses:P},computed:$($($({},Object(u["e"])("user",["isDark","isLight"])),Object(u["c"])("user",["getPageAccess","getModuleColor"])),{},{globalInterface:{get(){return this.active},set(e){this.$emit("set",e)}}}),methods:$($({},Object(u["b"])("user",["setPrimaryColor","toggleMenu"])),{},{changeStudent(e){this.$emit("changeStudent",e)},changeSubject(e){this.$emit("changeSubject",e)},changeHouse(e){this.$emit("changeHouse",e)}}),mounted(){},created(){}},I=E,D=(s("7acd"),s("8c42")),B=s("eb05"),N=s("4776"),T=s("d3a4"),L=s("3aaf"),H=s("f962c"),A=s("c8ed"),F=s("34ff"),Y=Object(y["a"])(I,a,o,!1,null,"63347912",null);t["a"]=Y.exports;j()(Y,"components",{QPage:D["a"],QToolbar:B["a"],QBtn:w["a"],QTabs:N["a"],QRouteTab:T["a"],QTooltip:L["a"],QSpace:H["a"],QSelect:x["a"],QFooter:A["a"],QIcon:F["a"]})},cfa74:function(e,t,s){"use strict";var a=s("9bca"),o=s.n(a);o.a},cfdf:function(e,t,s){"use strict";var a=s("ef22"),o=s.n(a);o.a},d09c:function(e,t,s){"use strict";var a=s("5111"),o=s.n(a);o.a},d2b5:function(e,t,s){"use strict";var a=s("4778");t["a"]={getStaffDetails(e,t,s){a["a"].get("/aux/covid/staff/"+s).then(t=>{e(t.data)}).catch(e=>{console.log(e)})},postStaffResponse(e,t,s){a["a"].post("/aux/covid/staff",s).then(t=>{e(t.data)}).catch(e=>{console.log(e)})},getStudentDetails(e,t,s){a["a"].get("/aux/covid/student/"+s).then(t=>{e(t.data)}).catch(e=>{console.log(e)})},postStudentResponse(e,t,s){a["a"].post("/aux/covid/student",s).then(t=>{e(t.data)}).catch(e=>{console.log(e)})}}},d334:function(e,t,s){"use strict";var a=s("4df3"),o=s.n(a);o.a},d612:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row col crud-table no-shadow "},[s("q-splitter",{staticClass:"full-width",attrs:{"separator-class":e.seperatorClass,"separator-style":{width:"1px"},limits:e.splitterLimits,color:"accent"},scopedSlots:e._u([{key:"before",fn:function(){return[e.showTable?s("div",{staticClass:"col q-pr-sm no-shadow",style:[e.maxWidth>0?{"max-width":e.maxWidth+"px",margin:"auto"}:""]},[e.title.length>0&&!e.isPopup?s("div",{staticClass:"row text-accent q-py-xs q-px-sm uppercase"},[e._v(e._s(e.title))]):e._e(),s("q-table",{staticClass:"sticky-header-table no-shadow no-border bg-dark full-heightx scroll",staticStyle:{"border-collapse":"separate!important","border-top-color":"none"},attrs:{"virtual-scroll":"",gridx:e.$q.screen.lt.md,"table-stylex":"max-height: 80vh; height:100%","hide-header":e.hideHeader,data:e.filteredData,columns:e.columns,"row-key":e.rowKey,filter:e.searchTerm,"filter-method":e.searchFilter,dense:"",selection:e.multiselect?"multiple":"single",selected:e.selected,pagination:e.pagination,separator:e.separator,"hide-bottomx":e.modal,loading:e.loading},on:{"update:selected":function(t){e.selected=t},"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"top",fn:function(t){return e.search||e.filterbox||e.fullscreen||e.download||e.canNew?s("div",{staticClass:"row flex-center fit no-padding",staticStyle:{"min-height":"30px"}},[s("div",{staticClass:"row flex-center fit"},[e._t("top-bar-left"),e.canNew?s("q-btn",{staticClass:"text-positive new-button q-mr-md",attrs:{"icon-color":"positive",outline:"",icon:"fad fa-plus fa-xs",size:"md",dense:""},on:{click:e.triggerNewForm}}):e._e(),!0===e.filterbox?s("q-btn-dropdown",{staticClass:"q-mr-xs action q-text-accent",attrs:{labelx:"Filter",size:"sm",icon:"fad fa-filter fa-sm",color:"accent",unelevated:"",dense:""}},[s("q-list",{staticClass:"bg-primary"},e._l(e.columns,(function(t){return!0===!t.hidden&&"options"===t.type?s("q-expansion-item",{key:t.name,attrs:{group:"somegroup",icon:t.icon,label:t.name}},[s("div",{staticClass:"bd-font"},[s("q-list",{staticClass:"bg-primary bd-font",attrs:{link:""}},e._l(t.options,(function(a){return s("q-item",{key:a.value,attrs:{clickable:""},nativeOn:{click:function(s){return e.setFilter(t.field,a.value)}}},[s("q-item-section",[s("q-item-label",{staticClass:"text-grey"},[e._v(e._s(a.label))])],1)],1)})),1)],1)]):e._e()})),1)],1):e._e(),e.search?e._e():s("q-space"),e.search?s("q-input",{ref:"search",staticClass:"col q-mb-none",class:[!0===e.filterbox?"q-mx-xs":""],staticStyle:{"min-width":"200px"},attrs:{placeholder:"Search",clearable:"",dense:"",filled:"","hide-underlines":"",autofocus:""},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"fad fa-search"}})]},proxy:!0}],null,!0),model:{value:e.searchTerm,callback:function(t){e.searchTerm=t},expression:"searchTerm"}}):e._e(),s("div",{},[e.download?s("q-btn",{staticClass:"q-ml-md",attrs:{icon:"fad fa-download fa-xs",size:"sm",dense:"",flat:"",unelevated:"",loading:e.downloadLoading},on:{click:e.downloadData}}):e._e(),e.fullscreen?s("q-btn",{staticClass:"q-ml-md text-font",attrs:{flat:"",round:"",dense:"",icon:t.inFullscreen?"fullscreen_exit":"fullscreen"},on:{click:t.toggleFullscreen}}):e._e()],1),e._t("top-bar-right")],2),s("div",{staticClass:"row full-width q-mt-xs"},[s("div",{staticClass:"col"},e._l(e.columns,(function(t){return"options"===t.type&&e.filters[t.field]&&e.filterchips?s("q-chip",{key:t.name,attrs:{"text-color":"font",iconx:"alarm",outline:"",dark:e.fadse,color:"font",dense:"",classx:"q-pa-sm",removable:""},on:{remove:function(s){e.filters[t.field]=null}}},[e._v("\n                      "+e._s(e.getOptions(t.options,e.filters[t.field]))+"\n                    ")]):e._e()})),1)])]):e._e()}},{key:"header",fn:function(t){return s("q-tr",{staticClass:"no-border",attrs:{props:t}},[e.indicator.length>0?s("q-th",{staticClass:"no-border no-padding",staticStyle:{background:"none","max-width":"5px",width:"5px!important",padding:"none",margin:"none"}}):e._e(),e.multiselect?s("q-th",{staticClass:"no-border",attrs:{"auto-width":""}},[t.multipleSelect?s("q-checkbox",{staticStyle:{"padding-left":"4px"},attrs:{dense:"","indeterminate-value":"some"},model:{value:t.selected,callback:function(s){e.$set(t,"selected",s)},expression:"props.selected"}}):e._e()],1):e._e(),e.expand&&e.details?s("q-th",{staticClass:"no-border",attrs:{"auto-width":""}}):e._e(),e._l(t.cols,(function(a){return!0===!a.hidden?s("q-th",{key:a.name,class:{"sticky-col sticky-col-head":a.sticky},staticStyle:{"text-align":"left"},attrs:{props:t}},["options"===a.type&&!0===a.filter?s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"no-border no-shadow",attrs:{icon:"fad fa-filter",size:"xs",dense:"",color:"accent",flat:"",unelevated:""},on:{click:function(e){e.stopPropagation()}}},[s("q-menu",{staticClass:"bg-primary",attrs:{dark:""}},[s("q-list",{attrs:{dense:"",link:""}},e._l(a.options,(function(t){return s("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],key:t.value,attrs:{clickable:"",sparse:""},nativeOn:{click:function(s){return e.setFilter(a.field,t.value)}}},[s("q-item-section",[s("q-item-label",{staticClass:"text-grey"},[e._v(e._s(t.label))])],1)],1)})),1)],1)],1):e._e(),e._v("\n                "+e._s(a.label)+"\n              ")],1):e._e()})),e.actions.length>0&&e.canAction||e.canDelete?s("q-th"):e._e()],2)}},{key:"top-row",fn:function(t){return e.selected.length>1?s("q-tr",{staticStyle:{height:"30px"}},[s("q-td",{staticClass:"bg-dark q-mt-md",staticStyle:{height:"30px"},attrs:{colspan:"100%"}},[s("q-btn",{staticClass:"action",attrs:{label:"delete",size:"md",dense:""}})],1)],1):e._e()}},{key:"body",fn:function(t){return[s("q-tr",{class:[!0===t.row[e.indicator]||1==t.row[e.indicator]?"indicatedRow":"normalRow",t.row[e.rowKey]===e.expandedRowId?"expanded":"",!0===e.selectIndicator&&!0===t.selected?"selectIndicator":null],attrs:{props:t},nativeOn:{click:function(s){return e.clickRow(t)}}},[e.indicator.length>0?s("q-td",{staticClass:"no-border no-padding",class:[!0===t.row[e.indicator]||"1"==t.row[e.indicator]?"indicatedCell":""],staticStyle:{"max-width":"10px",width:"10px!important",padding:"none",margin:"none"}}):e._e(),e.multiselect?s("q-td",{attrs:{"auto-width":""}}):e._e(),e.expand&&e.details?s("q-td",{attrs:{"auto-width":""}},[s("q-icon",{attrs:{name:t.row[e.rowKey]===e.expandedRowId?"fad fa-chevron-down":"fad fa-chevron-right"}})],1):e._e(),e._l(e.columns,(function(a,o){return!0===!a.hidden?s("q-td",{key:a.name,class:{"sticky-col":a.sticky},attrs:{props:t}},[s("div",{staticClass:"row",staticStyle:{"align-items":"center"}},[a.slotLeft?s("span",[s(a.slotLeft,{tag:"component",attrs:{columns:e.columns,row:t.row,data:e.data}})],1):e._e(),-1===o?s("q-btn",{staticClass:"no-border",attrs:{flat:"",round:"",dense:"",icon:"delete"},nativeOn:{click:function(s){return e.deleteItem(t.row.id)}}}):e._e(),!0===!a.hidden&&"badges"===a.type?s("span",e._l(t.row[a.field],(function(t){return s("q-badge",{key:t,staticClass:"q-mr-xs",attrs:{color:e.badgeColor(t,a),"text-color":e.badgeTextColor(t,a)}},[e._v("\n                        "+e._s(a.truncate?t.substring(0,1):t)+"\n                      ")])})),1):e._e(),!0===!a.hidden&&"badge"===a.type?s("span",[s("q-badge",{attrs:{color:e.badgeColor(t.row[a.field],a),"text-color":e.badgeTextColor(t.row[a.field],a)}},[e._v("\n                        "+e._s(a.truncate?t.row[a.field].substring(0,1):t.row[a.field])+"\n                      ")])],1):e._e(),!0===!a.hidden&&"options"===a.type?s("span",{staticClass:"inlineEdit full-width"},["options"===a.type&&!0===e.inlineEdit&&!0===e.canEdit?s("q-select",{attrs:{"map-options":"","emit-value":"",readonly:!a.editable,"hide-dropdown-icon":!a.editable,dense:"",borderless:"","popup-content-class":"bd-font",options:a.options,"hide-bottom-spacex":""},on:{input:function(s){return e.update(t.row[e.rowKey])}},model:{value:t.row[a.field],callback:function(s){e.$set(t.row,a.field,s)},expression:"props.row[column.field]"}}):e._e()],1):e._e(),!0!==a.editable||!0!==e.canEdit||!0!==e.inlineEdit||"date"!==a.type&&"datetime"!==a.type&&"time"!==a.type?e._e():s("q-btn",{staticClass:"no-shadow q-mr-xs",attrs:{"text-color":"accent",flat:"",dense:"",icon:"time"===a.type?"fad fa-clock fa-xs":"fad fa-calendar fa-xs",size:"8px"}},[s("q-popup-proxy",{staticClass:"bg-primary"},[s("div",{staticClass:"bg-primary bd-font row no-padding no-margin"},["date"===a.type||"datetime"===a.type?s("div",{staticClass:"col q-pb-md bd-font"},[s("q-date",{staticClass:"row",attrs:{color:"font-secondary",mask:"datetime"===a.type?"DD-MM-YYYY HH:mm":"DD-MM-YYYY","text-color":"font",dark:"",flat:"",minimal:""},on:{input:function(s){return e.update(t.row[e.rowKey])}},model:{value:t.row[a.field],callback:function(s){e.$set(t.row,a.field,s)},expression:"props.row[column.field]"}}),s("div",{staticClass:"row q-mt-md"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col q-ml-md q-mr-xs",attrs:{flatx:"",outline:"",color:"accent","text-color":"accent",label:"clear"},on:{click:function(){t.row[a.field]=null,e.update(t.row[e.rowKey])}}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col q-ml-xs q-mr-md",attrs:{outlinex:"",color:"accent","text-color":"dark",label:"save"}})],1)],1):e._e(),"time"===a.type||"datetime"===a.type?s("div",{staticClass:"col no-padding no-margin"},[s("q-time",{attrs:{mask:"DD-MM-YYYY HH:mm",format24h:"",color:"grey-8","text-color":"font",borderedx:"",minimal:"",flat:""},on:{input:function(s){return e.update(t.row[e.rowKey])}},model:{value:t.row[a.field],callback:function(s){e.$set(t.row,a.field,s)},expression:"props.row[column.field]"}}),"time"===a.type?s("div",{staticClass:"row q-my-md"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col q-ml-md q-mr-xs",attrs:{flatx:"",outline:"",color:"accent","text-color":"accent",label:"clear"},on:{click:function(){t.row[a.field]=null,e.update(t.row[e.rowKey])}}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col q-ml-xs q-mr-md",attrs:{outlinex:"",color:"accent","text-color":"dark",label:"save"}})],1):e._e()],1):e._e()])])],1),!0===a.editable&&!0===e.canEdit&&!0===e.inlineEdit&&"date"!==a.type&&"time"!==a.type&&"datetime"!==a.type&&"options"!==a.type?s("span",[s("q-btn",{staticClass:"no-border no-shadow q-mr-xsx",attrs:{icon:"fad fa-pen-square","text-color":"accent",size:"9px",flat:""}},[!0===a.editable&&!0===e.inlineEdit?s("q-popup-edit",{staticClass:"bg-primary",attrs:{color:"positive",title:a.label,buttons:"","content-class":"bg-primary bd-font text-font capitalize",dark:"","label-set":"Save"},on:{save:function(s){return e.update(t.row[e.rowKey])}},model:{value:t.row[a.field],callback:function(s){e.$set(t.row,a.field,s)},expression:"props.row[column.field]"}},["string"===a.type?s("q-input",{attrs:{filled:"","hide-bottom-space":"",borderless:"",autofocus:"",type:"text"},on:{inputx:function(s){return e.update(t.row[e.rowKey])}},model:{value:t.row[a.field],callback:function(s){e.$set(t.row,a.field,s)},expression:"props.row[column.field]"}}):e._e(),"number"===a.type?s("q-input",{attrs:{filled:"","hide-bottom-space":"",borderless:"",autofocus:"",type:"number"},on:{inputx:function(s){return e.update(t.row[e.rowKey])}},model:{value:t.row[a.field],callback:function(s){e.$set(t.row,a.field,s)},expression:"props.row[column.field]"}}):e._e(),"options"===a.type?s("q-select",{attrs:{"map-options":"",autofocus:"",options:a.options,"emit-value":""},on:{input:function(s){return e.update(t.row[e.rowKey])}},model:{value:t.row[a.field],callback:function(s){e.$set(t.row,a.field,s)},expression:"props.row[column.field]"}}):e._e()],1):e._e()],1)],1):e._e(),s("div",{staticClass:"col text-left",staticStyle:{overflow:"hidden"}},[!0!==!a.hidden||"string"!==a.type&&"number"!==a.type&&a.type?e._e():s("span",{staticClass:"ellipsis"},[e._v("\n                      "+e._s(t.row[a.field])+"\n                    ")]),!0!==!a.hidden||"date"!==a.type&&"time"!==a.type&&"datetime"!==a.type?e._e():s("span",[e._v(e._s(t.row[a.field]))])]),a.slotRight?s("span",[s(a.slotRight,{tag:"component",attrs:{columns:e.columns,row:t.row,data:e.data}})],1):e._e()],1)]):e._e()})),e.actions.length>0&&e.canAction||e.canDelete?s("q-td",{on:{click:function(e){e.stopPropagation()}}},[e.actions.length>0&&e.canAction||e.canDelete?s("q-btn",{staticClass:"no-border no-shadow",staticStyle:{},attrs:{icon:"fad fa-ellipsis-v",flat:"",dense:"",size:"10px","text-color":"accent"}}):e._e(),s("q-menu",{staticClass:"bg-grey",staticStyle:{"min-width":"300px"},attrs:{"content-style":'{min-width:"200px"}',"auto-close":""}},[s("q-list",{staticClass:"bg-primary text-accent q-py-xs",staticStyle:{"min-width":"150px"},attrs:{dark:""}},[e._l(e.actions,(function(a){return s("q-item",{key:a.name,staticClass:"q-mb-sm",attrs:{link:"",clickable:""},nativeOn:{click:function(s){return e.sendAction(a.event,t.row)}}},[s("q-item-section",{attrs:{avatar:""}},[s("q-icon",{staticClass:"text-accent",class:[a.icon?a.icon:""]})],1),s("q-item-section",[e._v("\n                            "+e._s(a.title)+"\n                          ")])],1)})),!0===e.canDelete?s("q-item",{attrs:{clickable:""},nativeOn:{click:function(s){return e.deleteRow(t.row)}}},[s("q-item-section",{attrs:{avatar:""}},[s("q-icon",{staticClass:"q-mr-sm text-red",attrs:{size:"lg",name:"fad fa-trash fa-menu"}})],1),s("q-item-section",[e._v("Delete")])],1):e._e()],2)],1)],1):e._e()],2),e.expand&&e.details?s("q-tr",{directives:[{name:"show",rawName:"v-show",value:t.row[e.rowKey]===e.expandedRowId,expression:"props.row[rowKey] === expandedRowId"}],class:[!0===t.row[e.indicator]?"indicatedRow":"normalRow",t.row[e.rowKey]===e.expandedRowId?"expanded":""],attrs:{props:t}},[s("q-td",{attrs:{colspan:"100%"}},[e._t("details",[s("details-row",{attrs:{canEdit:e.canEdit,columns:e.columns,selectedRow:t.row}})],{selectedRow:t.row})],2)],1):e._e()]}},{key:e.modal?"bottom":"pagination",fn:function(t){return e.hidePagination?e._e():s("div",{staticClass:"row flex-center q-py-sm"},[s("div",{staticClass:"row col flex-center"},[s("q-btn",{staticClass:"q-mr-sm no-shadow",attrs:{round:"",dense:"",size:"sm",icon:"undo",color:"","text-color":"accent",disable:t.isFirstPage},on:{click:t.prevPage}}),s("div",{staticClass:"q-mr-sm",staticStyle:{"font-size":"small"}},[e._v("Page "+e._s(t.pagination.page)+" / "+e._s(t.pagesNumber))]),s("q-btn",{staticClass:"no-shadow",attrs:{round:"",dense:"",size:"sm",icon:"redo",color:"","text-color":"accent",disable:t.isLastPage},on:{click:t.nextPage}})],1)])}}],null,!0)})],1):e._e()]},proxy:!0},e.showSidebar?{key:"after",fn:function(){return[e.showSidebar?s("div",{staticClass:"q-ml-sm",class:[e.sidebarWidth&&e.showTable?"col-"+e.sidebarWidth:"col"]},[s("q-tabs",{staticClass:"bg-toolbar text-white narrow no-border no-shadow",attrs:{dense:"",shrink:"",animated:"",swipeable:"",align:"justify","indicator-color":"accent"},model:{value:e.selectedSbComponent,callback:function(t){e.selectedSbComponent=t},expression:"selectedSbComponent"}},[e.tablehide?s("q-btn",{staticClass:"text-accent q-px-md no-shadow",attrs:{icon:e.showTable?"fad fa-arrow-left fa-xs":"fad fa-arrow-right fa-xs",dense:"",name:"details"},nativeOn:{click:function(t){e.showTable=!e.showTable}}}):e._e(),!0===e.details&&!1===e.expand?s("q-tab",{attrs:{name:"details",label:"Details"}}):e._e(),e._l(e.sidebarComponents,(function(e){return s("q-tab",{key:e.name,attrs:{name:e.name,label:e.title}})}))],2),s("q-tab-panels",{staticClass:"full-height",attrs:{"keep-alive":""},model:{value:e.selectedSbComponent,callback:function(t){e.selectedSbComponent=t},expression:"selectedSbComponent"}},[s("q-tab-panel",{staticClass:"no-border no-shadow full-height",attrs:{name:"details"}},[e._t("details",[s("details-panel",{attrs:{columns:e.columns,selectedRow:e.selectedRow}})],{selectedRow:e.selectedRow,columns:e.columns,data:e.data})],2),e._l(e.sidebarComponents,(function(t){return s("q-tab-panel",{key:t.name,attrs:{name:t.name}},[s(t.component,{key:t.name,tag:"component",attrs:{columns:e.columns,selectedRow:e.selectedRow,data:e.data}})],1)}))],2)],1):e._e()]},proxy:!0}:null],null,!0),model:{value:e.splitterModel,callback:function(t){e.splitterModel=t},expression:"splitterModel"}}),s("q-dialog",{ref:"new",attrs:{"content-classes":"new-modal bg-tertiary q-pa-md",persistent:"",bordered:"","transition-show":"scale","transition-hide":"scale"},on:{show:e.newFormFocus},model:{value:e.showNewForm,callback:function(t){e.showNewForm=t},expression:"showNewForm"}},[s("q-card",{staticClass:"bg-tertiary",attrs:{bordered:""}},[s("q-toolbar",[s("q-toolbar-title",[e._v("New")]),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",dense:"",icon:"close"}})],1),s("q-card-section",{key:e.newComponentKey},[s(e.insertComponent,{key:e.newComponentKey,tag:"component",attrs:{rowKey:e.rowKey,columns:e.columns,api:e.api,data:e.data},on:{saved:e.saved,close:function(t){e.showNewForm=!1}}})],1)],1)],1)],1)},o=[],n=(s("e125"),s("8e9e")),i=s.n(n),r=(s("2e73"),s("0e20"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.selectedRow?s("div",{staticClass:"row"},e._l(e.columns,(function(t){return s("div",{key:t.field,staticClass:"col-12"},["string"===t.type&&!0===!t.hidden?s("q-input",{attrs:{type:"text",dark:e.dark,"stack-label":t.label},model:{value:e.selectedRow[t.field],callback:function(s){e.$set(e.selectedRow,t.field,s)},expression:"selectedRow[column.field]"}}):e._e(),"number"===t.type&&!0===!t.hidden?s("q-input",{attrs:{type:"number",dark:e.dark,"stack-label":t.label},model:{value:e.selectedRow[t.field],callback:function(s){e.$set(e.selectedRow,t.field,s)},expression:"selectedRow[column.field]"}}):e._e(),"options"===t.type&&!0===!t.hidden?s("q-select",{attrs:{options:t.options,"map-options":"",dark:e.dark,"stack-label":t.label},model:{value:e.selectedRow[t.field],callback:function(s){e.$set(e.selectedRow,t.field,s)},expression:"selectedRow[column.field]"}}):e._e()],1)})),0):e._e()}),l=[],c={name:"ComponentCrudDetails",props:{columns:{required:!0,type:Array},selectedRow:{required:!0}},data(){return{dark:!0}},methods:{},computed:{},components:{},created(){}},d=c,u=(s("27da"),s("2be6")),p=s("bc74"),h=s("3946"),m=s("e279"),f=s.n(m),b=Object(u["a"])(d,r,l,!1,null,"7ab01de1",null),g=b.exports;f()(b,"components",{QInput:p["a"],QSelect:h["a"]});var y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.selectedRow?s("div",{staticClass:"row content-start q-my-md"},e._l(e.columns,(function(t){return!0===t.hidden?s("div",{key:t.field,staticClass:"col block content-start q-mr-sm"},["string"===t.type?s("q-input",{attrs:{type:"text",dark:e.dark,label:t.label,"stack-label":"",readonly:!e.canEdit&&!t.editable},model:{value:e.selectedRow[t.field],callback:function(s){e.$set(e.selectedRow,t.field,s)},expression:"selectedRow[column.field]"}}):e._e(),"number"===t.type?s("q-input",{attrs:{type:"number",dark:e.dark,label:t.label,"stack-label":"",readonly:!e.canEdit&&!t.editable},model:{value:e.selectedRow[t.field],callback:function(s){e.$set(e.selectedRow,t.field,s)},expression:"selectedRow[column.field]"}}):e._e(),"options"===t.type&&!0===t.editable&&!0===e.canEdit?s("q-select",{attrs:{"map-options":"",options:t.options,dark:e.dark,"stack-label":t.label,readonly:!e.canEdit&&!t.editable},model:{value:e.selectedRow[t.field],callback:function(s){e.$set(e.selectedRow,t.field,s)},expression:"selectedRow[column.field]"}}):e._e(),"text"===t.type&&!0===t.editable&&!0===e.canEdit?s("q-input",{attrs:{label:t.label,"stack-label":"",dark:e.dark,type:"textarea",autofocus:"",counter:"",readonly:!e.canEdit&&!t.editable},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.stopPropagation()}},model:{value:e.selectedRow[t.field],callback:function(s){e.$set(e.selectedRow,t.field,s)},expression:"selectedRow[column.field]"}}):e._e()],1):e._e()})),0):e._e()},w=[],v={name:"ComponentCrudDetails",props:{columns:{required:!0,type:Array},selectedRow:{required:!0},canEdit:{required:!0,type:Boolean}},data(){return{dark:!0}},methods:{},computed:{},components:{},created(){}},x=v,q=(s("510c"),Object(u["a"])(x,y,w,!1,null,"463ce00c",null)),C=q.exports;f()(q,"components",{QInput:p["a"],QSelect:h["a"]});var S=s("5a18"),_=s("9869"),k=s("9ce4"),O=s("4778");function j(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function R(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?j(Object(s),!0).forEach((function(t){i()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):j(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var P={name:"ComponentCRUD",props:{columns:{required:!0,type:Array},isPopup:{type:Boolean,default:!1},detailedView:{default:!0,type:Boolean},title:{default:"",type:String},api:{required:!1,type:Object,default(){return{get:null,parameters:{},getSingle:null,put:null,post:null,delete:null}}},actions:{type:Array,default(){return[]}},search:{type:Boolean,default:!1},sortBy:{type:String,default:"id"},reverse:{type:Boolean,default:!1},rowsPerPage:{default:0},rowKey:{type:String,default:"id"},multiselect:{type:Boolean,default:!1},expand:{type:Boolean,default:!1},inlineEdit:{type:Boolean,default:!1},hideHeader:{type:Boolean,default:!1},details:{type:Boolean,default:!1},newtab:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},readOnly:{type:Boolean,default:!1},filterbox:{type:Boolean,default:!1},filterchips:{type:Boolean,default:!1},hidePagination:{type:Boolean,default:!0},sidebarComponents:{type:Array,default(){return[]}},newComponent:{},canNew:{type:Boolean,default:!1},canEdit:{type:Boolean,default:!1},canDelete:{type:Boolean,default:!1},canAction:{type:Boolean,default:!0},indicator:{type:String,default:""},selectIndicator:{type:Boolean,default:!0},sidebarWidth:{},tablehide:{default:!1},download:{type:Boolean,default:!1},modal:{type:Boolean,default:!1},maxWidth:{type:Number,default:0},dataOverride:{type:Array},channel:{type:String,default:""},selfPublish:{type:Boolean,default:!1}},data(){return{data:[],dark:!0,loading:!1,downloadLoading:!1,selected:[],selectedRow:null,newRow:[],searchTerm:null,filters:{},separator:"cell",expandedRowId:null,showNewForm:!1,rowIndex:null,newComponentKey:1,showTable:!0,pagination:{page:1,descending:this.reverse,sortBy:!1===this.sortBy?null:this.sortBy,rowsPerPage:100},wampSubscription:null,selectedSbComponent:null,splitterModel:100}},methods:{downloadData(){if(!0!==this.downloadLoading){this.downloadLoading=!0;var e={columns:this.columns,data:this.filteredData};O["a"].post("/tools/crud/sheet",e).then(e=>{this.$downloadBlob(e.data.url,e.data.file),this.downloadLoading=!1}).catch(e=>{this.downloadLoading=!1,this.errorHandler(e)})}},badgeColor(e,t){if(t.colors){var s=t.colors.find(t=>t.label.toLowerCase()===e.toLowerCase());if(s)return s.color}return t.color?t.color:"accent"},badgeTextColor(e,t){if(t.colors){var s=t.colors.find(t=>t.label.toLowerCase()===e.toLowerCase());if(s)return s.textColor}return t.textColor?t.textColor:"black"},publish(e){this.$wamp.publish(this.channel,[],{id:e},{exclude_me:!this.selfPublish})},newFormFocus(){},saved(e){if(this.newComponentKey+=1,this.showNewForm=!1,e){var t=e[this.rowKey];this.publish(t),this.$emit("new",t),this.$emit("change",t)}else this.get(),this.publish()},get(e){if(e){if(this.api.parameters||(this.api.parameters={}),this.api.parameters[this.rowKey]=e,this.api.getSingle||console.warn(this.channel,"Getsingle Not Set"),!this.api.getSingle)return void this.get();this.api.getSingle(t=>{if(t.length>0){var s=this.filteredData.findIndex(t=>t[this.rowKey]===e);s>-1?(Object.entries(t[0]).forEach(([e,a])=>{this.data[s][e]=t[0][e]}),this.$emit("update",e,t),this.$emit("change",e,t)):(this.data.push(t[0]),this.$emit("new",e,t),this.$emit("change",e,t))}else this.data=this.data.filter(t=>t[this.rowKey]!==e),this.$emit("delete",e),this.$emit("change",e)},null,this.api.parameters)}else this.api.get(e=>{this.loading=!1,this.data=e},null,this.api.parameters)},deleteRow(e){this.$q.dialog({title:"Confirm Delete",message:"This action cannot be undone",ok:"DELETE",cancel:"Cancel",color:"dark"}).onOk(()=>{this.api.delete(t=>{this.data=this.data.filter(t=>t[this.rowKey]!==e[this.rowKey]),this.$emit("delete",t,e),this.$emit("change",t,e),this.publish(e[this.rowKey]),this.$q.notify({message:"Success",position:"top"})},this.error,e[this.rowKey],this.api.parameters)}).onCancel(()=>{this.$q.notify({message:"Cancelled",position:"top"})})},error(){this.$q.notify({message:"Oops. Something went wrong",position:"top"})},update(e){var t=this.filteredData.find(t=>t[this.rowKey]===e);this.api.put(()=>{this.channel?this.publish(e):console.warn("Wamp Channel Not Set"),this.$emit("update",e,t),this.$emit("change",e,t)},this.error,t,this.api.parameters)},create(){},getOptions(e,t){if(!e)return"";var s=e.find(e=>e.value===t);return s?s.label:void 0},clickRow(e){e.selected=!e.selected,this.selectedRow=e.row,e.expand=!e.expand,this.expandedRowId=this.expandedRowId===e.row[this.rowKey]?null:e.row[this.rowKey],this.$emit("clickedRow",e.row[this.rowKey])},searchFilter(e,t,s,a){var o=t?t.toLowerCase():"";return e.filter(e=>s.some(t=>{var s="options"===t.type?this.getOptions(t.options,e[t.field]):a(t,e);return-1!==(s+"").toLowerCase().indexOf(o)}))},setFilter(e,t){this.filters[e]?this.filters[e]=t:_["a"].set(this.filters,e,t)},focusSearch(e){this.$refs.search.focus(),this.$refs.search.val="",e&&e.preventDefault()},moveRowIndex(e){var t=this.filteredData[e];this.selectedRow=t,this.expandedRowId=this.expandedRowId===t[this.rowKey]?null:t[this.rowKey],this.rowIndex=e},downTable(e){var t=null===this.rowIndex?0:++this.rowIndex;t===this.filteredData.length&&(t=0),this.moveRowIndex(t),e.preventDefault()},upTable(e){var t=null===this.rowIndex?this.data.length-1:--this.rowIndex;-1===t&&(t=this.filteredData.length-1),this.moveRowIndex(t),e.preventDefault()},triggerNewForm(){this.showNewForm=!0},sendAction(e,t){this.$emit(e,t)}},computed:R(R({},Object(k["e"])("user",["isDark","isLight"])),{},{insertComponent(){var e=null;return e=this.newComponent?this.newComponent:()=>Promise.resolve().then(s.bind(null,"5a18")),e},filteredData(){var e=this.dataOverride?this.dataOverride:this.data,t=!0,s=e.filter(e=>{for(var s of Object.keys(this.filters))if(null!==this.filters[s]&&(t=!1,e[s]!==this.filters[s]))return!1;return!0});return t?e:s},showSidebar(){return!1===this.expand&&!0===this.details||this.sidebarComponents.length>0},seperatorClass(){return this.showSidebar?"bg-font":"hidden"},splitterLimits(){return this.showSidebar?[10,90]:[0,100]}}),watch:{api(){this.get()},selected(){this.$emit("selected",this.selected)}},components:{detailsPanel:g,detailsRow:C,insert:S["default"]},created(){this.showSidebar&&(this.splitterModel=70),this.columns.forEach(e=>{e.align||e.type&&"string"!==e.type||(e.align="left")})},mounted(){this.loading=!0,this.dataOverride?this.loading=!1:this.get(),this.selectedSbComponent=!0===this.details&&!1===this.expand||0===this.sidebarComponents.length?"details":this.sidebarComponents[0].name,this.pagination.rowsPerPage=!0===this.modal?10:1e3,this.rowsPerPage&&(this.pagination.rowsPerPage=this.rowsPerPage),this.pagination.sortBy=this.sortBy,this.pagination.rowsPerPage=this.rowsPerPage,this.pagination.descending=this.reverse,this.channel.length>0&&(this.wamp=this.$wamp.subscribe(this.channel,(function(e,t,s){this.get(t[this.rowKey])}),{acknowledge:!0}).then((function(e){this.wampSubscription=e}))),this.focusSearch()},beforeDestroy(){this.wampSubscription&&this.$wamp.unsubscribe(this.wampSubscription)}},Q=P,$=(s("4677"),s("bc4f")),E=s("18f0"),I=s("2ef0"),D=s("5f53"),B=s("6c93"),N=s("0f3b"),T=s("ac9b"),L=s("66dc"),H=s("7d9a"),A=s("f962c"),F=s("34ff"),Y=s("4840"),z=s("41c9"),M=s("c462"),K=s("851c"),W=s("6a2f"),G=s("b74b"),U=s("f987"),V=s("8c18"),J=s("88af"),X=s("d538"),Z=s("d200"),ee=s("4776"),te=s("dd08"),se=s("1411"),ae=s("1d98"),oe=s("e81c"),ne=s("ebe6"),ie=s("eb05"),re=s("f85a"),le=s("965d"),ce=s("dfd0"),de=s("b693"),ue=s("58c0"),pe=Object(u["a"])(Q,a,o,!1,null,"21b54416",null);t["a"]=pe.exports;f()(pe,"components",{QSplitter:$["a"],QTable:E["a"],QBtn:I["a"],QBtnDropdown:D["a"],QList:B["a"],QExpansionItem:N["a"],QItem:T["a"],QItemSection:L["a"],QItemLabel:H["a"],QSpace:A["a"],QInput:p["a"],QIcon:F["a"],QChip:Y["a"],QTr:z["a"],QTh:M["a"],QCheckbox:K["a"],QMenu:W["a"],QTd:G["a"],QBadge:U["a"],QSelect:h["a"],QPopupProxy:V["a"],QDate:J["a"],QTime:X["a"],QPopupEdit:Z["a"],QTabs:ee["a"],QTab:te["a"],QTabPanels:se["a"],QTabPanel:ae["a"],QDialog:oe["a"],QCard:ne["a"],QToolbar:ie["a"],QToolbarTitle:re["a"],QCardSection:le["a"],QColor:ce["a"],QField:de["a"]}),f()(pe,"directives",{ClosePopup:ue["a"]})},dd14:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"console q-ma-md q-pb-xl",attrs:{stylex:"overflow-y:hidden"}},[s("p",{staticClass:"q-ma-sm"},[e._v("Console")]),s("ul",{ref:"scroll",staticClass:"flex-column",staticStyle:{"overflow-y":"scroll","maxx-height":"200px"}},[e._l(e.consoleLog,(function(t){return s("li",{key:t.lineIndex,class:{error:t.isError,indent1:1==t.indent,indent2:2==t.indent,indent3:3==t.indent}},[e._v("\n        "+e._s(t.message)+"\n      ")])})),s("li",{ref:"bottom",staticStyle:{height:"100px"}})],2)])},o=[],n=(s("e125"),s("2e73"),s("8e9e")),i=s.n(n),r=s("9ce4");function l(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?l(Object(s),!0).forEach((function(t){i()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var d={name:"AppConsole",data(){return{}},methods:{scroll(){}},computed:c({},Object(r["c"])("sockets",["consoleLog"])),watch:{consoleLog(){this.scroll()}}},u=d,p=(s("972e"),s("2be6")),h=s("26a8"),m=s("dfd0"),f=s("e279"),b=s.n(f),g=Object(p["a"])(u,a,o,!1,null,"447f21de",null);t["a"]=g.exports;b()(g,"components",{QScrollArea:h["a"],QColor:m["a"]})},de53:function(e,t,s){"use strict";var a=s("4778");t["a"]={getSessions(e,t){a["a"].get("/exams/sessions").then(t=>{e(t.data)}).catch(e=>{e()})},getSession(e,t,s){console.log(s),a["a"].get("/exams/"+s.level+"/results/"+s.sessionID).then(t=>{console.log(t.data),e(t.data)}).catch(e=>{console.log("error",e),t(e)})},getSessionCache(e,t,s){console.log(s),a["a"].get("/exams/cache/"+s.level+"/results/"+s.sessionID).then(t=>{console.log(t.data.statistics),e(t.data)}).catch(e=>{console.log("error",e),t(e)})}}},e3c5:function(e,t,s){"use strict";var a=s("8bbc"),o=s.n(a);o.a},ebdc:function(e,t,s){"use strict";var a=s("4778");t["a"]={getStatus(e,t,s){a["a"].get("/admin/jobs/status/"+s).then(t=>{e(t.data)}).catch(e=>{console.log(e)})},getScripts(e){a["a"].get("/admin/jobs/scripts").then(t=>{e(t.data)}).catch(e=>{console.log(e)})},postJob(e,t,s){a["a"].post("/admin/jobs/job",s).then(t=>{e(t.data)}).catch(e=>{console.log(e)})},putJob(e,t,s){a["a"].put("/admin/jobs/job",s).then(t=>{e(t.data)}).catch(e=>{console.log(e)})},deleteJob(e,t,s){a["a"].delete("/admin/jobs/job/"+s).then(t=>{e(t.data)}).catch(e=>{console.log(e)})},getJobs(e,t){a["a"].get("/admin/jobs").then(t=>{e(t.data)}).catch(e=>{console.log(e)})}}},ed5c:function(e,t,s){},ef22:function(e,t,s){},ef38:function(e,t,s){},f1da:function(e,t,s){},f3c0:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row full-height full-width q-pa-md"},[s("div",{staticClass:"col q-mr-lg"},[s("div",{staticClass:"row justify-start items-start content-start",staticStyle:{height:"70px"}},[s("div",{staticClass:"qx-mb-xl row wrap justify-start items-start content-start full-width full-height",staticStyle:{"max-height":"60px"}},e._l(e.connections,(function(t){return s("div",{key:t.label,staticClass:"col-3 q-pa-xs"},[s("q-badge",{staticClass:"text-center full-width",staticStyle:{height:"50px"},attrs:{outline:t.value,color:t.value?"font":"warning"}},[s("span",{staticClass:"full-width text-center text-bold capitalize"},[e._v(e._s(t.label))])])],1)})),0),s("div",{staticClass:"row full-width q-my-md"},[s("q-linear-progress",{attrs:{size:"25px",value:.01*e.resources.disk.percentage,color:"accent","track-color":"tertiary"}})],1)]),s("div",{staticClass:"row full-height",attrs:{stylex:"margin-top:-40px"}},[s("q-scroll-area",{staticClass:"full-width full-height",attrs:{stylex:"height:60vh"}},[s("div",{staticClass:"q-pa-md"},[s("q-markup-table",{staticClass:"text-white no-shadow",attrs:{dense:""}},[s("tbody",e._l(e.logs.slice().reverse(),(function(t){return s("tr",{key:t.id,class:e.logColor(t),staticStyle:{border:"none"}},[s("td",{staticClass:"text-left text-font-secondary",staticStyle:{width:"150px","border-bottom-width":"0px","font-size":"12px"}},[e._v(e._s(t.time))]),s("td",{staticClass:"text-left text-font",staticStyle:{"border-bottom-width":"0px","font-size":"12px"}},["WARNING"===t.level?s("q-icon",{staticClass:"q-mr-sm",attrs:{color:"warning",size:"sm",name:"fa fa-exclamation-square"}}):e._e(),e._v("\n                  "+e._s(t.message)+"\n                ")],1)])})),0)])],1)])],1)]),s("div",{staticClass:"col-3"},[s("q-bar",{staticClass:"bg-secondary text-accent text-h5 q-mt-sm"},[e._v("CPU "),s("q-space"),e.$q.fullscreen.isCapable?s("q-btn",{staticClass:"no-border q-mr-sm no-shadow",attrs:{color:"dark",icon:"fad fa-arrows-alt",flat:"",size:"sm",round:""},on:{click:function(t){return e.$q.fullscreen.toggle()}}}):e._e()],1),s("div",{staticClass:"row full-width"},e._l(e.resources.cores,(function(t){return s("q-circular-progress",{key:t.id,staticClass:"q-ma-md text-accent col text-center",attrs:{"show-value":"","font-size":"10px",indeterminate:e.indeterminate,value:100-t.idle,size:"100px",color:"accent","track-color":"tertiary"}},[e._v("\n      "+e._s(100-Math.round(t.idle))+"%\n      ")])})),1),s("div",{staticClass:"full-width text-center"},[s("q-circular-progress",{staticClass:"q-ma-md text-accent",attrs:{"show-value":"","font-size":"31px",indeterminate:e.indeterminate,value:100-e.resources.cpuIdle,size:"200px",color:"accent","track-color":"tertiary"}},[e._v("\n      "+e._s(100-Math.round(e.resources.cpuIdle))+"%\n      ")]),s("div",{ref:"cpuhistory",staticClass:"full-width",attrs:{id:"cpuhistory"}})],1),s("q-bar",{staticClass:"q-mt-sm text-accent text-h5 bg-secondary"},[e._v("MEMORY")]),s("div",{staticClass:"full-width text-center"},[s("q-circular-progress",{staticClass:"q-ma-md text-accent",attrs:{"show-value":"","font-size":"31px",indeterminate:e.indeterminate,value:e.resources.memory,size:"200px",color:"accent","track-color":"tertiary"}},[e._v("\n     "+e._s(e.resources.memory)+"%\n     ")]),s("div",{ref:"memhistory",staticClass:"full-width",attrs:{id:"cpuhistory"}}),e._m(0)],1)],1)])},o=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row"},[s("div",{staticClass:"cssload-wrap",staticStyle:{"margin-top":"80px"}},[s("div",{staticClass:"cssload-circle"}),s("div",{staticClass:"cssload-circle"}),s("div",{staticClass:"full-width full-height flex flex-centre"},[s("img",{staticClass:"q-ml-sm",staticStyle:{margin:"auto"},attrs:{width:"20px",height:"20px",src:"/statics/icons/plain.svg"}})]),s("div",{staticClass:"cssload-circle"}),s("div",{staticClass:"cssload-circle"}),s("div",{staticClass:"cssload-circle"})])])}],n=s("c686"),i=s("915b"),r=s("3099"),l=s("d610");i["f"](l["a"]);var c={name:"Admin.Logs.Dashboard",data(){return{logs:[],resources:{cpuIdle:0,disk:{percentage:0}},indeterminate:!0,cpuHistory:[],cpuHistoryChartx:null,memHistory:[],memHistoryChartx:null,logInterval:2e3,resourcesInterval:2e3,connectionsInterval:5e3,graphMinutes:1,counter:0,connections:{}}},computed:{},methods:{fetchLogs(){n["a"].getLogs(this.processLog)},fetchResources(){n["a"].getResources(this.processResources)},fetchConnections(){n["a"].getConnections(this.processConnections)},processConnections(e){this.connections=e},processLog(e){this.logs=e.messages},processResources(e){this.counter++,this.resources=e.resources,this.indeterminate=!1;var t=Date.parse(e.time),s={date:t,value:100-this.resources.cpuIdle},a={date:t,value:this.resources.memory};if(this.cpuHistoryChart&&this.counter%10!==0){var o=60*this.graphMinutes/(this.resourcesInterval/1e3),n=this.cpuHistory.length>o?1:0;this.cpuHistoryChart.addData(s,n),this.memHistoryChart.addData(a,n)}else this.cpuHistory.push(s),this.memHistory.push(a),this.createCpuSpark(),this.createMemSpark()},logColor(e){switch(e.level){case"CRITICAL":return"text-white bg-warning";default:return"text-tertiery"}},createCpuSpark(){this.cpuHistoryChart&&this.cpuHistoryChart.dispose();var e=i["c"](this.$refs.cpuhistory,r["l"]);e.data=this.cpuHistory,e.padding(0,0,0,0);var t=e.xAxes.push(new r["d"]);t.renderer.grid.template.disabled=!0,t.renderer.labels.template.disabled=!0,t.startLocation=.5,t.endLocation=.7,t.cursorTooltipEnabled=!1;var s=e.yAxes.push(new r["k"]);s.min=0,s.renderer.grid.template.disabled=!0,s.renderer.baseGrid.disabled=!0,s.renderer.labels.template.disabled=!0,s.cursorTooltipEnabled=!1,e.cursor=new r["m"],e.cursor.lineY.disabled=!0;var a=e.series.push(new r["g"]);a.tooltipText="{date}: [bold]{value}",a.dataFields.dateX="date",a.dataFields.valueY="value",a.tensionX=.8,a.strokeWidth=2;var o=a.bullets.push(new r["b"]);o.circle.opacity=0,o.circle.propertyFields.opacity="opacity",o.circle.radius=3,this.cpuHistoryChart=e},createMemSpark(){this.memHistoryChart&&this.memHistoryChart.dispose();var e=i["c"](this.$refs.memhistory,r["l"]);e.data=this.memHistory,e.padding(0,0,0,0);var t=e.xAxes.push(new r["d"]);t.renderer.grid.template.disabled=!0,t.renderer.labels.template.disabled=!0,t.startLocation=.5,t.endLocation=.7,t.cursorTooltipEnabled=!1;var s=e.yAxes.push(new r["k"]);s.min=0,s.renderer.grid.template.disabled=!0,s.renderer.baseGrid.disabled=!0,s.renderer.labels.template.disabled=!0,s.cursorTooltipEnabled=!1,e.cursor=new r["m"],e.cursor.lineY.disabled=!0;var a=e.series.push(new r["g"]);a.tooltipText="{date}: [bold]{value}",a.dataFields.dateX="date",a.dataFields.valueY="value",a.tensionX=.8,a.strokeWidth=2;var o=a.bullets.push(new r["b"]);o.circle.opacity=0,o.circle.propertyFields.opacity="opacity",o.circle.radius=3,this.memHistoryChart=e}},components:{},mounted(){this.$q.fullscreen.toggle()},created(){this.fetchLogs(),this.fetchResources(),this.fetchConnections(),this.logTimer=setInterval(function(){this.fetchLogs()}.bind(this),this.logInterval),this.resourcesTimer=setInterval(function(){this.fetchResources()}.bind(this),this.resourcesInterval),this.connectionsTimer=setInterval(function(){this.fetchConnections()}.bind(this),this.connectionsInterval),this.windowTimer=setInterval((function(){this.$forceUpdate()}),12e4)},beforeDestroy(){clearInterval(this.logTimer),clearInterval(this.windowTimer),clearInterval(this.resourcesTimer),clearInterval(this.connectionsTimer)}},d=c,u=(s("cfa74"),s("2be6")),p=s("2ef0"),h=s("f987"),m=s("4f61"),f=s("26a8"),b=s("2e0b"),g=s("34ff"),y=s("5d16"),w=s("f962c"),v=s("cf19"),x=s("e279"),q=s.n(x),C=Object(u["a"])(d,a,o,!1,null,"3314fae2",null);t["a"]=C.exports;q()(C,"components",{QBtn:p["a"],QBadge:h["a"],QLinearProgress:m["a"],QScrollArea:f["a"],QMarkupTable:b["a"],QIcon:g["a"],QBar:y["a"],QSpace:w["a"],QCircularProgress:v["a"]})},f517:function(e,t,s){"use strict";var a=s("4778");t["a"]={getSubjectNames(e,t){a["a"].get("/subjects/names").then(t=>{e(t.data)}).catch(e=>{console.log(e)})}}}}]);