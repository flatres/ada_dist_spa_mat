(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"0082":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"q-pa-none q-mb-xs"},[s("q-select",{staticClass:"bd-font-secondary no-padding q-mt-sm",staticStyle:{"min-width":"300px",heightx:"30px"},attrs:{filled:"",dense:"",color:"font","use-input":"","input-debounce":"0",labelx:"Students",options:t.options,clearable:"","popup-content-class":"bd-font-secondary bg-tertiary"},on:{filter:t.filterFn,clear:t.clear},model:{value:t.student,callback:function(e){t.student=e},expression:"student"}})],1)},n=[],o=s("2d07"),r={name:"Component.Dropdowns.Students",props:{optionsOverride:{type:Array,default:function(){return[]}},studentStore:{type:String}},data(){return{students:[],filter:null,studentOptions:[],options:[],student:null}},methods:{clear(){this.filter=null,this.student=null,this.$emit("change",this.student)},process(t){if(this.students=t,this.studentOptions=t.map((function(t){return{value:t.id,label:t.displayName,firstName:t.firstname,lastName:t.lastname}})),this.options=this.studentOptions,this.studentStore){var e=this.$store.getters[this.studentStore];this.student=this.studentOptions.find((function(t){return t.value===e.id}))}},filterFn(t,e,s){var a=this;e((function(){var e=t.toLowerCase();a.options=a.studentOptions.filter((function(t){return t.label.toLowerCase().indexOf(e)>-1}))}))},emit(t){this.$emit("change",t)}},computed:{},watch:{student(){this.student&&o["a"].getStudent(this.emit,null,this.student.value)}},components:{},created(){o["a"].getStudentNames(this.process)}},i=r,l=(s("6735"),s("2be6")),c=s("3946"),d=s("2ef0"),u=s("e279"),p=s.n(u),h=Object(l["a"])(i,a,n,!1,null,"08121759",null);e["a"]=h.exports;p()(h,"components",{QSelect:c["a"],QBtn:d["a"]})},"00f9":function(t,e,s){"use strict";var a=s("902c"),n=s.n(a);n.a},"0142":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-badge",{attrs:{color:t.color,outline:t.outline}},[s("q-icon",{attrs:{name:t.icon,color:t.iconColor}}),s("q-tooltip",[t._v(t._s(t.tooltip))])],1)},n=[],o={name:"covid.ui.answer",props:{person:{type:Object,require:!0},date:{type:String,required:!0}},data(){return{}},methods:{},computed:{answer(){var t=this;return this.person.answers.find((function(e){return e.date===t.date}))},icon(){var t=this.answer;return t?1===t.isHealthy?"fas fa-check":0===t.isHealthy&&1===t.hasAnswered&&0===t.isNotInWork?"fas fa-biohazard":0===t.hasAnswered?"fas fa-question":1===t.isNotInWork?"fas fa-sign-out-alt":void 0:""},color(){var t=this.answer;return t?1===t.isHealthy?"positive":0===t.isHealthy&&1===t.hasAnswered&&0===t.isNotInWork?"warning":0===t.hasAnswered?"font-secondary":1===t.isNotInWork?"font":void 0:"font-secondary"},iconColor(){var t=this.answer;return t?1===t.isHealthy?"positive":0===t.isHealthy&&1===t.hasAnswered&&0===t.isNotInWork?"primary":0===t.hasAnswered?"orange":1===t.isNotInWork?"font":void 0:"font-secondary"},outline(){var t=this.answer;return!t||(0!==t.isHealthy||1!==t.hasAnswered||0!==t.isNotInWork)},tooltip(){var t=this.answer;return t?1===t.isHealthy?"healthy":0===t.isHealthy&&1===t.hasAnswered&&0===t.isNotInWork?"covid risk":0===t.hasAnswered?"not answered":1===t.isNotInWork?"not in work":void 0:"record not found"}},components:{},created(){}},r=o,i=(s("3095"),s("2be6")),l=s("f987"),c=s("34ff"),d=s("3aaf"),u=s("e279"),p=s.n(u),h=Object(i["a"])(r,a,n,!1,null,"3c6d5acc",null);e["a"]=h.exports;p()(h,"components",{QBadge:l["a"],QIcon:c["a"],QTooltip:d["a"]})},"0183":function(t,e,s){},"01b2":function(t,e,s){"use strict";var a=s("0183"),n=s.n(a);n.a},"04c9":function(t,e,s){"use strict";var a=s("ea3f"),n=s.n(a);n.a},"0603":function(t,e,s){"use strict";var a=s("47783"),n=s("452d");e["a"]={getSchoolsCloud(t,e){var s=12;a["a"].get("/hod/meetings/schoolscloud/"+s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getSchoolsCloudFair(t,e){var s=12;a["a"].get("/hod/meetings/schoolscloudfair/"+s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getAllMeetings(t,e){var s=12;a["a"].get("/hod/meetings/all/"+s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getMeetingClasses(t,e){var s=n["a"].getters["user/getGlobalSubject"],o=12,r=n["a"].getters["hod/activeExam"];s&&r&&a["a"].get("/hod/meetings/"+s.id+"/"+o+"/"+r).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},setMeeting(t,e,s,o,r){var i=n["a"].getters["user/getGlobalSubject"],l=n["a"].getters["hod/activeExam"];i&&l&&a["a"].post("/hod/meetings/"+i.id+"/"+l+"/"+s+"/"+o+"/"+r).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},download(t,e){var s=n["a"].getters["user/getGlobalSubject"],o=12,r=n["a"].getters["hod/activeExam"];s&&r&&a["a"].get("/hod/meetings/download/"+s.id+"/"+o+"/"+r).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getMeetingsCounts(t,e,s){a["a"].post("/hod/meetings/counts",s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))}}},"08e9":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("q-page",{staticClass:"no-scroll full-height full-width toolbar-page fixed q-pr-xl"},[t.$q.platform.is.mobile?s("q-toolbar",{staticClass:"mobile-only shadow-1 bg-tertiary",staticStyle:{"max-height":"38px","min-height":"38px","border-bottom":"1px solid black"},attrs:{id:"toolbar",dense:"",shrink:""}},[s("q-breadcrumbs",{staticClass:"text-font",scopedSlots:t._u([{key:"separator",fn:function(){return[s("q-icon",{attrs:{size:"1.5em",name:"chevron_right",color:"font"}})]},proxy:!0}],null,!1,2995819124)},[s("q-breadcrumbs-el",{staticClass:"text-font",attrs:{label:t.moduleName,icon:t.moduleIcon}}),s("q-breadcrumbs-el",{staticClass:"capitalize ",attrs:{label:t.element.label,iconx:t.element.icon}})],1)],1):t._e(),s("q-toolbar",{staticClass:"shadow-1 bg-tertiary desktop-only",staticStyle:{"max-height":"38px","min-height":"38px","border-bottom":"1px solid black"},attrs:{id:"toolbar",dense:"",shrink:""}},[t._t("before"),t._l(t.elements,(function(e){return s("q-btn-group",{key:e.name,attrs:{unelevated:"",dense:"",shrink:"","active-color":"secondary"}},[e.menu?t._e():s("q-btn",{attrs:{label:e.label,name:e.name,icon:e.icon,size:"10px",color:t.selectedTab===e.name?"accent":"font",flat:""},on:{click:function(s){t.selectedTab=e.name}}},[e.count>0?s("q-badge",{attrs:{size:"xs",color:"warning","text-color":"font-negative",floating:""}},[t._v(t._s(e.count))]):t._e(),e.tooltip?s("q-tooltip",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[t._v("\n               "+t._s(e.tooltip)+"\n             ")]):t._e()],1),e.menu?s("q-btn",{attrs:{flat:"",size:"xs",label:e.label,icon:e.icon?e.icon:"fal fa-caret-down","text-color":"font",unelevated:""}},[s("q-menu",{ref:"settingsPopover",refInFor:!0,attrs:{"content-class":"bg-grey-9 text-white","auto-close":""}},[s("q-list",{attrs:{"item-separator":"",link:"","content-class":"bg-primary"}},t._l(e.menu,(function(e){return s("q-item",{key:e.name,attrs:{clickable:""},nativeOn:{click:function(s){return t.clickMenu(e)}}},[s("q-item-section",{attrs:{avatar:"",left:"",dark:""}},[s("q-icon",{attrs:{size:"20px",name:e.icon}})],1),s("q-item-section",[s("q-item-label",[t._v(t._s(e.label))])],1)],1)})),1)],1)],1):t._e()],1)})),s("q-space"),t._t("side"),t._t("after")],2),s("q-tab-panels",{staticClass:"full-height no-scroll",model:{value:t.selectedTab,callback:function(e){t.selectedTab=e},expression:"selectedTab"}},t._l(t.tabPanels,(function(e){return s("q-tab-panel",{key:e.name,staticClass:"no-scroll col column full-height full-width",class:e.noPadding?"no-padding":"",attrs:{name:e.name}},[s("div",{staticClass:"q-mr-xs col column"},[s(e.component,{tag:"component",on:{close:t.close}})],1)])})),1)],1),s("q-footer",{staticClass:"bg-primary text-font mobile-only",staticStyle:{"margin-bottom":"50px"},attrs:{xelevated:"",bordered:""}},[s("q-toolbar",{staticClass:"bg-tertiary",staticStyle:{"max-height":"38px","min-height":"38px","border-bottom":"1px solid black"},attrs:{id:"toolbar",dense:"",shrink:"",flat:""}},[t._t("before"),t._l(t.elements,(function(e){return s("q-btn-group",{key:e.name,staticClass:"tbp-tabs",attrs:{unelevated:"",dense:"",shrink:"","active-color":"accent"}},[e.menu?t._e():s("q-btn",{attrs:{name:e.name,icon:e.icon,size:"10px",color:t.selectedTab===e.name?"accent":"font",flat:""},on:{click:function(s){return t.setElement(e)}}},[e.count>0?s("q-badge",{attrs:{size:"xs",color:"warning","text-color":"font-negative",floating:""}},[t._v(t._s(e.count))]):t._e(),e.tooltip?s("q-tooltip",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[t._v("\n               "+t._s(e.tooltip)+"\n             ")]):t._e()],1),e.menu?s("q-btn",{attrs:{flat:"",size:"xs",label:e.label,icon:e.icon?e.icon:"fal fa-caret-down","text-color":"font",unelevated:""}},[s("q-menu",{ref:"settingsPopover",refInFor:!0,attrs:{"content-class":"bg-grey-9 text-white","auto-close":""}},[s("q-list",{attrs:{"item-separator":"",link:"","content-class":"bg-primary"}},t._l(e.menu,(function(e){return s("q-item",{key:e.name,attrs:{clickable:""},nativeOn:{click:function(s){return t.clickMenu(e)}}},[s("q-item-section",{attrs:{avatar:"",left:"",dark:""}},[s("q-icon",{attrs:{size:"20px",name:e.icon}})],1),s("q-item-section",[s("q-item-label",[t._v(t._s(e.label))])],1)],1)})),1)],1)],1):t._e()],1)})),s("q-space"),t._t("side"),t._t("after")],2)],1)],1)},n=[],o=(s("e125"),s("4823"),s("2e73"),s("76d0"),s("c880"),s("8e9e")),r=s.n(o),i=s("9ce4");function l(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function c(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?l(Object(s),!0).forEach((function(e){r()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var d={name:"ComponentPageToolbar",props:{default:null,elements:null,currentElement:null,years:{type:Boolean},exams:{type:Boolean}},watch:{selectedTab(){}},data(){return{selectedTab:null,element:null}},computed:c(c({},Object(i["e"])("user",["moduleIcon","moduleName"])),{},{tabPanels(){var t=[];return this.elements.forEach((function(e){e.menu?e.menu.forEach((function(e){t.push({name:e.name,component:e.component})})):t.push({name:e.name,component:e.component,noPadding:e.noPadding})})),t},screenHeight(){return this.$q.screen.height-170}}),methods:{close(){this.selectedTab=this.default},clickMenu(t){t.name&&(this.selectedTab=t.name),t.event&&this.$emit(t.event)},setElement(t){this.selectedTab=t.name,this.element=t}},created(){var t=this;this.selectedTab=this.default,this.element=this.elements.find((function(e){return e.name===t.default}))}},u=d,p=(s("b0d4"),s("2be6")),h=s("8c42"),f=s("eb05"),m=s("4ba0"),b=s("34ff"),g=s("c575"),y=s("5be0"),v=s("2ef0"),w=s("f987"),x=s("3aaf"),C=s("6a2f"),q=s("6c93"),k=s("ac9b"),_=s("66dc"),S=s("7d9a"),O=s("f962c"),j=s("1411"),$=s("1d98"),Q=s("c8ed"),R=s("e279"),P=s.n(R),E=Object(p["a"])(u,a,n,!1,null,null,null);e["a"]=E.exports;P()(E,"components",{QPage:h["a"],QToolbar:f["a"],QBreadcrumbs:m["a"],QIcon:b["a"],QBreadcrumbsEl:g["a"],QBtnGroup:y["a"],QBtn:v["a"],QBadge:w["a"],QTooltip:x["a"],QMenu:C["a"],QList:q["a"],QItem:k["a"],QItemSection:_["a"],QItemLabel:S["a"],QSpace:O["a"],QTabPanels:j["a"],QTabPanel:$["a"],QFooter:Q["a"]})},"0a33":function(t,e,s){},"10ac":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.loading?s("div",[s("div",{staticClass:"flex flex-center col"},[s("div",{staticClass:"row text-center full-width"},[s("div",{staticClass:"col text-center cssload-wrap"},[t.minor?s("q-spinner-gears",{attrs:{color:"font-secondary",size:"6em"}}):t._e(),s("br"),t.channel?s("q-linear-progress",{staticClass:"q-mt-lg",staticStyle:{"max-width":"300px",margin:"20px auto"},attrs:{size:"sm",value:t.syncProgress,color:"font-secondary",label:"Change Model"}}):t._e(),s("p",{staticClass:"text-font-secondary"},[t._v(t._s(t.syncMessage))]),t.message?s("p",{staticClass:"text-font-secondary"},[t._v(t._s(t.message))]):t._e()],1),t.minor?t._e():s("div",{staticClass:"cssload-wrap"},[s("div",{staticClass:"cssload-circle"}),s("div",{staticClass:"cssload-circle"}),t._m(0),s("div",{staticClass:"cssload-circle"}),s("div",{staticClass:"cssload-circle"}),s("div",{staticClass:"cssload-circle"})])])])]):t._e()},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"full-width full-height flex flex-centre"},[s("img",{staticClass:"q-ml-sm",staticStyle:{margin:"auto"},attrs:{width:"20px",height:"20px",src:"/statics/icons/plain.svg"}})])}],o=(s("e125"),s("4823"),s("2e73"),s("76d0"),s("8e9e")),r=s.n(o),i=s("9ce4");function l(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function c(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?l(Object(s),!0).forEach((function(e){r()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var d={name:"ComponentLoading",props:{loading:{default:!1,type:Boolean},minor:{default:!0,type:Boolean},channel:{default:!1},message:{default:!1}},data(){return{mounted:0}},methods:{},computed:c(c({},Object(i["c"])("sockets",["progress","progressMessage"])),{},{syncProgress(){return this.mounted?this.progress(this.channel):0},syncMessage(){return this.mounted?this.progressMessage(this.channel):0},color(){var t=Math.round(this.syncProgress/5),e=["#B7B7B7","#B7BAAD","#B8BEA3","#B9C29A","#BAC690","#BAC986","#BBCD7D","#BCD173","#BDD569","#BED960","#BEDC56","#BFE04D","#C0E443","#C1E839","#C2EC30","#C2EF26","#C3F31C","#C4F713","#C5FB09","#C6FF00"];return e[t]}}),components:{},created(){},mounted(){this.mounted=!0}},u=d,p=(s("3f76"),s("2be6")),h=s("d1dc"),f=s("4f61"),m=s("b693"),b=s("e279"),g=s.n(b),y=Object(p["a"])(u,a,n,!1,null,null,null);e["a"]=y.exports;g()(y,"components",{QSpinnerGears:h["a"],QLinearProgress:f["a"],QField:m["a"]})},"136e":function(t,e,s){},1567:function(t,e,s){"use strict";var a=s("84e6"),n=s.n(a);n.a},"16b0":function(t,e,s){},"1bfa":function(t,e,s){"use strict";var a=s("47783");e["a"]={getStaffTestsNew(t,e){a["a"].get("/smt/covid/staff/tests/new").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getStaffTestsArchive(t,e){a["a"].get("/smt/covid/staff/tests/archive").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},putStaffTestsArchive(t,e,s){a["a"].put("/smt/covid/staff/tests/archive/"+s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getStaff(t,e){a["a"].get("/smt/covid/staff").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getStaffWatchers(t,e){a["a"].get("/smt/covid/staff/watchers").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getStudents(t,e){a["a"].get("/smt/covid/students").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getHouseStudents(t,e,s){a["a"].get("/smt/covid/house/"+s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},postStudentEmails(t,e){a["a"].post("/smt/covid/students").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},postStaffEmails(t,e){a["a"].post("/smt/covid/staff").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},postHODEmails(t,e){a["a"].post("/smt/covid/summaries/hods").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},postHouseEmails(t,e){a["a"].post("/smt/covid/summaries/houses").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},putStudentsStatus(t,e,s){a["a"].put("/smt/covid/students/status",s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},putStaffStatus(t,e,s){a["a"].put("/smt/covid/staff/status",s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getStatus(t,e){a["a"].get("/smt/covid/status").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))}}},"268c":function(t,e,s){"use strict";var a=s("47783"),n=s("452d");e["a"]={getYears(t,e,s){s&&a["a"].get("/hod/years/"+s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getExams(t,e,s,n){n&&a["a"].get("/hod/years/"+s+"/exams/"+n).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getExamClasses(t,e){var s=n["a"].getters["user/getGlobalSubject"],o=n["a"].getters["hod/activeYear"],r=n["a"].getters["hod/activeExam"];s&&o&&r&&a["a"].get("/hod/years/"+s.id+"/examclasses/"+o+"/"+r).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))}}},"27da":function(t,e,s){"use strict";var a=s("0a33"),n=s.n(a);n.a},"2d07":function(t,e,s){"use strict";var a=s("47783");e["a"]={getStudentNames(t,e){a["a"].get("/students/names").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getAllStudents(t,e){a["a"].get("/students/all").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getPortalStudentNames(t,e){a["a"].get("/students/portal/names").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getStudent(t,e,s){a["a"].get("/students/details/"+s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))}}},3095:function(t,e,s){"use strict";var a=s("c4f4"),n=s.n(a);n.a},"30bd":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-btn",t._b({staticClass:"col",attrs:{dense:""},on:{click:function(t){t.stopPropagation()}}},"q-btn",t.$props,!1),[t.tooltip?s("q-tooltip",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[t._v("\n     "+t._s(t.tooltip)+"\n   ")]):t._e(),s("q-popup-proxy",[s("q-card",{staticClass:"bg-primary ada-card",staticStyle:{width:"200px"}},[s("q-card-section",[t._v("\n        "+t._s(t.title)+"\n      ")]),s("q-separator",{attrs:{dark:"",inset:""}}),s("q-card-section",{staticClass:"row q-gutter-sm"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col",attrs:{color:"pink",label:t.buttonLabelNo}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col",attrs:{color:"positive","text-color":"black",label:t.buttonLabelYes},on:{click:function(e){return t.success(t.model)}}})],1)],1)],1)],1)},n=[],o={name:"Component.Buttons.New",props:{success:{type:Function,required:!0},model:{type:Object,default:function(){}},size:{type:String,default:"xs"},icon:{type:String,default:"fal fa-edit"},title:{type:String,default:""},fieldLabel:{type:String,default:""},type:{type:String,default:""},tooltip:{type:String},color:{type:String,default:"primary"},label:{type:String,default:""},buttonLabelYes:{type:String,default:"Yes"},buttonLabelNo:{type:String,default:"No"},textColor:{type:String,default:""},outline:{type:Boolean},flat:{type:Boolean}},data(){return{}},methods:{},computed:{},components:{},created(){}},r=o,i=(s("42ff"),s("2be6")),l=s("2ef0"),c=s("3aaf"),d=s("8c18"),u=s("ebe6"),p=s("965d"),h=s("96f0"),f=s("58c0"),m=s("e279"),b=s.n(m),g=Object(i["a"])(r,a,n,!1,null,"2f7a2ff5",null);e["a"]=g.exports;b()(g,"components",{QBtn:l["a"],QTooltip:c["a"],QPopupProxy:d["a"],QCard:u["a"],QCardSection:p["a"],QSeparator:h["a"]}),b()(g,"directives",{ClosePopup:f["a"]})},"31f2":function(t,e,s){},"336f":function(t,e,s){},"33e9":function(t,e,s){},"39ef":function(t,e,s){"use strict";var a=s("136e"),n=s.n(a);n.a},"3e12":function(t,e,s){},"3f76":function(t,e,s){"use strict";var a=s("33e9"),n=s.n(a);n.a},"423b":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-4 text-left q-mx-xs",staticStyle:{border:"1px solid font"}},[s("q-tabs",{staticClass:"bg-tertiary text-accent no-shadow",attrs:{dense:"",align:"left",breakpoint:0},model:{value:t.direction,callback:function(e){t.direction=e},expression:"direction"}},[s("q-tab",{attrs:{name:"outbound",label:"outbound",icon:"fal fa-arrow-square-right"}}),s("q-tab",{attrs:{name:"return",label:"return",icon:"fal fa-arrow-square-left"}})],1),s("div",{staticClass:"q-pa-md text-font"},[s("q-list",{attrs:{dark:"",bordered:"",separator:"",stylex:"max-width: 318px"}},t._l(t.activeRoutes,(function(e){return s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:e.id,class:t.selectedRoute.id===e.id?"bg-tertiary highlight":"",attrs:{clickable:"","expand-separator":"",iconx:"perm_identity",label:e.name},on:{click:function(s){return t.selectRoute(e)}}},[s("q-item-section",[s("span",[t._v("\n              "+t._s(e.name)+"\n              ")])]),s("q-item-section",{staticClass:"row",attrs:{side:""}},[s("span",[t.locked?t._e():s("edit-button",{attrs:{model:e,field:"name",success:t.saveRoute}}),t.locked?t._e():s("delete-button",{attrs:{model:e,success:t.deleteRoute,label:"Delete Route?"}})],1)])],1)})),1),t.locked?t._e():s("new-button",{staticClass:"q-mt-md",attrs:{success:t.submitNew,label:"New Route Name"}})],1)],1),t.selectedRoute?s("div",{staticClass:"col text-left q-mx-xs bg-secondary bd-font-secondary"},[s("q-bar",{staticClass:"text-accent bg-tertiary"},[t._v(t._s(t.selectedRoute.name))]),t.selectedRoute.id?s("q-card",{staticClass:"no-shadow"},[s("q-card-section",{staticClass:"row bg-secondary no-shadow"},[s("div",{staticClass:"col q-mr-md"},[s("q-bar",{staticClass:"text-font text-bold q-mb-xs no-shadow no-border",staticStyle:{background:"none"}},[s("span",{staticClass:"q-mr-md"},[t._v("Coaches")]),t.locked?t._e():s("new-button-double",{staticClass:"q-mt-sm q-mb-sm q-ml-lg",attrs:{success:t.newCoach,label:"Bus Code",label2:"Capacity?",type2:"number"}})],1),s("q-list",t._l(t.selectedRoute.coaches,(function(e){return s("q-expansion-item",{key:e.id,staticClass:"bg-tertiary q-mb-sm",scopedSlots:t._u([{key:"header",fn:function(){return[s("q-item-section",{attrs:{avatar:""}},[s("q-icon",{attrs:{color:"accent",name:"fal fa-bus"}})],1),s("q-item-section",{staticClass:"text-white row"},[s("q-item-label",{attrs:{lines:"1"}},[t._v(t._s(e.code))]),s("q-item-label",{staticClass:"text-white",attrs:{caption:""}},[t._v(t._s(e.capacity)+" seats  ---  "+t._s(e.activeCount)+" stops")])],1),s("q-item-section",{staticClass:"row",attrs:{side:""}},[s("span",{staticClass:"text-white"},[t.locked?t._e():s("edit-button",{staticClass:"q-ml-xs",attrs:{model:e,field:"code",icon:"fal fa-tag",success:t.saveCoach,tooltip:"Change Bus Code"}}),t.locked?t._e():s("edit-button",{staticClass:"q-ml-xs",attrs:{model:e,type:"number",field:"capacity",icon:"fal fa-users",success:t.saveCoach,tooltip:"Change Capacity"}}),t.locked?t._e():s("delete-button",{staticClass:"q-ml-xs",attrs:{tooltip:"Delete Coach",model:e,success:t.deleteCoach,label:"Delete Coach?"}})],1)])]},proxy:!0}],null,!0)},[s("q-card",{staticStyle:{"border-top":"1px solid font"}},[s("q-card-section",{staticClass:"bg-tertiary text-white"},[s("q-list",[s("q-item",{attrs:{tagx:"label"}},[s("q-item-section",{attrs:{avatar:""}},t._l(e.stops,(function(a){return a.isSchoolLocation?t._e():s("q-checkbox",{key:a.id,staticClass:"row",attrs:{dark:"",label:a.name,color:"accent"},on:{input:function(s){return t.clickCoachStop(e,a)}},model:{value:a.isActive,callback:function(e){t.$set(a,"isActive",e)},expression:"stop.isActive"}})})),1)],1)],1)],1)],1)],1)})),1)],1),s("div",{staticClass:"col q-pl-md",staticStyle:{"border-left":"1px solid font"}},[s("q-bar",{staticClass:"text-font text-bold",staticStyle:{background:"none"}},[t._v("Route")]),s("q-timeline",{attrs:{layoutx:"dense",side:"right",color:"accent"}},t._l(t.selectedRoute.stops,(function(e){return s("q-timeline-entry",{key:e.id,staticClass:"text-font",attrs:{title:e.name,subtitle:t.canChangeTime(e)?e.time:"",side:"left"}},[s("span",{staticClass:"no-shadow",staticStyle:{"margin-top":"-30px"}},[t.locked?t._e():s("edit-button",{staticClass:"q-ml-xs",attrs:{model:e,field:"name",success:t.saveStop,tooltip:"Edit Stop Name"}}),t.locked||0!==e.isSchoolLocation?t._e():s("delete-button",{staticClass:"q-ml-xs",attrs:{model:e,success:t.deleteStop,label:"Delete Stop?",tooltip:"delete stop"}}),!t.locked&&t.canChangeTime(e)?s("edit-button",{staticClass:"q-ml-xs",attrs:{model:e,type:"time",field:"time",color:"00:00"===e.time?"warning":"font",icon:"fal fa-clock",success:t.saveStop,tooltip:"Change Time (affects stop order)"}}):t._e(),t.locked||0!==e.isSchoolLocation?t._e():s("edit-button",{staticClass:"q-ml-sm",attrs:{model:e,field:"cost",label:"£"+e.cost,icon:"fal fa-credit-card",success:t.saveStop,tooltip:"Set Price",outline:"",color:0===e.cost?"warning":"font"}})],1)])})),1),t.locked?t._e():s("new-button",{attrs:{label:"New stop name",success:t.newStop}})],1)])],1):t._e()],1):t._e()])},n=[],o=(s("e125"),s("4823"),s("2e73"),s("76d0"),s("8e9e")),r=s.n(o),i=s("9ce4"),l=s("5228"),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-btn",{staticClass:"col",attrs:{size:t.size,flat:"",dense:"",icon:t.icon},on:{click:function(t){t.stopPropagation()}}},[t.tooltip?s("q-tooltip",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[t._v("\n     "+t._s(t.tooltip)+"\n   ")]):t._e(),s("q-popup-proxy",[s("q-card",{staticClass:"bg-primary ada-card-outline",staticStyle:{width:"200px"},attrs:{dark:""}},[s("q-card-section",[t._v("\n        "+t._s(t.label)+"\n      ")]),s("q-separator",{attrs:{dark:"",inset:""}}),s("q-card-section",{staticClass:"row q-gutter-sm"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col",attrs:{color:"pink",label:"No"}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col",attrs:{color:"positive","text-color":"black",label:"Yes"},on:{click:function(e){return t.success(t.model)}}})],1)],1)],1)],1)},d=[],u={name:"Component.Buttons.Delete",props:{success:{type:Function,required:!0},model:{type:Object,required:!0},size:{type:String,default:"sm"},icon:{type:String,default:"fal fa-trash"},label:{type:String,default:"Delete"},tooltip:{type:String}},data(){return{}},methods:{},computed:{},components:{},created(){}},p=u,h=(s("00f9"),s("2be6")),f=s("2ef0"),m=s("3aaf"),b=s("8c18"),g=s("ebe6"),y=s("965d"),v=s("96f0"),w=s("58c0"),x=s("e279"),C=s.n(x),q=Object(h["a"])(p,c,d,!1,null,"68a5a28f",null),k=q.exports;C()(q,"components",{QBtn:f["a"],QTooltip:m["a"],QPopupProxy:b["a"],QCard:g["a"],QCardSection:y["a"],QSeparator:v["a"]}),C()(q,"directives",{ClosePopup:w["a"]});var _=s("ad81"),S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-btn",{attrs:{size:t.size,icon:t.icon,outline:"",color:"accent",dense:""}},[t.tooltip?s("q-tooltip",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[t._v("\n     "+t._s(t.tooltip)+"\n   ")]):t._e(),s("q-popup-proxy",{ref:"popup"},[s("q-banner",{staticClass:"bg-secondary text-font q-pt-md bd-font-seconary ada-new-banner",on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit()}}},[s("q-input",{attrs:{label:t.label,type:t.type,autofocus:"",color:"font"},model:{value:t.data,callback:function(e){t.data=e},expression:"data"}}),s("q-input",{attrs:{label:t.label2,type:t.type2,color:"font"},model:{value:t.data2,callback:function(e){t.data2=e},expression:"data2"}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"full-width highlight q-mt-md",attrs:{disabled:0===t.data.length||0===t.data2.length,outline:"",label:"submit"},on:{click:function(e){return t.submit()}}})],1)],1)],1)},O=[],j={name:"Component.Buttons.New",props:{success:{type:Function,required:!0},size:{type:String,default:"xs"},icon:{type:String,default:"fal fa-plus"},label:{type:String,default:"New"},type:{type:String,default:""},label2:{type:String,default:"New"},type2:{type:String,default:""},tooltip:{type:String}},data(){return{data:"",data2:""}},methods:{submit(){0!==this.data.length&&0!==this.data2.length&&(this.success(this.data,this.data2),this.data="",this.data2="",this.$refs.popup.hide())}},computed:{},components:{},created(){}},$=j,Q=(s("d09c"),s("01a4")),R=s("bc74"),P=Object(h["a"])($,S,O,!1,null,"575437f3",null),E=P.exports;C()(P,"components",{QBtn:f["a"],QTooltip:m["a"],QPopupProxy:b["a"],QBanner:Q["a"],QInput:R["a"]}),C()(P,"directives",{ClosePopup:w["a"]});var T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-btn",{staticClass:"col",attrs:{size:t.size,flat:"",dense:"",icon:t.icon,color:t.color,label:t.label},on:{click:function(t){t.stopPropagation()}}},[t.tooltip?s("q-tooltip",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[t._v("\n     "+t._s(t.tooltip)+"\n   ")]):t._e(),s("q-popup-edit",{on:{save:function(e){return t.success(t.model)},hide:function(e){return t.success(t.model)}},model:{value:t.model[t.field],callback:function(e){t.$set(t.model,t.field,e)},expression:"model[field]"}},[s("q-banner",{staticClass:"text-font q-pt-none q-pt-md",on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.success(t.model)}}},[s("q-input",{attrs:{type:t.type,dense:"",autofocus:"",outline:"",color:"font"},model:{value:t.model[t.field],callback:function(e){t.$set(t.model,t.field,e)},expression:"model[field]"}})],1)],1)],1)},D=[],I={name:"Component.Buttons.Edit",props:{success:{type:Function,required:!0},model:{type:Object,required:!0},field:{type:String,required:!0},size:{type:String,default:"sm"},icon:{type:String,default:"fal fa-edit"},label:{type:String,default:""},title:{type:String,default:"Edit"},type:{type:String,default:""},tooltip:{type:String},color:{type:String,default:"font"}},data(){return{name:""}},methods:{},computed:{},components:{},created(){}},N=I,B=(s("e3c5"),s("d200")),W=Object(h["a"])(N,T,D,!1,null,"0129b0a9",null),A=W.exports;function M(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function Y(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?M(Object(s),!0).forEach((function(e){r()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):M(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}C()(W,"components",{QBtn:f["a"],QTooltip:m["a"],QPopupEdit:B["a"],QBanner:Q["a"],QInput:R["a"]});var z={name:"Tbs.Coaches.Setup",props:{session:{type:Number},locked:{type:Boolean,default:!1}},data(){return{direction:"outbound",routes:[],selectedRouteId:null,selectedRoute:{id:null,name:null},newName:"",temp:!1}},methods:{clickCoachStop(t,e){console.warn(t,e);var s={coachId:t.id,stopId:e.id,isActive:e.isActive};l["a"].putCoachStop(this.getRoute,this.$error,s)},canChangeTime(t){return!0},getRoutes(){l["a"].getRoutes(this.processRoutes,null,this.session)},saveRoute(t){l["a"].putRoute(this.getRoutes,null,t)},deleteRoute(t){l["a"].deleteRoute(this.getRoutes,null,t.id),t.id===this.selectedRouteId&&(this.selectedRouteId=null,this.selectedRoute={id:null,name:null})},setSession(){},processRoutes(t){this.routes=t,this.setTopActive()},selectRoute(t){t.id!==this.selectedRouteId&&(this.selectedRoute=t,this.selectedRouteId=t.id)},submitNew(t){var e=this;this.$q.loading.show();var s={name:t,sessionId:this.session,isReturn:this.isReturn};l["a"].postRoute((function(t){e.selectedRoute=t,e.selectedRouteId=t.id,e.getRoutes(),e.$q.loading.hide()}),null,s)},newStop(t){l["a"].postStop(this.getRoute,null,{routeId:this.selectedRouteId,name:t})},saveStop(t){l["a"].putStop(this.getRoute,null,t)},deleteStop(t){l["a"].deleteStop(this.getRoute,null,t.id)},getRoute(){var t=this,e=this.selectedRouteId;l["a"].getRoute((function(e){console.log(e),t.selectedRoute=e}),null,e)},newCoach(t,e){l["a"].postCoach(this.getRoute,null,{routeId:this.selectedRouteId,code:t,capacity:e})},saveCoach(t){l["a"].putCoach(this.getRoute,null,t)},deleteCoach(t){l["a"].deleteCoach(this.getRoute,null,t.id)},setTopActive(){var t=this.activeRoutes[0];if(!t)return this.selectedRouteId=null,void(this.selectedRoute=null);this.selectedRouteId=t.id,this.selectedRoute=t,this.getRoute()}},watch:{selectedRouteId(){this.getRoute()},session(){this.getRoutes()},direction(){this.setTopActive()}},computed:Y(Y({},Object(i["c"])("transport",["activeSession"])),{},{isReturn(){return"outbound"===this.direction?0:1},countActiveStops(t){var e=t.stops.filter((function(t){return t.isActive}));return e.length},activeRoutes(){var t=this,e=this.routes.filter((function(e){return e.isReturn===t.isReturn}));return e}}),components:{DeleteButton:k,NewButton:_["a"],NewButtonDouble:E,EditButton:A},created(){var t=this;0!==this.session&&(this.$store.watch((function(){return t.$store.getters["transport/activeSession"]}),this.setSession),this.session=this.$store.getters["transport/activeSession"]),this.getRoutes()}},H=z,L=(s("39ef"),s("4776")),G=s("dd08"),F=s("6c93"),K=s("ac9b"),U=s("66dc"),V=s("5d16"),J=s("0f3b"),X=s("34ff"),Z=s("7d9a"),tt=s("851c"),et=s("7bf9"),st=s("8aae"),at=s("2be8"),nt=Object(h["a"])(H,a,n,!1,null,"69a630d6",null);e["a"]=nt.exports;C()(nt,"components",{QTabs:L["a"],QTab:G["a"],QList:F["a"],QItem:K["a"],QItemSection:U["a"],QPopupEdit:B["a"],QInput:R["a"],QBar:V["a"],QCard:g["a"],QCardSection:y["a"],QExpansionItem:J["a"],QIcon:X["a"],QItemLabel:Z["a"],QCheckbox:tt["a"],QTimeline:et["a"],QTimelineEntry:st["a"]}),C()(nt,"directives",{Ripple:at["a"]})},"42ff":function(t,e,s){"use strict";var a=s("a578"),n=s.n(a);n.a},4677:function(t,e,s){"use strict";var a=s("6e39"),n=s.n(a);n.a},"4f82":function(t,e,s){"use strict";var a=s("bde4"),n=s.n(a);n.a},"510c":function(t,e,s){"use strict";var a=s("a35c"),n=s.n(a);n.a},5111:function(t,e,s){},5228:function(t,e,s){"use strict";var a=s("47783"),n=s("452d");e["a"]={getRoutes(t,e,s){a["a"].get("/transport/coaches/routes/"+s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getStops(t,e,s){a["a"].get("/transport/coaches/stops/"+s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getRoute(t,e,s){a["a"].get("/transport/coaches/route/"+s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},postRoute(t,e,s){a["a"].post("/transport/coaches/route",s).then((function(e){t(e.data)})).catch((function(t){console.log(t),e()}))},putRoute(t,e,s){a["a"].put("/transport/coaches/route",s).then((function(e){t(e.data)})).catch((function(t){console.log(t),e()}))},deleteRoute(t,e,s){a["a"].delete("/transport/coaches/route/"+s).then((function(e){t(e.data)})).catch((function(t){console.log(t),e()}))},postCoach(t,e,s){a["a"].post("/transport/coaches/coach",s).then((function(e){t(e.data)})).catch((function(t){console.log(t),e()}))},postRegisterEmail(t,e,s){a["a"].post("/transport/coaches/coach/register/email/"+s).then((function(e){t(e.data)})).catch((function(t){console.log(t),e()}))},postAllRegisterEmails(t,e){var s=n["a"].getters["transport/activeSession"];a["a"].post("/transport/coaches/registers/email/"+s).then((function(e){t(e.data)})).catch((function(t){console.log(t),e()}))},putCoach(t,e,s){a["a"].put("/transport/coaches/coach",s).then((function(e){t(e.data)})).catch((function(t){console.log(t),e()}))},deleteCoach(t,e,s){a["a"].delete("/transport/coaches/coach/"+s).then((function(e){t(e.data)})).catch((function(t){console.log(t),e()}))},postStop(t,e,s){a["a"].post("/transport/coaches/stop",s).then((function(e){t(e.data)})).catch((function(t){console.log(t),e()}))},putStop(t,e,s){a["a"].put("/transport/coaches/stop",s).then((function(e){t(e.data)})).catch((function(t){console.log(t),e()}))},deleteStop(t,e,s){a["a"].delete("/transport/coaches/stop/"+s).then((function(e){t(e.data)})).catch((function(t){console.log(t),e()}))},putCoachStop(t,e,s){a["a"].put("/transport/coaches/coach/stop",s).then((function(e){t(e.data)})).catch((function(t){console.log(t),e()}))},postCopyRoutes(t,e,s,n){a["a"].post("/transport/coaches/copy/"+s+"/"+n).then((function(e){t(e.data)})).catch((function(t){console.log(t),e()}))},putSupervisor(t,e,s,n){a["a"].put("/transport/coaches/coach/supervisor/"+s+"/"+n).then((function(e){t(e.data)})).catch((function(t){console.log(t),e()}))}}},"5a18":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"input-form"},[s("div",{ref:"new",staticClass:"row"},[t._l(t.columns,(function(e,a){return e.validations?s("div",{key:e.field,staticClass:"col-12"},[!0===!e.hidden?s("div",{staticClass:"q-mb-md",attrs:{orientation:"vertical",label:e.label,helperx:e.required?"Required":"","error-label":""}},["string"===e.type?s("q-input",{ref:a?"input"+a:"",refInFor:!0,attrs:{tabindex:"0",label:e.label,"stack-labelx":e.label,type:"text",error:t.$v.newRow[e.field].$error,autofocus:"",color:"font"},on:{blur:function(s){t.$v.newRow[e.field].$touch},input:function(s){t.$v.newRow[e.field].$touch,t.input(t.newRow[e.field],e)}},model:{value:t.newRow[e.field],callback:function(s){t.$set(t.newRow,e.field,"string"===typeof s?s.trim():s)},expression:"newRow[column.field]"}}):t._e(),"number"===e.type?s("q-input",{attrs:{tabindex:"0",label:e.label,"stack-labelx":e.label,type:"number",error:t.$v.newRow[e.field].$error,autofocus:"",color:"font"},on:{blur:function(s){t.$v.newRow[e.field].$touch},input:function(s){t.$v.newRow[e.field].$touch,t.input(t.newRow[e.field],e)}},model:{value:t.newRow[e.field],callback:function(s){t.$set(t.newRow,e.field,"string"===typeof s?s.trim():s)},expression:"newRow[column.field]"}}):t._e(),"options"===e.type&&e.options.length<4?s("q-btn-toggle",{staticClass:"q-mt-md",attrs:{label:e.label,"toggle-color":"cyan-9","text-color":"white","toggle-text-color":"accent",options:e.options,error:t.$v.newRow[e.field].$error,outline:""},on:{input:function(s){t.$v.newRow[e.field].$touch,t.input(t.newRow[e.field],e)}},model:{value:t.newRow[e.field],callback:function(s){t.$set(t.newRow,e.field,s)},expression:"newRow[column.field]"}}):t._e(),"options"===e.type&&e.options.length>3?s("q-select",{attrs:{"map-options":"","stack-label":e.label,options:e.options,label:e.label,dark:t.dark,error:t.$v.newRow[e.field].$error,"emit-value":""},on:{input:function(s){t.$v.newRow[e.field].$touch,t.input(t.newRow[e.field],e)}},model:{value:t.newRow[e.field],callback:function(s){t.$set(t.newRow,e.field,s)},expression:"newRow[column.field]"}}):t._e(),"date"===e.type||"datetime"===e.type||"time"===e.type?s("q-input",{attrs:{label:e.label,filled:"",color:"font"},on:{click:function(s){return t.clickDateInput(e.field)}},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"time"===e.type?"access_time":"event"}},[s("q-popup-proxy",{ref:"qDateProxy_"+e.field,refInFor:!0,attrs:{"transition-show":"scale","transition-hide":"scale"}},[s("div",{staticClass:"bg-dark row no-padding no-margin",staticStyle:{border:"1px solid grey"}},["date"===e.type||"datetime"===e.type?s("div",{staticClass:"col q-pb-md",staticStyle:{"border-right":"1px solid grey"}},[s("q-date",{staticClass:"row",attrs:{color:"grey-8",mask:"datetime"===e.type?"DD-MM-YYYY HH:mm":"DD-MM-YYYY","text-color":"black",flat:"",minimal:""},on:{input:function(s){t.$v.newRow[e.field].$touch,t.input(t.newRow[e.field],e)}},model:{value:t.newRow[e.field],callback:function(s){t.$set(t.newRow,e.field,s)},expression:"newRow[column.field]"}}),s("div",{staticClass:"row q-mt-md"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col q-ml-md q-mr-xs",attrs:{flatx:"",outline:"",color:"tertiary","text-color":"font",label:"clear"},on:{click:function(s){return t.clearValue(e.field)}}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col q-ml-xs q-mr-md",attrs:{outline:"",color:"positive","text-color":"positive",label:"save"}})],1)],1):t._e(),"time"===e.type||"datetime"===e.type?s("div",{staticClass:"col no-padding no-margin"},[s("q-time",{attrs:{mask:"DD-MM-YYYY HH:mm",format24h:"",color:"grey-8","text-color":"font",borderedx:"",minimal:"",flat:""},on:{input:function(s){t.$v.newRow[e.field].$touch,t.input(t.newRow[e.field],e)}},model:{value:t.newRow[e.field],callback:function(s){t.$set(t.newRow,e.field,s)},expression:"newRow[column.field]"}}),"time"===e.type?s("div",{staticClass:"row q-my-md"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col q-ml-md q-mr-xs",attrs:{flatx:"",outline:"",color:"font","text-color":"font",label:"clear"},on:{click:function(s){return t.clearValue(e.field)}}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col q-ml-xs q-mr-md",attrs:{outline:"",color:"positive","text-color":"positive",label:"save"}})],1):t._e()],1):t._e()])])],1)]},proxy:!0}],null,!0),model:{value:t.newRow[e.field],callback:function(s){t.$set(t.newRow,e.field,s)},expression:"newRow[column.field]"}}):t._e()],1):t._e()]):t._e()})),s("div",{staticClass:"row q-mt-md full-width"},[s("q-btn",{staticClass:"text-positive col",attrs:{outline:"",icon:"fal fa-check",label:"Create New"},nativeOn:{click:function(e){return t.submit(e)}}})],1)],2)])},n=[],o=s("c286"),r=s("9869"),i={name:"ComponentCrudNew",props:{rowKey:{default:"id"},columns:{required:!0,type:Array},data:{required:!0,type:Array},api:{required:!0,type:Object}},data(){return{dark:!0,newRow:{},autofocus:!1}},validations(){return{newRow:this.getValidations}},methods:{setValue(t,e){r["a"].set(this.newRow,t,e)},clearValue(t){r["a"].set(this.newRow,t,"")},clickDateInput(t){this.$refs["qDateProxy_"+t][0].show()},input(t,e){this.$emit("input",t,e)},submit(){this.$v.newRow.$touch(),this.$v.newRow.$error?this.$q.notify("Please review fields again."):this.api.post(this.success,this.error,this.newRow,this.api.parameters)},success(t){this.data.push(t),this.$emit("saved",t)},error(){this.$q.notify("Oops, something went wrong")}},computed:{getValidations(){var t={};return this.columns.forEach((function(e,s){t[e.field]=e.validations?e.validations:{}})),t},defaultYearMonth(){var t=Date.now();return o["b"].formatDate(t,"YYYY/MM")}},components:{},created(){},mounted(){console.log(this.columns)}},l=i,c=(s("9077"),s("2be6")),d=s("34ff"),u=s("2ef0"),p=s("bc74"),h=s("6dd6"),f=s("3946"),m=s("8c18"),b=s("88af"),g=s("d538"),y=s("58c0"),v=s("e279"),w=s.n(v),x=Object(c["a"])(l,a,n,!1,null,"5edff097",null);e["default"]=x.exports;w()(x,"components",{QIcon:d["a"],QBtn:u["a"],QInput:p["a"],QBtnToggle:h["a"],QSelect:f["a"],QPopupProxy:m["a"],QDate:b["a"],QTime:g["a"]}),w()(x,"directives",{ClosePopup:y["a"]})},"5a94":function(t,e,s){"use strict";var a=s("47783");e["a"]={getClasses(t,e){a["a"].get("/home/classes").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getFormMLO(t,e,s){a["a"].get("/home/classes/mlo/form/"+s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getClassMLO(t,e,s,n){a["a"].get("/home/classes/mlo/"+s+"/"+n).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getSetMLO(t,e,s){a["a"].get("/home/classes/mlo/set/"+s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},postMLO(t,e,s){a["a"].post("/home/classes/mlo",s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getWyaps(t,e,s){a["a"].get("/home/classes/wyaps/"+s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},putWyap(t,e,s){a["a"].put("/home/classes/wyaps/"+s.id,s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getWyapResults(t,e,s){a["a"].get("/home/classes/wyaps/results/"+s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))}}},"61a6":function(t,e,s){},6247:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.yearOptions.length>1?s("div",{staticClass:"shrink full-height q-pr-sm q-mr-xs",class:t.exams?"yb-border":""},[s("q-btn-toggle",{staticClass:"col-3 no-shadow q-mr-md bd-font-secondary ",attrs:{spreadx:"","no-caps":"",densex:"","toggle-color":"tertiary",color:"secondary","text-color":"font-secondary","toggle-text-color":"positive",options:t.yearOptions,size:"sm"},on:{input:t.change},model:{value:t.selectedYear,callback:function(e){t.selectedYear=e},expression:"selectedYear"}}),t.exams?s("exam-bar",{staticClass:"col"}):t._e()],1):t._e()},n=[],o=(s("e125"),s("4823"),s("2e73"),s("76d0"),s("c880"),s("8e9e")),r=s.n(o),i=s("47783"),l={getYears(t,e){i["a"].get("/dha/years").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))}},c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.examOptions.length>1?s("q-btn-toggle",{staticClass:"ad-exam-bar no-margin bd-font-secondary no-shadow",attrs:{shrinkx:"","no-caps":"",densex:"",flatx:"","toggle-color":"tertiary",color:"secondary","text-color":"font-secondary","toggle-text-color":"positive",options:t.examOptions,size:"sm"},on:{input:t.change},model:{value:t.selectedExam,callback:function(e){t.selectedExam=e},expression:"selectedExam"}}):t._e()},d=[],u=(s("4fb0"),s("9ce4"));function p(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function h(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?p(Object(s),!0).forEach((function(e){r()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):p(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var f={name:"Component.Home.Exams.ExamBar",props:{},data(){return{exams:[],selectedExam:null,subject:null,subjectId:null,year:null}},methods:h(h({},Object(u["d"])("hod",["setActiveExam"])),{},{process(t){this.exams=t,this.selectedExam=this.exams[0].id,this.$emit("loaded"),this.change()},change(){var t=this,e=this.exams.find((function(e){return e.id===t.selectedExam}));this.setActiveExam(e.id),this.$emit("change",e)},setExams(){this.subject=this.$store.getters["user/getGlobalSubject"],this.year=this.$store.getters["hod/activeYear"],this.subject&&this.year&&l.getExams(this.process,this.$errorHandler,this.subject.id,this.year)},initials(t){var e,s=t.split(" ").map((function(t){return t.charAt(0)}));if(1===s.length)return t[0].toUpperCase()+t[1];var a="";for(e=0;e<s.length;e++)a+=s[e];return a}}),computed:{examOptions(){var t=this;return this.exams.map((function(e){return{value:e.id,label:t.initials(e.examName)}}))}},components:{},created(){var t=this;this.subjectWatch=this.$store.watch((function(){return t.$store.getters["user/getGlobalSubject"]}),this.setExams),this.examWatch=this.$store.watch((function(){return t.$store.getters["hod/activeYear"]}),this.setExams),this.setExams()},beforeDestroy(){this.subjectWatch(),this.examWatch()}},m=f,b=(s("4f82"),s("2be6")),g=s("6dd6"),y=s("e279"),v=s.n(y),w=Object(b["a"])(m,c,d,!1,null,null,null),x=w.exports;function C(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function q(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?C(Object(s),!0).forEach((function(e){r()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):C(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}v()(w,"components",{QBtnToggle:g["a"]});var k={name:"Component.Home.Years.YearBar",props:{exams:{type:Boolean},examsOnly:{type:Boolean}},data(){return{years:[],selectedYear:null,subjectId:null}},methods:q(q({},Object(u["d"])("dha",["setActiveYear","setActiveYearCode"])),{},{process(t){this.years=t,this.years[0].id!==this.selectedYear&&(this.selectedYear=this.years[0].id,this.change())},change(){var t=this,e=this.years.find((function(e){return e.id===t.selectedYear}));this.setActiveYear(e.id),this.setActiveYearCode(e.name.substring(0,2)),this.$emit("change",e)},setYears(){this.subject=this.$store.getters["user/getGlobalSubject"],l.getYears(this.process,this.$errorHandler)}}),computed:{yearOptions(){var t=this.years.map((function(t){return{value:t.id,label:t.name.substring(0,2)}}));return this.examsOnly&&(t=t.filter((function(t){return 11===t.value||13===t.value}))),t}},components:{ExamBar:x},created(){var t=this;this.subjectWatch=this.$store.watch((function(){return t.$store.getters["user/getGlobalSubject"]}),this.setYears),this.setYears()},beforeDestroy(){this.subjectWatch&&this.subjectWatch()}},_=k,S=(s("f381"),Object(b["a"])(_,a,n,!1,null,null,null));e["a"]=S.exports;v()(S,"components",{QBtnToggle:g["a"]})},6735:function(t,e,s){"use strict";var a=s("9054"),n=s.n(a);n.a},6777:function(t,e,s){},"6e39":function(t,e,s){},"6e63":function(t,e,s){},"77b4":function(t,e,s){"use strict";var a=s("a1a5"),n=s.n(a);n.a},"7aa3":function(t,e,s){},"7acd":function(t,e,s){"use strict";var a=s("16b0"),n=s.n(a);n.a},"7fcc":function(t,e,s){},"84a8":function(t,e,s){"use strict";var a=s("47783");e["a"]={toggleFlag(t,e,s,n){a["a"].put("/dha/tags/flag/"+s+"/"+n).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getMegStatistics(t,e,s){a["a"].get("/dha/wyaps/statistics/meg/year/"+s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getTagStatistics(t,e,s){a["a"].get("/dha/wyaps/statistics/tag/year/"+s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},simulateStatistics(t,e,s){a["a"].get("/dha/wyaps/statistics/simulate/year/"+s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getWyaps(t,e,s){a["a"].get("/dha/wyaps/year/"+s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},postInitialUpload(t,e,s){var n=new FormData;n.append("file",s),a["a"].post("/dha/tags/upload/initial",n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},postFinalUpload(t,e,s,n){var o=new FormData;o.append("file",s),a["a"].post("/dha/tags/upload/final/"+n.id+"/"+n.examCode+"/"+n.year,o,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getOverview(t,e,s){a["a"].get("/dha/tags/overview/year/"+s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))}}},"84e6":function(t,e,s){},"85b2":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"q-pa-mdx"},[s("div",{staticClass:"q-gutter-md row"},[s("q-select",{staticStyle:{"min-width":"300px"},attrs:{outlined:"",dense:"","use-input":"","input-debounce":"0",label:t.label,options:t.selectOptions,"emit-values":"",clearable:"",color:"font"},on:{filter:t.filterFn},scopedSlots:t._u([{key:"no-option",fn:function(){return[s("q-item",[s("q-item-section",{staticClass:"text-font-secondary"},[t._v("\n            No Users\n          ")])],1)]},proxy:!0}]),model:{value:t.user_,callback:function(e){t.user_=e},expression:"user_"}})],1)])},n=[],o=s("47783"),r={getUserNames(t,e){o["a"].get("/users/names").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getUser(t,e,s){o["a"].get("/users/details/"+s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))}},i={name:"Component.Dropdowns.Users",props:{options:{type:Array,default:function(){return[]}},id:{default:null},label:{default:"Common Room",type:String},user:{required:!1}},data(){return{users:[],filter:null,userOptions:[],user_:null,details:{},noEmit:!1,selectOptions:[]}},methods:{process(t){var e=this;this.users=t,this.userOptions=t.map((function(t){return{value:t.id,label:t.displayName,firstName:t.firstname,lastName:t.lastname}})),this.selectOptions=this.userOptions,this.id&&(this.noEmit=!0,this.user_=this.userOptions.find((function(t){return t.value===e.id})))},filterFn(t,e){var s=this;e(""!==t?function(){var e=t.toLowerCase();s.selectOptions=s.userOptions.filter((function(t){return t.label.toLowerCase().indexOf(e)>-1}))}:function(){s.selectOptions=s.userOptions})},emit(t){this.noEmit?this.noEmit=!1:(this.details=t,this.$emit("change",t),this.$emit("update:user",t))},clear(){this.user_=null,this.$emit("update:user",null)}},computed:{},watch:{user_(){this.user_&&r.getUser(this.emit,null,this.user_.value)},user(){this.user||(this.user_=this.user)}},components:{},created(){r.getUserNames(this.process),this.options.length>0&&(this.selectOptions=this.options)}},l=i,c=(s("a916"),s("2be6")),d=s("3946"),u=s("ac9b"),p=s("66dc"),h=s("2ef0"),f=s("e279"),m=s.n(f),b=Object(c["a"])(l,a,n,!1,null,"8e11b0fe",null);e["a"]=b.exports;m()(b,"components",{QSelect:d["a"],QItem:u["a"],QItemSection:p["a"],QBtn:h["a"]})},"88cd":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"qx-pa-md"},[s("div",{staticClass:"q-gutter-mdx row"},[t.hide&&!t.showSelect&&t.chip?s("q-chip",{staticClass:"q-ma-none",attrs:{label:t.subjectName,outline:"",square:"",sizex:"sm",color:"accent"},nativeOn:{click:function(e){t.showSelect=!0}}}):t._e(),t.subject&&!t.showSelect&&t.hide?t._e():s("q-select",{staticClass:"q-pt-sm bd-font-secondary no-padding q-mt-sm",staticStyle:{"min-width":"300px"},attrs:{filled:"",dense:"","use-input":"","input-debounce":"0",label:"Subjects",options:t.options,clearablex:"","popup-content-class":"bd-font-secondary bg-tertiary"},on:{filter:t.filterFn,input:t.selectChange},scopedSlots:t._u([{key:"no-option",fn:function(){return[s("q-item",[s("q-item-section",{staticClass:"text-grey"},[t._v("\n            No Subjects\n          ")])],1)]},proxy:!0}],null,!1,1778722682),model:{value:t.subject,callback:function(e){t.subject=e},expression:"subject"}})],1)])},n=[],o=(s("e125"),s("4823"),s("2e73"),s("76d0"),s("c880"),s("8e9e")),r=s.n(o),i=s("9ce4"),l=s("f517");function c(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function d(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?c(Object(s),!0).forEach((function(e){r()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var u={name:"Component.Dropdowns.Subjects",props:{optionsOverride:{type:Array,default:function(){return[]}},subjectStore:{type:String},hide:{type:Boolean,default:!1},chip:{type:Boolean,default:!1}},data(){return{subjects:[],filter:null,subjectOptions:[],options:[],subject:null,showSelect:!0}},methods:d(d({},Object(i["b"])("user",["setGlobalSubject"])),{},{selectChange(){this.showSelect=!1,this.setGlobalSubject(this.subject)},process(t){if(this.subjects=t,this.subjectOptions=t.map((function(t){return{value:t.name,label:t.name,name:t.name,code:t.code,id:t.id}})),this.options=this.subjectOptions,this.subjectStore){var e=this.$store.getters[this.subjectStore];this.subject=this.subjectOptions.find((function(t){return t.value===e.id}))}},filterFn(t,e){var s=this;e(""!==t?function(){var e=t.toLowerCase();s.options=s.subjectOptions.filter((function(t){return t.label.toLowerCase().indexOf(e)>-1}))}:function(){s.options=s.subjectOptions})}}),computed:d(d({},Object(i["c"])("user",["getGlobalSubject"])),{},{subjectName(){return this.subject?this.subject.name:""}}),watch:{subject(){this.$emit("change",{label:this.subject.name,value:this.subject.name,name:this.subject.name,code:this.subject.code,id:this.subject.id})}},components:{},created(){this.subject=this.getGlobalSubject,this.subject&&(this.showSelect=!1),l["a"].getSubjectNames(this.process)}},p=u,h=(s("01b2"),s("2be6")),f=s("2ef0"),m=s("4840"),b=s("3946"),g=s("ac9b"),y=s("66dc"),v=s("e279"),w=s.n(v),x=Object(h["a"])(p,a,n,!1,null,"1a80d76f",null);e["a"]=x.exports;w()(x,"components",{QBtn:f["a"],QChip:m["a"],QSelect:b["a"],QItem:g["a"],QItemSection:y["a"]})},"89cf":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.examOptions.length>1?s("q-btn-toggle",{staticClass:"ad-exam-bar no-margin bd-font-secondary no-shadow",attrs:{shrinkx:"","no-caps":"",densex:"",flatx:"","toggle-color":"tertiary",color:"secondary","text-color":"font-secondary","toggle-text-color":"positive",options:t.examOptions,size:"sm"},on:{input:t.change},model:{value:t.selectedExam,callback:function(e){t.selectedExam=e},expression:"selectedExam"}}):t._e()},n=[],o=(s("e125"),s("4823"),s("2e73"),s("76d0"),s("4fb0"),s("8e9e")),r=s.n(o),i=s("268c"),l=s("9ce4");function c(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function d(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?c(Object(s),!0).forEach((function(e){r()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var u={name:"Component.Home.Exams.ExamBar",props:{},data(){return{exams:[],selectedExam:null,subject:null,subjectId:null,year:null}},methods:d(d({},Object(l["d"])("hod",["setActiveExam"])),{},{process(t){this.exams=t,this.selectedExam=this.exams[0].id,this.$emit("loaded"),this.change()},change(){var t=this,e=this.exams.find((function(e){return e.id===t.selectedExam}));this.setActiveExam(e.id),this.$emit("change",e)},setExams(){this.subject=this.$store.getters["user/getGlobalSubject"],this.year=this.$store.getters["hod/activeYear"],this.subject&&this.year&&i["a"].getExams(this.process,this.$errorHandler,this.subject.id,this.year)},initials(t){var e,s=t.split(" ").map((function(t){return t.charAt(0)}));if(1===s.length)return t[0].toUpperCase()+t[1];var a="";for(e=0;e<s.length;e++)a+=s[e];return a}}),computed:{examOptions(){var t=this;return this.exams.map((function(e){return{value:e.id,label:t.initials(e.examName)}}))}},components:{},created(){var t=this;this.subjectWatch=this.$store.watch((function(){return t.$store.getters["user/getGlobalSubject"]}),this.setExams),this.examWatch=this.$store.watch((function(){return t.$store.getters["hod/activeYear"]}),this.setExams),this.setExams()},beforeDestroy(){this.subjectWatch(),this.examWatch()}},p=u,h=(s("d395"),s("2be6")),f=s("6dd6"),m=s("e279"),b=s.n(m),g=Object(h["a"])(p,a,n,!1,null,null,null);e["a"]=g.exports;b()(g,"components",{QBtnToggle:f["a"]})},"8b05":function(t,e,s){"use strict";var a=s("47783");e["a"]={getNames(t,e){a["a"].get("/students/names").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getDetails(t,e,s){a["a"].get("/students/details/"+s.id).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getTags(t,e){a["a"].get("/students/tags").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))}}},"8bbc":function(t,e,s){},"902c":function(t,e,s){},9054:function(t,e,s){},9077:function(t,e,s){"use strict";var a=s("f1da"),n=s.n(a);n.a},9489:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col column no-scroll"},[s("loading",{attrs:{loading:t.loading,message:"Loading Whole Year Assessment Points..."}}),t.loading?t._e():s("div",{staticClass:"row no-wrap q-px-xs q-pt-none text-left col items-stretch",attrs:{stylxe:"padding-bottom:200px"}},[s("div",{staticClass:"q-mr-md q-mb-md column",staticStyle:{"min-width":"200px"}},[s("q-scroll-area",{staticClass:"bg-tertiary col q-mb-xl"},[s("q-list",{},[t.classObject?t._e():s("q-item",{staticClass:"text-font-secondary",attrs:{dense:"",clickable:""},on:{click:function(e){t.newOpen=!0}}},[s("q-item-section",[s("q-item-label",{staticClass:"text-positive text-bold text-center"},[t._v("NEW WYAP")])],1)],1),t.classObject?s("q-item",{staticClass:"text-font-secondary",attrs:{dense:""}},[s("q-item-section",[s("q-item-label",{staticClass:"text-positive text-center"},[t._v("WYAP")])],1)],1):t._e(),s("q-separator",{attrs:{color:"text-primary"}}),0===t.wyaps.length?s("q-item",{staticClass:"q-pa-xs text-white bg-tertiary q-my-xs",attrs:{dense:""}},[s("q-item-section",[s("q-item-label",{staticClass:"q-pl-sm text-font text-center"},[t._v("\n                  None Available\n                ")])],1)],1):t._e(),t._l(t.wyaps,(function(e){return s("div",{key:e.id},[s("q-item",{staticClass:"q-pa-xs text-white bg-tertiary q-my-xs",class:e.id===t.selectedWyapId?"active-class":"",attrs:{clickable:"",dense:"",group:"wyaps"},on:{click:function(s){return t.setWyap(e.id)}}},[s("q-item-section",[s("q-item-label",{staticClass:"q-pl-sm text-font"},[t._v("\n                    "+t._s(e.name)+"\n                  ")])],1),s("q-item-section",{attrs:{side:""}},[s("q-icon",{attrs:{name:"fas fa-chevron-right",color:"font-secondary",size:"xs"}})],1)],1),s("q-separator")],1)}))],2)],1)],1),s("div",{staticClass:"col no-scroll column"},[t.wyap?s("q-toolbar",{staticClass:"bg-tertiary text-white no-padding toolbar-slim",attrs:{shrink:"",dense:""}},[s("q-btn",{staticClass:"q-ml-md",attrs:{flat:"",label:t.classObject?"edit my results":"Edit",color:"positive",dense:""},on:{click:t.openUpdate}}),t.classObject?t._e():s("q-btn",{staticClass:"q-ml-md q-mr-md",attrs:{flat:"",label:"Set Grades",color:"positive",dense:""},on:{click:t.openGrades}}),s("q-space"),s("q-tabs",{staticClass:"text-font",attrs:{stretch:"","active-color":"accent",dense:""},model:{value:t.wyapTab,callback:function(e){t.wyapTab=e},expression:"wyapTab"}},[t.classObject?s("q-tab",{attrs:{name:"classResults",label:"results"}}):t._e(),s("q-tab",{attrs:{name:"results",label:t.classObject?"All Results":"results"}}),s("q-tab",{attrs:{name:"analysis",label:"analysis"}})],1)],1):t._e(),t.wyap?s("q-tab-panels",{staticClass:"column col",attrs:{animated:""},model:{value:t.wyapTab,callback:function(e){t.wyapTab=e},expression:"wyapTab"}},[s("q-tab-panel",{staticClass:"q-px-none q-pb-xl q-pt-none column col",attrs:{name:"classResults"}},[s("results",{attrs:{results:t.classResults,wyap:t.wyap}})],1),s("q-tab-panel",{staticClass:"q-px-none q-pb-xl q-pt-none column col",attrs:{name:"results"}},[s("results",{attrs:{results:t.results,wyap:t.wyap}})],1),s("q-tab-panel",{staticClass:"q-px-none q-pb-xl column col",attrs:{name:"analysis"}},[s("analysis",{attrs:{results:t.results,wyap:t.wyap,statistics:t.statistics}})],1),s("q-tab-panel",{staticClass:"q-px-none fit",attrs:{name:"update"}},[s("update",{attrs:{results:t.results}})],1)],1):t._e()],1)]),s("q-dialog",{attrs:{persistent:""},model:{value:t.newOpen,callback:function(e){t.newOpen=e},expression:"newOpen"}},[s("q-card",{staticClass:"bd-font-secondary bg-secondary",staticStyle:{"min-width":"300px"}},[s("q-card-section",{staticClass:"row items-center"},[s("q-input",{staticClass:"full-width q-mb-md",attrs:{color:"font-secondary",outlined:"",label:"Name",autofocus:""},model:{value:t.newWyap.name,callback:function(e){t.$set(t.newWyap,"name",e)},expression:"newWyap.name"}}),s("q-select",{staticClass:"text-font full-width q-mb-md",attrs:{"emit-value":"",color:"font-secondary",label:"Select Type","map-options":"",outlined:"",options:t.wyapTypeOpions,"options-dense":""},model:{value:t.newWyap.typeId,callback:function(e){t.$set(t.newWyap,"typeId",e)},expression:"newWyap.typeId"}}),s("q-input",{staticClass:"full-width q-mb-md",attrs:{color:"font-secondary",outlined:"",label:"Out of how many marks?",type:"number"},model:{value:t.newWyap.marks,callback:function(e){t.$set(t.newWyap,"marks",e)},expression:"newWyap.marks"}}),s("q-toggle",{staticClass:"text-font hidden",attrs:{color:"accent",label:"Split over two papers?"},on:{input:t.checkSplitMarks},model:{value:t.newWyap.isSplitPapers,callback:function(e){t.$set(t.newWyap,"isSplitPapers",e)},expression:"newWyap.isSplitPapers"}})],1),t.newWyap.isSplitPapers?s("q-card-section",{staticClass:"q-pt-none"},[s("div",{staticClass:"row q-gutter-x-xs"},[s("q-input",{staticClass:"col q-mb-md",attrs:{type:"number",color:"font-secondary",outlined:"",label:"Paper 1 Marks",autofocus:""},on:{input:t.setSplit2},model:{value:t.newWyap.splitMarks1,callback:function(e){t.$set(t.newWyap,"splitMarks1",e)},expression:"newWyap.splitMarks1"}}),s("q-input",{staticClass:"col q-mb-md",attrs:{readonly:"",type:"number",color:"font-secondary",outlined:"",label:"Paper 2 Marks"},model:{value:t.newWyap.splitMarks2,callback:function(e){t.$set(t.newWyap,"splitMarks2",e)},expression:"newWyap.splitMarks2"}})],1)]):t._e(),s("q-card-actions",{attrs:{alignx:"right"}},[!t.verifyNewWyap&&t.hasCheckedNewWyap?s("span",{staticClass:"q-ml-md text-warning"},[t._v("There are errors / incomplete fields")]):t._e(),s("q-space"),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"font"}}),s("q-btn",{attrs:{flat:"",label:"CREATE",color:"accent"},on:{click:t.createNew}})],1)],1)],1),t.wyap?s("q-dialog",{key:t.key,staticStyle:{height:"100vh"},attrs:{persistent:"",maximized:!0,"transition-show":"slide-up","transition-hide":"slide-down"},model:{value:t.updateOpen,callback:function(e){t.updateOpen=e},expression:"updateOpen"}},[s("q-card",{staticClass:"bg-primary bd-font-secondary text-white column",staticStyle:{"overflow-y":"hidden","max-width":"900px",height:"90vh"}},[s("update",{staticClass:"col",attrs:{classObject:t.classObject,results:t.results,id:t.wyap.id,name:t.wyap.name,marks:t.wyap.marks},on:{close:function(e){t.updateOpen=!1},refresh:t.refresh,deleted:t.deletedWyap}})],1)],1):t._e(),t.wyap?s("q-dialog",{key:t.gradesKey,staticStyle:{"max-height":"100vh"},attrs:{persistent:"",maximized:!1,"transition-show":"slide-up","transition-hide":"slide-down"},model:{value:t.gradesOpen,callback:function(e){t.gradesOpen=e},expression:"gradesOpen"}},[s("q-card",{staticClass:"bg-primary bd-font-secondary text-white column",staticStyle:{"overflow-y":"hidden","max-width":"900px","max-height":"90vh"}},[s("grades",{staticClass:"col",attrs:{classObject:t.classObject,results:t.results,id:t.wyap.id,name:t.wyap.name,gradeSetId:t.wyap.gradeSetId,marks:t.wyap.marks},on:{close:function(e){t.gradesOpen=!1},refresh:t.refresh,deleted:t.deletedWyap}})],1)],1):t._e()],1)},n=[],o=(s("c880"),s("47783")),r=s("452d"),i={getWyaps(t,e,s,a){var n=r["a"].getters["user/getGlobalSubject"];o["a"].get("/hod/"+n.id+"/wyaps/"+s+"/"+a).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},postWyap(t,e,s,a,n){var i=r["a"].getters["user/getGlobalSubject"];o["a"].post("/hod/"+i.id+"/wyaps/"+s+"/"+a,n).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},putWyap(t,e,s){var a=r["a"].getters["user/getGlobalSubject"];o["a"].put("/hod/"+a.id+"/wyaps/"+s.id,s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},deleteWyap(t,e,s){var a=r["a"].getters["user/getGlobalSubject"];o["a"].delete("/hod/"+a.id+"/wyaps/"+s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getWyapResults(t,e,s){var a=r["a"].getters["user/getGlobalSubject"];o["a"].get("/hod/"+a.id+"/wyaps/"+s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getBoundaries(t,e,s){var a=r["a"].getters["user/getGlobalSubject"];o["a"].get("/hod/"+a.id+"/wyaps/grades/boundaries/"+s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},putBoundaries(t,e,s,a){var n=r["a"].getters["user/getGlobalSubject"];o["a"].put("/hod/"+n.id+"/wyaps/grades/boundaries/"+s,a).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},putBoundariesGradeProfile(t,e,s,a){var n=r["a"].getters["user/getGlobalSubject"];o["a"].put("/hod/"+n.id+"/wyaps/grades/boundaries/profile/"+s,a).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getGradeSets(t,e){var s=r["a"].getters["user/getGlobalSubject"],a=r["a"].getters["hod/activeYear"];o["a"].get("/hod/"+s.id+"/wyaps/grades/"+a+"/gradesets").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},putGradeSet(t,e,s,a){var n=r["a"].getters["user/getGlobalSubject"];o["a"].put("/hod/"+n.id+"/wyaps/"+s+"/gradeset/"+a).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))}},l=s("5a94"),c=s("10ac"),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"q-pr-sm col column"},[s("div",{staticClass:"col column"},[s("div",{staticClass:"col column q-mt-md",attrs:{id:"s"}},[s("q-scroll-area",{staticClass:"column col q-pb-xl"},[s("q-markup-table",{staticClass:"q-mb-xl",attrs:{dense:"",flat:"",bordered:""}},[s("thead",{staticClass:"q-mb-md"},[s("tr",{staticClass:"bg-tertiary"},[s("th",{staticClass:"text-left",on:{click:function(e){return t.setSort("name")}}},[s("q-icon",{staticClass:"q-mr-xs",attrs:{name:"fal fa-arrows-alt-v",color:"accent"}}),t._v("Name")],1),s("th",{staticClass:"text-left",on:{click:function(e){return t.setSort("boarding")}}},[s("q-icon",{staticClass:"q-mr-xs",attrs:{name:"fal fa-arrows-alt-v",color:"accent"}}),t._v("Hs")],1),s("th",{staticClass:"text-left",on:{click:function(e){return t.setSort("classCode")}}},[s("q-icon",{staticClass:"q-mr-xs",attrs:{name:"fal fa-arrows-alt-v",color:"accent"}}),t._v("Class")],1),s("th",{staticClass:"text-left",on:{click:function(e){return t.setSort("mark")}}},[s("q-icon",{staticClass:"q-mr-xs",attrs:{name:"fal fa-arrows-alt-v",color:"accent"}}),t._v("Mark / "+t._s(t.wyap.marks))],1),t.wyap.hasGrades?s("th",{staticClass:"text-left",on:{click:function(e){return t.setSort("mark")}}},[s("q-icon",{staticClass:"q-mr-xs",attrs:{name:"fal fa-arrows-alt-v",color:"accent"}}),t._v("Grade")],1):t._e(),s("th",{staticClass:"text-left",on:{click:function(e){return t.setSort("percentage")}}},[s("q-icon",{staticClass:"q-mr-xs",attrs:{name:"fal fa-arrows-alt-v",color:"accent"}}),t._v("%")],1),s("th",{staticClass:"text-left",on:{click:function(e){return t.setSort("rank")}}},[s("q-icon",{staticClass:"q-mr-xs",attrs:{name:"fal fa-arrows-alt-v",color:"accent"}}),t._v("Rank")],1),s("th",{staticClass:"text-left",on:{click:function(e){return t.setSort("hasUsedExtraTime")}}},[s("q-icon",{staticClass:"q-mr-xs",attrs:{name:"fal fa-arrows-alt-v",color:"accent"}}),t._v("E T")],1),s("th",{staticClass:"text-left",on:{click:function(e){return t.setSort("hasUnderperformed")}}},[s("q-icon",{staticClass:"q-mr-xs",attrs:{name:"fal fa-arrows-alt-v",color:"accent"}}),t._v("UndrPerf")],1),s("th",{staticClass:"text-left",on:{click:function(e){return t.setSort("comment")}}},[s("q-icon",{staticClass:"q-mr-xs",attrs:{name:"fal fa-arrows-alt-v",color:"accent"}}),t._v("Comment")],1),s("th")])]),s("tbody",{on:{onpaste:t.paste}},t._l(t.sorted,(function(e){return s("tr",{key:e.id,class:t.rowClass(e),on:{onpaste:t.paste}},[s("td",{staticClass:"text-left"},[t._v(t._s(e.lastName+",  "+e.preName))]),s("td",{staticClass:"text-left"},[t._v(t._s(e.boarding))]),s("td",{staticClass:"text-left"},[t._v(t._s(e.classCode))]),s("td",{staticClass:"text-left"},[t._v(t._s(e.mark))]),!0===t.wyap.hasGrades?s("td",{staticClass:"text-left"},[t._v(t._s(e.grade))]):t._e(),s("td",{staticClass:"text-left"},[t._v(t._s(e.percentage))]),s("td",{staticClass:"text-left"},[t._v(t._s(e.rank))]),s("td",{staticClass:"text-center"},[1===e.hasUsedExtraTime?s("q-badge",{attrs:{color:"positive"}},[s("q-icon",{attrs:{name:"far fa-clock",color:"primary"}}),s("q-tooltip",{staticClass:"bg-font-secondary"},[t._v("Used Extra Time")])],1):t._e()],1),s("td",{staticClass:"text-center"},[1===e.hasUnderperformed?s("q-badge",{attrs:{color:"warning"}},[s("q-icon",{attrs:{name:"far fa-thumbs-down",color:"white"}}),s("q-tooltip",{staticClass:"bg-font-secondary"},[t._v("Underperformed")])],1):t._e()],1),s("td",{staticClass:"text-left"},[e.comment?s("q-badge",{attrs:{color:"positive",outline:""}},[t._v("\n                  Comment\n                  "),s("q-tooltip",{staticClass:"bg-font-secondary"},[t._v(t._s(e.comment))])],1):t._e()],1),s("td",{staticClass:"text-left"})])})),0)])],1)],1)])])},u=[],p=(s("632c"),{name:"hods.metrics.wyaps.results_",props:{results:{type:Array,required:!0},wyap:{type:Object,required:!0}},data(){return{students:[],search:"",loading:!0,dates:[],sortKey:"name",sortDir:"asc",results_:[]}},methods:{setSort(t){t===this.sortKey&&(this.sortDir="asc"===this.sortDir?"desc":"asc"),this.sortKey=t},paste(t){},rowClass(t){var e=0;"classCode"===this.sortKey&&(e=this.classes.indexOf(t.classCode)),"boarding"===this.sortKey&&(e=this.boarding.indexOf(t.boarding));var s=e%2===1?"bg-tertiary":"";return s},cloneResults(){this.results&&(this.results_=this.$cloneArray(this.results))}},computed:{visible(){return this.results_},sorted(){var t=this.visible.filter((function(t){return t.id>0}));return t.sort(this.$compare(this.sortKey,this.sortDir))},classes(){return this.$parseOptions(this.sorted,"classCode").map((function(t){return t.value}))},boarding(){return this.$parseOptions(this.sorted,"boarding").map((function(t){return t.value}))}},watch:{results_(){},results(){this.cloneResults(),"name"===this.sortKey&&(this.sortDir="desc",this.setSort("name"))}},components:{},created(){this.cloneResults()}}),h=p,f=s("2be6"),m=s("bc74"),b=s("26a8"),g=s("2e0b"),y=s("34ff"),v=s("f987"),w=s("3aaf"),x=s("e279"),C=s.n(x),q=Object(f["a"])(h,d,u,!1,null,"5e7f6783",null),k=q.exports;C()(q,"components",{QInput:m["a"],QScrollArea:b["a"],QMarkupTable:g["a"],QIcon:y["a"],QBadge:v["a"],QTooltip:w["a"]});var _=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"q-pa-none full-width column",staticStyle:{"overflow-y":"hidden"}},[s("q-bar",{staticClass:"bg-tertiary bd-font-secondary",staticStyle:{height:"50px"}},[s("span",{staticClass:"text-grey"},[t._v("Title:")]),s("q-input",{staticClass:"full-width bg-tertiary text-center q-pl-sm",staticStyle:{"font-size":"15px","max-height":"39px"},attrs:{dense:"",readonly:t.readonly,size:"xs",color:"font-secondary","hide-bottom-space":"",borderless:""},on:{input:t.changed},model:{value:t.newName,callback:function(e){t.newName=e},expression:"newName"}}),s("q-space"),s("span",{staticClass:"text-grey"},[t._v("Marks/ ")]),s("q-input",{staticClass:"full-width bg-tertiary text-center q-pl-sm",staticStyle:{"font-size":"15px","max-height":"39px","max-width":"120px"},attrs:{dense:"",readonly:t.readonly,size:"xs",color:"font-secondary","hide-bottom-space":"",borderless:""},on:{input:t.changed},model:{value:t.newMarks,callback:function(e){t.newMarks=e},expression:"newMarks"}})],1),t.hasErrors?s("q-banner",{staticClass:"text-font bg-warning q-py-xs",attrs:{"inline-actions":""}},[s("ul",t._l(t.errors,(function(e,a){return s("li",{key:a},[t._v(t._s(e))])})),0)]):t._e(),s("q-scroll-area",{staticClass:"col"},[s("q-markup-table",{staticClass:"q-mb-xl",staticStyle:{"overflow-y":"hidden"},attrs:{dense:"",flat:"",bordered:""}},[s("thead",{staticClass:"q-mb-md"},[s("tr",{staticClass:"bg-tertiary"},[s("th"),s("th",{staticClass:"text-left",on:{click:function(e){return t.setSort("classCode")}}},[s("q-icon",{staticClass:"q-mr-xs",attrs:{name:"fal fa-arrows-alt-v",color:"accent"}}),t._v("Class")],1),s("th",{staticClass:"text-left",on:{click:function(e){return t.setSort("name")}}},[s("q-icon",{staticClass:"q-mr-xs",attrs:{name:"fal fa-arrows-alt-v",color:"accent"}}),t._v("Name")],1),s("th",{staticClass:"text-left",on:{click:function(e){return t.setSort("mark")}}},[s("q-icon",{staticClass:"q-mr-xs",attrs:{name:"fal fa-arrows-alt-v",color:"accent"}}),t._v("Mark")],1),s("th",{staticClass:"text-center",on:{click:function(e){return t.setSort("usedExtraTime")}}},[s("q-icon",{staticClass:"q-mr-xs",attrs:{name:"fal fa-arrows-alt-v",color:"accent"}}),t._v("Used Extra Time")],1),s("th",{staticClass:"text-center",on:{click:function(e){return t.setSort("hasUnderPerformed")}}},[s("q-icon",{staticClass:"q-mr-xs",attrs:{name:"fal fa-arrows-alt-v",color:"accent"}}),t._v("Underperformed")],1),s("th",{staticClass:"text-left",on:{click:function(e){return t.setSort("comment")}}},[s("q-icon",{staticClass:"q-mr-xs",attrs:{name:"fal fa-arrows-alt-v",color:"accent"}}),t._v("Comment")],1),s("th")])]),s("tbody",t._l(t.sorted,(function(e,a){return s("tr",{key:e.id,staticClass:"q-py-lg",class:t.rowClass(e)},[s("td",[t._v(t._s(a+1))]),s("td",{staticClass:"text-left"},[t._v(t._s(e.classCode))]),s("td",{staticClass:"text-left"},[t._v(t._s(e.lastName+",  "+e.preName))]),s("td",{staticClass:"text-left ada-mark"},[s("q-input",{staticClass:"full-width text-center q-pl-sm",class:t.inputClass(e),staticStyle:{"font-size":"13px","min-width":"60px","max-width":"60px","max-height":"35px"},attrs:{dense:"",size:"xs",color:"font-secondary","hide-bottom-space":"",borderless:""},on:{paste:function(e){return t.onPaste(a,e)},input:t.changed},model:{value:e.mark,callback:function(s){t.$set(e,"mark",t._n(s))},expression:"s.mark"}})],1),s("td",{staticClass:"text-center"},[s("q-toggle",{class:0===e.hasUsedExtraTime?"up-toggle-off":"",attrs:{tabindex:"-1",dense:"","checked-icon":"check",color:"positive","unchecked-icon":"clear","icon-color":"black","true-value":1,"false-value":0},on:{input:function(e){t.hasChanged=!0}},model:{value:e.hasUsedExtraTime,callback:function(s){t.$set(e,"hasUsedExtraTime",s)},expression:"s.hasUsedExtraTime"}})],1),s("td",{staticClass:"text-center"},[s("q-toggle",{class:0===e.hasUnderperformed?"up-toggle-off":"",attrs:{tabindex:"-1",dense:"","checked-icon":"check",color:"warning","unchecked-icon":"clear","true-value":1,"false-value":0},on:{input:function(e){t.hasChanged=!0}},model:{value:e.hasUnderperformed,callback:function(s){t.$set(e,"hasUnderperformed",s)},expression:"s.hasUnderperformed"}})],1),s("td",{staticClass:"text-left",attrs:{stylex:"width: 600px"}},[s("q-input",{staticClass:"full-width bg-secondary q-px-xs",staticStyle:{"font-size":"13px"},attrs:{tabindex:"-1",type:"textarea",autogrow:"",size:"xs",color:"font-secondary",borderless:"","hide-bottom-space":"",dense:""},on:{input:function(e){t.hasChanged=!0}},model:{value:e.comment,callback:function(s){t.$set(e,"comment",s)},expression:"s.comment"}})],1),s("td",{staticClass:"text-left"})])})),0)])],1),s("q-bar",{staticClass:"bg-tertiary bd-font-secondary",staticStyle:{height:"60px"}},[t.classObject?t._e():s("q-btn",{attrs:{color:"warning",label:"delete wyap",flat:"",size:"md"},on:{click:function(e){t.deleteConfirm=!0}}}),s("q-space"),s("q-btn",{attrs:{label:"close",flat:"",size:"md"},on:{click:t.close}}),s("q-btn",{staticClass:"text-font-negative",attrs:{disable:!t.hasChanged,label:"save",color:"positive",size:"md"},on:{click:t.save}})],1),s("q-dialog",{attrs:{persistent:""},model:{value:t.closeConfirm,callback:function(e){t.closeConfirm=e},expression:"closeConfirm"}},[s("q-card",{staticClass:"bd-font-secondary bg-tertiary"},[s("q-card-section",{staticClass:"row items-center"},[s("span",{staticClass:"q-ml-sm"},[t._v("Sure about this? You have unsaved changes.")])]),s("q-card-actions",{attrs:{align:"right"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Close",color:"font"},on:{click:function(e){return t.$emit("close")}}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"text-font-negative",attrs:{label:"Save",color:"positive"},on:{click:t.save}})],1)],1)],1),s("q-dialog",{attrs:{persistent:""},model:{value:t.deleteConfirm,callback:function(e){t.deleteConfirm=e},expression:"deleteConfirm"}},[s("q-card",{staticClass:"bd-font-secondary bg-tertiary"},[s("q-card-section",{staticClass:"row items-center"},[s("span",{staticClass:"q-ml-sm text-warning text-bold full-width"},[t._v("DELETE WYAP")]),s("span",{staticClass:"q-ml-sm text-warning text-bold full-width"},[t._v("Warning: This cannot be undone")])]),s("q-separator"),s("q-card-section",{staticClass:"row items-center"},[s("span",{staticClass:"q-ml-sm text-font text-bold full-width"},[t._v("Type DELETE to proceed:")]),s("q-input",{staticClass:"full-width q-mt-md",attrs:{placeholder:"Name",outlined:"",dense:"",autofocus:"",color:"font"},model:{value:t.deleteName,callback:function(e){t.deleteName=e},expression:"deleteName"}})],1),s("q-card-actions",{attrs:{align:"right"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"font"}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"text-font-negative",attrs:{disable:"delete"!==t.deleteName.toLowerCase(),label:"DELETE",color:"warning"},on:{click:t.deleteWyap}})],1)],1)],1)],1)},S=[],O=(s("4fb0"),{name:"hods.metrics.wyaps.results",props:{results:{type:Array,required:!0},name:{type:String,required:!0},marks:{type:Number,required:!0},id:{type:Number,required:!0},classObject:{type:Object}},data(){return{students:[],search:"",loading:!0,dates:[],sortKey:"name",sortDir:"asc",newResults:[],newName:null,newMarks:null,hasChanged:!1,closeConfirm:!1,deleteConfirm:!1,hasErrors:!1,errors:[],deleteName:""}},methods:{setSort(t){t===this.sortKey&&(this.sortDir="asc"===this.sortDir?"desc":"asc"),this.sortKey=t},onPaste(t,e){e.stopPropagation(),e.preventDefault();var s,a=e.clipboardData.getData("text/plain"),n=a.split("\n");for(s=0;s<n.length;s++){if(s>this.sorted.length-1)break;this.sorted[s+t].mark=parseFloat(n[s])}return this.changed(),!1},close(){this.hasChanged?this.closeConfirm=!0:this.$emit("close")},verify(){var t=this;this.errors=[],this.hasErrors=!1,0===this.newName.length&&(this.hasErrors=!0,this.errors.push("The title cannot be blank.")),parseInt(this.newMarks)||(this.hasErrors=!0,this.errors.push("The marks make no sense"));var e=this.newResults.filter((function(e){return t.markError(e.mark)}));e.length>0&&(this.hasErrors=!0,this.errors.push("Marks must be either a number or blank"));var s=this.newResults.filter((function(e){return e.mark>t.newMarks}));return s.length>0&&(this.hasErrors=!0,this.errors.push("Marks cannot be higher than "+this.newMarks)),0===this.errors.length},save(){var t=this;if(console.error("!!!!"),this.verify()){var e={id:this.id,name:this.newName,marks:this.newMarks,results:this.newResults};this.classObject?(console.log("a"),l["a"].putWyap((function(e){t.$emit("refresh")}),this.$errorHandler,e)):(console.log("b"),i.putWyap((function(e){t.$emit("refresh")}),this.$errorHandler,e))}},deleteWyap(){var t=this;i.deleteWyap((function(e){t.$emit("deleted"),t.deleteName=""}),this.$errorHandler,this.id)},markError(t){if(t)return"number"!==typeof t},changed(){this.hasChanged=!0,this.verify()},rowClass(t){var e=0;"classCode"===this.sortKey&&(e=this.classes.indexOf(t.classCode)),"boarding"===this.sortKey&&(e=this.boarding.indexOf(t.boarding));var s=e%2===1?"bg-tertiary":"";return s},inputClass(t){var e=0;"classCode"===this.sortKey&&(e=this.classes.indexOf(t.classCode)),"boarding"===this.sortKey&&(e=this.boarding.indexOf(t.boarding));var s=e%2===1?"bg-tertiary":"bg-secondary";return s}},computed:{visible(){return this.newResults},sorted(){var t=this.visible.filter((function(t){return t.id>0}));return t.sort(this.$compare(this.sortKey,this.sortDir))},classes(){return this.$parseOptions(this.sorted,"classCode").map((function(t){return t.value}))},boarding(){return this.$parseOptions(this.sorted,"boarding").map((function(t){return t.value}))},readonly(){return!!this.classObject}},watch:{},components:{},created(){var t=this,e=this.classObject?this.results.filter((function(e){return e.classCode===t.classObject.code})):this.results;this.newResults=this.$cloneArray(e),this.newName=this.name,this.newMarks=this.marks}}),j=O,$=(s("d142"),s("5d16")),Q=s("f85a"),R=s("f962c"),P=s("01a4"),E=s("3d3c"),T=s("2ef0"),D=s("e81c"),I=s("ebe6"),N=s("965d"),B=s("5b32"),W=s("96f0"),A=s("58c0"),M=Object(f["a"])(j,_,S,!1,null,null,null),Y=M.exports;C()(M,"components",{QBar:$["a"],QToolbarTitle:Q["a"],QInput:m["a"],QSpace:R["a"],QBanner:P["a"],QScrollArea:b["a"],QMarkupTable:g["a"],QIcon:y["a"],QToggle:E["a"],QBtn:T["a"],QDialog:D["a"],QCard:I["a"],QCardSection:N["a"],QCardActions:B["a"],QSeparator:W["a"]}),C()(M,"directives",{ClosePopup:A["a"]});var z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"q-pa-none full-width column",staticStyle:{"overflow-y":"hidden"}},[s("q-bar",{staticClass:"bg-tertiary bd-font-secondary",staticStyle:{height:"50px"}},[t.gradeSets.length>1?s("q-select",{staticClass:"q-ma-xs text-white",staticStyle:{width:"200px"},attrs:{filled:"","option-value":"id","option-label":"name",options:t.gradeSets,color:"white",dense:"",label:"Grade Set"},on:{input:t.changeGradeSet},model:{value:t.selectedGradeSet,callback:function(e){t.selectedGradeSet=e},expression:"selectedGradeSet"}}):t._e()],1),t.hasErrors?s("q-banner",{staticClass:"text-font bg-warning q-py-xs",attrs:{"inline-actions":""}},[s("ul",t._l(t.errors,(function(e,a){return s("li",{key:a},[t._v(t._s(e))])})),0)]):t._e(),s("div",{staticClass:"row q-mx-sm q-mt-sm flex justify-center"},[s("q-markup-table",{staticClass:"q-mb-sm full-width",staticStyle:{"border-width":"0px"},attrs:{dense:"",flat:"",bordered:""}},[s("thead",{staticClass:"q-mb-md"},[s("tr",{staticClass:"bg-tertiary"},[s("th",{staticClass:"text-left"},[t._v("Grade")]),s("th",{staticClass:"text-center"},[t._v("Mark / "+t._s(t.marks))]),s("th",{staticClass:"text-left"},[t._v("# Pupils")])])]),s("tbody",{staticStyle:{"border-width":"0px"}},t._l(t.boundaries,(function(e,a){return s("tr",{key:a,staticStyle:{"border-width":"0px"}},[s("td",{staticClass:"text-left"},[t._v(t._s(e.grade))]),s("td",{staticClass:"text-center q-pa-none",class:{"text-center":e.lowerThreshold>0,"text-center":0===e.lowerThreshold},staticStyle:{overflow:"hidden","padding-top":"0px!important"}},[e.lowerThreshold>0?s("q-select",{staticClass:"q-mxx-xs q-my-none text-white",staticStyle:{height:"35px"},attrs:{filled:"",options:t.gradeOptions(a),color:"white",align:"right",dense:"","emit-valuex":""},on:{input:t.markThresholdChanged},model:{value:e.lowerThreshold,callback:function(s){t.$set(e,"lowerThreshold",s)},expression:"g.lowerThreshold"}}):t._e(),t._v("\n                "+t._s(0===e.lowerThreshold?0:"")+"\n              ")],1),s("td",{staticClass:"text-center text-grey-4"},[t._v(t._s(e.pupils))])])})),0)])],1),s("q-space"),s("q-bar",{staticClass:"bg-tertiary bd-font-secondary",staticStyle:{height:"60px","border-radius":"0px!important"}},[s("q-space"),s("q-btn",{attrs:{label:"close",flat:"",size:"md"},on:{click:t.close}}),s("q-btn",{staticClass:"text-font-negative",attrs:{disableX:!t.hasChanged,label:"save",color:"positive",size:"md"},on:{click:function(e){t.saveConfirm=!0}}})],1),s("q-dialog",{attrs:{persistent:""},model:{value:t.closeConfirm,callback:function(e){t.closeConfirm=e},expression:"closeConfirm"}},[s("q-card",{staticClass:"bd-font-secondary bg-tertiary"},[s("q-card-section",{staticClass:"row items-center"},[s("span",{staticClass:"q-ml-sm"},[t._v("Leave with unsaved changes?")])]),s("q-card-actions",{attrs:{align:"right"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"text-font-negative",attrs:{color:"positive",label:"Yes"},on:{click:function(e){return t.$emit("close")}}}),s("q-btn",{attrs:{flat:"",color:"font",label:"No"},on:{click:function(e){t.closeConfirm=!1}}})],1)],1)],1),s("q-dialog",{attrs:{persistent:""},model:{value:t.saveConfirm,callback:function(e){t.saveConfirm=e},expression:"saveConfirm"}},[s("q-card",{staticClass:"bd-font-secondary bg-tertiary"},[s("q-card-section",{staticClass:"row items-center"},[s("span",{staticClass:"q-ml-sm"},[t._v("Save changes?")])]),s("q-card-actions",{attrs:{align:"right"}},[s("q-btn",{attrs:{flat:"",color:"font",label:"Cancel"},on:{click:function(e){t.saveConfirm=!1}}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"text-font-negative",attrs:{color:"positive",label:"Save"},on:{click:t.save}})],1)],1)],1)],1)},H=[],L={name:"hods.metrics.wyaps.results",props:{results:{type:Array,required:!0},name:{type:String,required:!0},marks:{type:Number,required:!0},id:{type:Number,required:!0},gradeSetId:{}},data(){return{gradeSets:[],boundaries:[],selectedGradeSet:null,closeConfirm:!1,saveConfirm:!1,hasChanged:!1,hasErrors:!1,errors:[]}},methods:{save(){this.$q.loading.show(),i.putBoundaries(this.processSave,this.$errorHandler,this.id,this.boundaries)},processSave(){this.$q.loading.hide(),this.$emit("refresh"),this.$emit("close")},close(){this.hasChanged?this.closeConfirm=!0:this.$emit("close")},processBoundaries(t){var e=this;0===t.length?(this.selectedGradeSet=this.gradeSets[0],i.putGradeSet(this.processNewGradeSet,this.$errorHandler,this.id,this.selectedGradeSet.id)):this.selectedGradeSet=this.gradeSets.find((function(t){return t.id===e.gradeSetId})),this.boundaries=t},processGradeSets(t){this.gradeSets=t,i.getBoundaries(this.processBoundaries,this.$errorHandler,this.id)},processNewGradeSet(t){this.$emit("refresh"),this.boundaries=t},changeGradeSet(t){this.hasChanged=!0,i.putGradeSet(this.processNewGradeSet,this.$errorHandler,this.id,t.id)},gradeOptions(t,e){var s,a;s=0===t?this.marks:this.boundaries[t-1].lowerThreshold,a=t+1===this.boundaries.length?0:this.boundaries[t+1].lowerThreshold;var n,o=[];for(n=s;n>a;n--)o.push(n);return o},markThresholdChanged(){this.hasChanged=!0,i.putBoundariesGradeProfile(this.processGradeProfile,this.$errorHandler,this.id,this.boundaries)},processGradeProfile(t){this.boundaries=t}},computed:{},watch:{},components:{},created(){i.getGradeSets(this.processGradeSets,this.$errorHandler)}},G=L,F=(s("f2cd"),s("3946")),K=Object(f["a"])(G,z,H,!1,null,null,null),U=K.exports;C()(K,"components",{QBar:$["a"],QToolbarTitle:Q["a"],QSpace:R["a"],QSelect:F["a"],QBanner:P["a"],QMarkupTable:g["a"],QBtn:T["a"],QDialog:D["a"],QCard:I["a"],QCardSection:N["a"],QCardActions:B["a"],QToggle:E["a"]}),C()(K,"directives",{ClosePopup:A["a"]});var V=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"q-pr-sm col column"},[s("q-toolbar",{staticClass:"bg-secondary toolbar-slim"},[s("q-tabs",{staticClass:"text-font",attrs:{dense:"","active-color":"accent"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("q-tab",{attrs:{name:"table",icon:"fal fa-table"}},[s("q-tooltip",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[t._v("\n             Table of results (%) by class\n           ")])],1),s("q-tab",{attrs:{name:"bar",icon:"fal fa-chart-bar"}},[s("q-tooltip",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[t._v("\n             Mark distribution\n           ")])],1)],1),s("q-space"),s("q-badge",{attrs:{color:"font-secondary","text-color":"font",outline:"",size:"lg"}},[t._v(t._s(t.count)+" results")]),s("q-badge",{staticClass:"q-mx-md",attrs:{color:"font-secondary",outline:""}},[t._v("Average = "+t._s(t.statistics.mean)+" mks")]),s("q-badge",{attrs:{color:"font-secondary",outline:""}},[t._v("Std Dev = "+t._s(t.statistics.sd)+" mks")])],1),t.wyap?s("q-tab-panels",{staticClass:"col column",attrs:{animated:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("q-tab-panel",{staticClass:"q-px-none col column",attrs:{name:"bar"}},[s("bar",{staticClass:"col column q-pb-xl",attrs:{results:t.results,wyap:t.wyap,statistics:t.statistics}})],1),s("q-tab-panel",{staticClass:"q-px-none q-pb-xl col column",attrs:{name:"table"}},[s("classTable",{staticClass:"col column",attrs:{results:t.results,wyap:t.wyap,statistics:t.statistics},on:{fullscreen:function(e){t.fsCt=!0}}})],1)],1):t._e(),s("q-dialog",{attrs:{maximized:""},model:{value:t.fsCt,callback:function(e){t.fsCt=e},expression:"fsCt"}},[s("q-card",{staticClass:"full-width column bg-primary",staticStyle:{height:"100vh"}},[s("classTable",{staticClass:"col column full-width",attrs:{"full-screen":"",results:t.results,wyap:t.wyap,statistics:t.statistics},on:{close:function(e){t.fsCt=!1}}})],1)],1)],1)},J=[],X=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"chart"})},Z=[],tt=s("915b"),et=s("3099"),st=s("3903"),at=s("d610");tt["f"](at["a"]),tt["f"](st["a"]);var nt={name:"Hod.Wyap.Analysis.Bar",props:{results:{type:Array,required:!0},wyap:{type:Object,required:!0},statistics:{type:Object,required:!0}},data(){return{chart:null}},methods:{makeChart(){var t=tt["c"](this.$refs.chart,et["l"]);t.data=this.data;var e=t.xAxes.push(new et["a"]);e.renderer.grid.template.location=0,e.dataFields.category="category",e.renderer.minGridDistance=15,e.renderer.grid.template.location=.5,e.renderer.grid.template.strokeDasharray="1,3",e.renderer.labels.template.rotation=-90,e.renderer.labels.template.horizontalCenter="left",e.renderer.labels.template.location=.5,e.title.text="Mark / "+this.wyap.marks,e.renderer.labels.template.adapter.add("dx",(function(t,e){return-e.maxRight/2}));var s=t.yAxes.push(new et["k"]);s.tooltip.disabled=!0,s.title.text="# pupils",s.renderer.ticks.template.disabled=!0,s.renderer.axisFills.template.disabled=!0;var a=t.series.push(new et["c"]);a.dataFields.categoryX="category",a.dataFields.valueY="value",a.tooltipText="{names}",a.sequencedInterpolation=!0,a.fillOpacity=0,a.strokeOpacity=1,a.strokeDashArray="1,3",a.columns.template.width=.01,a.tooltip.pointerOrientation="horizontal",t.cursor=new et["m"],this.chart=t}},computed:{data(){for(var t=[],e=0;e<this.wyap.marks;e++){var s=this.results.filter((function(t){return t.mark===e+1})),a=s.map((function(t){return t.firstName+" "+t.lastName+"\n"}));t.push({category:e,value:s.length,names:a})}return t}},watch:{},components:{},created(){},mounted(){this.makeChart()},beforeDestroy(){this.chart&&this.stacked.dispose()}},ot=nt,rt=(s("9ece"),Object(f["a"])(ot,X,Z,!1,null,"11c96365",null)),it=rt.exports,lt=s("f21d"),ct={name:"hods.metrics.wyaps.results",props:{results:{type:Array,required:!0},wyap:{type:Object,required:!0},statistics:{type:Object,required:!0}},data(){return{tab:"table",fsCt:!1}},methods:{},computed:{count(){return this.results.filter((function(t){return t.mark})).length}},components:{Bar:it,ClassTable:lt["a"]},created(){}},dt=ct,ut=s("eb05"),pt=s("4776"),ht=s("dd08"),ft=s("1411"),mt=s("1d98"),bt=Object(f["a"])(dt,V,J,!1,null,"07157272",null),gt=bt.exports;C()(bt,"components",{QToolbar:ut["a"],QTabs:pt["a"],QTab:ht["a"],QTooltip:w["a"],QSpace:R["a"],QBadge:v["a"],QTabPanels:ft["a"],QTabPanel:mt["a"],QDialog:D["a"],QCard:I["a"]});var yt={name:"HOD.Data.Wyaps",props:{classObject:{type:Object}},data(){return{loading:!1,wyaps:[],newOpen:!1,newWyap:{name:"",marks:null,isSplitPapers:!1,splitMarks1:null,splitMarks2:null,typeId:null},wyapTypeOpions:[{value:1,label:"Internal Assessment"},{value:3,label:"NEA"},{value:4,label:"Summer Assessment"}],hasCheckedNewWyap:!1,selectedWyapId:null,wyapTab:"results",results:[],statistics:[],maximizedToggle:!1,updateOpen:!1,gradesOpen:!1,key:1,gradesKey:1,years:[],yearCode:"",subjectWatch:null,classWatch:null,examWatch:null,yearWatch:null}},methods:{checkSplitMarks(){var t=this.newWyap;if(t.marks&&t.isSplitPapers&&!t.splitMarks1&&!t.splitMarks2){var e=Math.floor(t.marks/2);t.splitMarks1=e,t.splitMarks2=t.marks-e}},setSplit2(){this.newWyap.splitMarks1>this.newWyap.marks&&(this.newWyap.splitMarks1=this.newWyap.marks),this.newWyap.splitMarks2=this.newWyap.marks-this.newWyap.splitMarks1},process(t){this.loading=!1,this.wyaps=t,this.wyaps.length>0&&!this.selectedWyapId&&(this.selectedWyapId=this.wyaps[0].id)},getWyaps(){this.loading=!0,this.classObject?l["a"].getWyaps(this.process,this.$errorHandler,this.classObject.id):(this.year=this.$store.getters["hod/activeYear"],this.yearCode=this.$store.getters["hod/activeYearCode"],this.exam=this.$store.getters["hod/activeExam"],i.getWyaps(this.process,this.$errorHandler,this.year,this.exam))},createNew(){this.hasCheckedNewWyap=!0,this.verifyNewWyap&&(this.newOpen=!1,this.year=this.$store.getters["hod/activeYear"],this.exam=this.$store.getters["hod/activeExam"],i.postWyap(this.processNew,this.$errorHandler,this.year,this.exam,this.newWyap))},processNew(t){this.getWyaps(),this.newWyap={name:"",marks:null},this.selectedWyapId=parseInt(t.id)},processResults(t){this.results=t.results,this.statistics=t.statistics,this.selectedWyapId=t.id,this.$q.loading.hide()},setWyap(t){this.selectedWyapId=t},openUpdate(){this.key++,this.updateOpen=!0},openGrades(){this.gradesKey++,this.gradesOpen=!0},getWyap(t){this.$q.loading.show(),this.classObject?l["a"].getWyapResults(this.processResults,this.$errorHandler,t):i.getWyapResults(this.processResults,this.$errorHandler,t)},refresh(){this.getWyaps(),this.selectedWyapId&&this.getWyap(this.selectedWyapId),this.updateOpen=!1},deletedWyap(){this.getWyaps(),this.updateOpen=!1}},computed:{columns(){var t=[];return t},wyap(){var t=this,e=this.wyaps.find((function(e){return e.id===t.selectedWyapId}));return e},classResults(){var t=this;return this.classObject?(console.warn(this.results,this.classObject),this.results.filter((function(e){return e.classCode===t.classObject.code}))):[]},verifyNewWyap(){var t=this.newWyap,e=!t.isSplitPapers||t.splitMarks1>0;return t.name.length>0&&t.marks>0&&e&&t.typeId}},watch:{selectedWyapId(t){t&&this.getWyap(t)}},components:{Loading:c["a"],Results:k,Update:Y,Grades:U,Analysis:gt},created(){var t=this;this.classObject&&(this.wyapTab="classResults"),this.subject=this.$store.getters["user/getGlobalSubject"],this.getWyaps(),this.subjectWatch=this.$store.watch((function(){return t.$store.getters["user/getGlobalSubject"]}),this.getWyaps),this.yearWatch=this.$store.watch((function(){return t.$store.getters["hod/activeYear"]}),this.getWyaps),this.examWatch=this.$store.watch((function(){return t.$store.getters["hod/activeExam"]}),this.getWyaps),this.classWatch=this.$store.watch((function(){return t.$store.getters["home/activeClass"]}),this.getWyaps)},beforeDestroy(){this.subjectWatch&&this.subjectWatch(),this.yearWatch&&this.yearWatch(),this.examWatch&&this.examWatch(),this.classWatch&&this.classWatch()}},vt=yt,wt=(s("bf8b"),s("6c93")),xt=s("ac9b"),Ct=s("66dc"),qt=s("7d9a"),kt=s("8c18"),_t=s("dfd0"),St=Object(f["a"])(vt,a,n,!1,null,null,null);e["a"]=St.exports;C()(St,"components",{QScrollArea:b["a"],QList:wt["a"],QItem:xt["a"],QItemSection:Ct["a"],QItemLabel:qt["a"],QSeparator:W["a"],QIcon:y["a"],QPopupProxy:kt["a"],QBanner:P["a"],QToolbar:ut["a"],QBtn:T["a"],QSpace:R["a"],QTabs:pt["a"],QTab:ht["a"],QTabPanels:ft["a"],QTabPanel:mt["a"],QDialog:D["a"],QCard:I["a"],QCardSection:N["a"],QInput:m["a"],QSelect:F["a"],QToggle:E["a"],QCardActions:B["a"],QColor:_t["a"]}),C()(St,"directives",{ClosePopup:A["a"]})},"972e":function(t,e,s){"use strict";var a=s("ef38"),n=s.n(a);n.a},"9bca":function(t,e,s){},"9d37":function(t,e,s){"use strict";var a=s("47783"),n=s("452d");e["a"]={getDeadlines(t,e,s){a["a"].get("/transport/sessions/deadlines/"+s).then((function(e){t(e.data)})).catch((function(t){t()}))},getSessions(t,e){a["a"].get("/transport/sessions").then((function(e){t(e.data)})).catch((function(t){t()}))},getSession(t,e,s){a["a"].get("/transport/sessions/"+s).then((function(e){t(e.data)})).catch((function(t){t()}))},activateSession(t,e,s){a["a"].post("/transport/sessions/activate/"+s).then((function(e){t(e.data)})).catch((function(t){t()}))},activateSessionFromCheckist(t,e,s){var o=n["a"].getters["transport/activeSession"];s=!0===s?1:0,a["a"].post("/transport/sessions/activate/checklist/"+o+"/"+s).then((function(e){t(e.data)})).catch((function(t){t()}))},deleteSession(t,e,s){a["a"].delete("/transport/sessions/"+s).then((function(e){t(e.data)})).catch((function(t){t()}))},putSession(t,e,s){a["a"].put("/transport/sessions",s).then((function(e){t(e.data)})).catch((function(t){t()}))},postSession(t,e,s){a["a"].post("/transport/sessions",s).then((function(e){t(e.data)})).catch((function(t){t()}))},postSelfService(t,e,s){var o=n["a"].getters["transport/activeSession"];a["a"].post("/transport/sessions/"+o+"/selfservice/"+s).then((function(e){t(e.data)})).catch((function(t){t(),e()}))}}},"9ece":function(t,e,s){"use strict";var a=s("3e12"),n=s.n(a);n.a},a1a5:function(t,e,s){},a35c:function(t,e,s){},a578:function(t,e,s){},a916:function(t,e,s){"use strict";var a=s("336f"),n=s.n(a);n.a},aba1:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.yearOptions.length>1?s("div",{staticClass:"shrink full-height q-pr-sm q-mr-xs",class:t.exams?"yb-border":""},[s("q-btn-toggle",{staticClass:"col-3 no-shadow q-mr-md bd-font-secondary ",attrs:{spreadx:"","no-caps":"",densex:"","toggle-color":"tertiary",color:"secondary","text-color":"font-secondary","toggle-text-color":"positive",options:t.yearOptions,size:"sm"},on:{input:t.change},model:{value:t.selectedYear,callback:function(e){t.selectedYear=e},expression:"selectedYear"}}),t.exams?s("exam-bar",{staticClass:"col"}):t._e()],1):t._e()},n=[],o=(s("e125"),s("4823"),s("2e73"),s("76d0"),s("c880"),s("8e9e")),r=s.n(o),i=s("268c"),l=s("89cf"),c=s("9ce4");function d(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function u(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?d(Object(s),!0).forEach((function(e){r()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):d(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var p={name:"Component.Home.Years.YearBar",props:{exams:{type:Boolean}},data(){return{years:[],selectedYear:null,subjectId:null}},methods:u(u({},Object(c["d"])("hod",["setActiveYear","setActiveYearCode"])),{},{process(t){this.years=t,this.years[0].id!==this.selectedYear&&(this.selectedYear=this.years[0].id,this.change())},change(){var t=this,e=this.years.find((function(e){return e.id===t.selectedYear}));this.setActiveYear(e.id),this.setActiveYearCode(e.name.substring(0,2)),this.$emit("change",e)},setYears(){this.subject=this.$store.getters["user/getGlobalSubject"],this.subject&&i["a"].getYears(this.process,this.$errorHandler,this.subject.id)}}),computed:{yearOptions(){return this.years.map((function(t){return{value:t.id,label:t.name.substring(0,2)}}))}},components:{ExamBar:l["a"]},created(){var t=this;this.subjectWatch=this.$store.watch((function(){return t.$store.getters["user/getGlobalSubject"]}),this.setYears),this.setYears()},beforeDestroy(){this.subjectWatch&&this.subjectWatch()}},h=p,f=(s("04c9"),s("2be6")),m=s("6dd6"),b=s("e279"),g=s.n(b),y=Object(f["a"])(h,a,n,!1,null,null,null);e["a"]=y.exports;g()(y,"components",{QBtnToggle:m["a"]})},ad81:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-btn",t._b({staticClass:"q-pr-xs"},"q-btn",t.$props,!1),[t.tooltip?s("q-tooltip",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[t._v("\n     "+t._s(t.tooltip)+"\n   ")]):t._e(),s("q-popup-proxy",{ref:"popup",staticClass:"q-mt-md"},[s("q-banner",{staticClass:"bg-tertiary text-font q-pt-none q-pt-md ada-new-banner",on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit()}}},[s("q-input",{attrs:{outline:"",color:"font-secondary",label:t.title,type:t.type,autofocus:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"full-width highlightx q-mt-md",attrs:{disabled:0===t.name.length,outline:"",color:"positive",label:"submit"},on:{click:function(e){return t.submit()}}})],1)],1)],1)},n=[],o=(s("c880"),{name:"Component.Buttons.New",props:{success:{type:Function,required:!0},size:{type:String,default:"xs"},outline:{type:Boolean,default:!0},color:{type:String,default:"accent"},dense:{type:Boolean,default:!0},icon:{type:String,default:"fal fa-plus"},label:{type:String,default:""},title:{type:String,default:"New"},type:{type:String,default:""},tooltip:{type:String}},data(){return{name:""}},methods:{submit(){0!==this.name.length&&(this.success(this.name),this.name="",this.$refs.popup.hide())}},computed:{},components:{},created(){}}),r=o,i=(s("77b4"),s("2be6")),l=s("2ef0"),c=s("3aaf"),d=s("8c18"),u=s("01a4"),p=s("bc74"),h=s("58c0"),f=s("e279"),m=s.n(f),b=Object(i["a"])(r,a,n,!1,null,"556f4acc",null);e["a"]=b.exports;m()(b,"components",{QBtn:l["a"],QTooltip:c["a"],QPopupProxy:d["a"],QBanner:u["a"],QInput:p["a"]}),m()(b,"directives",{ClosePopup:h["a"]})},b0d4:function(t,e,s){"use strict";var a=s("6777"),n=s.n(a);n.a},bde4:function(t,e,s){},bf8b:function(t,e,s){"use strict";var a=s("7aa3"),n=s.n(a);n.a},c0be:function(t,e,s){},c0f5:function(t,e,s){"use strict";var a=s("47783");e["a"]={getStudentNames(t,e){a["a"].get("/students/names").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getStudentList(t,e){a["a"].get("/students/list").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getStudentSubjects(t,e,s){a["a"].get("/students/profile/subjects/"+s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))}}},c4f4:function(t,e,s){},c686:function(t,e,s){"use strict";var a=s("47783");e["a"]={getLogs(t,e,s){a["a"].get("/admin/logs").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getResources(t,e,s){a["a"].get("/admin/logs/resources").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getConnections(t,e,s){a["a"].get("/admin/logs/connections").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getAccessPages(t,e,s){a["a"].get("/admin/logs/access/pages").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))}}},ca92:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("q-page",{staticClass:"no-scroll",style:t.$q.platform.is.desktop?"padding-top:33px":""},[s("q-toolbar",{staticClass:"bg-primary desktop-only items-center",staticStyle:{"border-bottom":"1px solid black"}},[s("q-btn",{staticClass:"no-border glow hidden",attrs:{flat:"",round:"",dense:"",icon:t.icon,color:"accent"}}),t.selectStudent?s("students",{staticClass:"q-mt-xs",attrs:{studentStore:t.studentStore},on:{change:t.changeStudent}}):t._e(),t.selectSubject?s("subjects",{staticClass:"q-mt-xs",attrs:{hide:"",chip:""},on:{change:t.changeSubject}}):t._e(),t.selectHouse?s("houses",{staticClass:"q-mt-xs",attrs:{hide:"",chip:""},on:{change:t.changeHouse}}):t._e(),s("q-tabs",{staticClass:"text-font-secondary q-pt-sm q-pl-sm",attrs:{"inline-label":"","active-color":"accent",dense:"",shrink:"","indicator-color":"primary",align:"left"},model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},t._l(t.routes,(function(e,a){return t.getPageAccess(t.module,e.page)?s("q-route-tab",{key:e.name,attrs:{activeClass:"text-accent",default:1==a,name:e.page,icon:e.icon+" fa-mu",label:t.hideLabels?"":e.label,to:e.route,exact:""}},[t.hideLabels?s("q-tooltip",[t._v("\n            "+t._s(e.label)+"\n          ")]):t._e()],1):t._e()})),1),s("q-space"),t.settingsRoute?s("q-btn",{staticClass:"q-mr-sm q-mt-sm",attrs:{icon:t.settingsIcon,"text-color":t.$router.currentRoute.path===t.settingsRoute?"accent":"font",unelevated:""},on:{click:function(e){return t.$router.push(t.settingsRoute)}}}):t._e(),t.options.length>0?s("q-select",{staticClass:"text-accent q-pt-xs q-pb-xs",staticStyle:{"min-width":"250px","max-width":"500px","margin-bottom":"0px","padding-bottom":"0px","margin-top":"3px"},attrs:{options:t.options,hint:t.label,dense:"",filled:"","map-options":"",placeholder:t.placeholder,"input-style":"max-height:20px",filter:"","filter-placeholder":"search",color:t.globalInterface?"font":"warning"},model:{value:t.globalInterface,callback:function(e){t.globalInterface=e},expression:"globalInterface"}}):t._e()],1),s("router-view",{staticClass:"bg-secondary"})],1),s("q-footer",{staticClass:"bg-primary text-white mobile-only",staticStyle:{"z-index":"3001"},attrs:{elevated:"",bordered:""}},[s("q-toolbar",[s("q-icon",{staticClass:"q-mr-md",attrs:{size:"md",color:"font-secondary",name:"menu"},on:{click:t.toggleMenu}}),t.selectStudent?s("students",{staticClass:"q-mt-xs",attrs:{studentStore:t.studentStore},on:{change:t.changeStudent}}):t._e(),t.selectSubject?s("subjects",{staticClass:"q-mt-xs",attrs:{hide:"",chip:""},on:{change:t.changeSubject}}):t._e(),t.selectHouse?s("houses",{attrs:{hide:"",chip:"",classx:"q-mt-xs"},on:{change:t.changeHouse}}):t._e(),s("q-tabs",{staticClass:"text-font-secondary",attrs:{"inline-label":"","active-color":"accent","indicator-color":"primary",dense:"",shrink:"",align:"left"},model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},t._l(t.routes,(function(e,a){return t.getPageAccess(t.module,e.page)?s("q-route-tab",{key:e.name,staticStyle:{width:"50px"},attrs:{default:1==a,name:e.page,icon:e.icon+" fa-mu",to:e.route,exact:""}}):t._e()})),1)],1)],1)],1)},n=[],o=(s("e125"),s("4823"),s("2e73"),s("76d0"),s("8e9e")),r=s.n(o),i=s("0082"),l=s("88cd"),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"qx-pa-md"},[s("div",{staticClass:"q-gutter-mdx row"},[t.hide&&!t.showSelect&&t.chip?s("q-chip",{staticClass:"q-ma-none desktop-only",attrs:{label:t.houseName,outline:"",square:"",sizex:"sm",color:"accent"},nativeOn:{click:function(e){t.showSelect=!0}}}):t._e(),t.hide&&t.chip?s("q-chip",{staticClass:"q-ma-none mobile-only",attrs:{label:t.house?t.houseName:"Select House",outline:"",square:"",sizex:"sm",color:"accent"},nativeOn:{click:function(e){t.menuOpen=!0}}}):t._e(),t.house&&!t.showSelect&&t.hide?t._e():s("q-select",{staticClass:"bd-font-secondary no-padding q-mt-sm q-mb-xs desktop-only",staticStyle:{"min-width":"300px"},attrs:{filled:"",dense:"","use-input":"","input-debounce":"0",placeholderx:"Select house",options:t.options,clearablex:"","popup-content-class":"bd-font-secondary bg-tertiary"},on:{filter:t.filterFn,input:t.selectChange},scopedSlots:t._u([{key:"no-option",fn:function(){return[s("q-item",[s("q-item-section",{staticClass:"text-grey"},[t._v("\n            No Houses\n          ")])],1)]},proxy:!0}],null,!1,2104994274),model:{value:t.house,callback:function(e){t.house=e},expression:"house"}}),s("q-btn",{staticClass:"mobile-only",attrs:{dense:"",flat:"","no-caps":""}},[s("q-menu",{ref:"settingsPopover",attrs:{"content-class":"bg-grey-9 text-white bd-font","auto-close":"",label:"Basic Menu"},model:{value:t.menuOpen,callback:function(e){t.menuOpen=e},expression:"menuOpen"}},[s("q-list",{staticStyle:{"min-width":"200px"},attrs:{"item-separator":"",link:"","content-class":"bg-primary"}},t._l(t.options,(function(e){return s("q-item",{key:e.value,attrs:{clickable:""},on:{click:function(s){t.house=e,t.selectChange()}}},[s("q-item-section",[s("q-item-label",[t._v(t._s(e.label))])],1)],1)})),1)],1)],1)],1)])},d=[],u=(s("c880"),s("9ce4")),p=s("47783"),h={getHouseNames(t,e){p["a"].get("/hm/houses").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))}};function f(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function m(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?f(Object(s),!0).forEach((function(e){r()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):f(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var b={name:"Component.Dropdowns.Subjects",props:{optionsOverride:{type:Array,default:function(){return[]}},subjectStore:{type:String},hide:{type:Boolean,default:!1},chip:{type:Boolean,default:!1}},data(){return{houses:[],filter:null,houseOptions:[],options:[],house:null,showSelect:!0,menuOpen:!1}},methods:m(m({},Object(u["b"])("user",["setGlobalHouse"])),{},{selectChange(){this.showSelect=!1,this.setGlobalHouse(this.house)},process(t){if(this.houses=t,this.houseOptions=t.map((function(t){return{value:t.name,label:t.name,name:t.name,code:t.code,id:t.id}})),this.options=this.houseOptions,this.houseStore){var e=this.$store.getters[this.houseStore];this.house=this.houseOptions.find((function(t){return t.value===e.id}))}},filterFn(t,e){var s=this;e(""!==t?function(){var e=t.toLowerCase();s.options=s.houseOptions.filter((function(t){return t.label.toLowerCase().indexOf(e)>-1}))}:function(){s.options=s.houseOptions})}}),computed:m(m({},Object(u["c"])("user",["getGlobalHouse"])),{},{houseName(){return this.house?this.house.name:""}}),watch:{house(){this.$emit("change",{label:this.house.name,value:this.house.name,name:this.house.name,code:this.house.code,id:this.house.id})}},components:{},created(){this.house=this.getGlobalHouse,this.house&&(this.showSelect=!1),h.getHouseNames(this.process)}},g=b,y=(s("e715"),s("2be6")),v=s("2ef0"),w=s("4840"),x=s("3946"),C=s("ac9b"),q=s("66dc"),k=s("6a2f"),_=s("6c93"),S=s("7d9a"),O=s("e279"),j=s.n(O),$=Object(y["a"])(g,c,d,!1,null,"56550b21",null),Q=$.exports;function R(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function P(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?R(Object(s),!0).forEach((function(e){r()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):R(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}j()($,"components",{QBtn:v["a"],QChip:w["a"],QSelect:x["a"],QItem:C["a"],QItemSection:q["a"],QMenu:k["a"],QList:_["a"],QItemLabel:S["a"]});var E={name:"ComponentModuleIndex",props:{selectStudent:{type:Boolean,default:!1},selectSubject:{type:Boolean,default:!1},selectHouse:{type:Boolean,default:!1},studentStore:{type:String},settingsRoute:{default:null},settingsIcon:{type:String,default:"fal fa-cogs"},options:{type:Array,default(){return[]}},placeholder:{type:String,default:"Select"},label:{type:String,default:""},icon:{type:String,default:"fal fa-bomb"},module:{retured:!0,type:String},routes:{required:!0,type:Array,default(){return[{label:"Test",page:"test",icon:"fal fa-bug",route:""}]}},active:null,hideLabels:{type:Boolean,default:!0}},data(){return{currentTab:null,menuOpen:!1}},components:{Students:i["a"],Subjects:l["a"],Houses:Q},computed:P(P(P({},Object(u["e"])("user",["isDark","isLight"])),Object(u["c"])("user",["getPageAccess","getModuleColor"])),{},{globalInterface:{get(){return this.active},set(t){this.$emit("set",t)}}}),methods:P(P({},Object(u["b"])("user",["setPrimaryColor","toggleMenu"])),{},{changeStudent(t){this.$emit("changeStudent",t)},changeSubject(t){this.$emit("changeSubject",t)},changeHouse(t){this.$emit("changeHouse",t)}}),mounted(){},created(){}},T=E,D=(s("7acd"),s("8c42")),I=s("eb05"),N=s("4776"),B=s("d3a4"),W=s("3aaf"),A=s("f962c"),M=s("c8ed"),Y=s("34ff"),z=Object(y["a"])(T,a,n,!1,null,"63347912",null);e["a"]=z.exports;j()(z,"components",{QPage:D["a"],QToolbar:I["a"],QBtn:v["a"],QTabs:N["a"],QRouteTab:B["a"],QTooltip:W["a"],QSpace:A["a"],QSelect:x["a"],QFooter:M["a"],QIcon:Y["a"]})},cfa74:function(t,e,s){"use strict";var a=s("9bca"),n=s.n(a);n.a},d09c:function(t,e,s){"use strict";var a=s("5111"),n=s.n(a);n.a},d142:function(t,e,s){"use strict";var a=s("61a6"),n=s.n(a);n.a},d2b5:function(t,e,s){"use strict";var a=s("47783");e["a"]={getStaffDetails(t,e,s){a["a"].get("/aux/covid/staff/"+s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},postStaffResponse(t,e,s){a["a"].post("/aux/covid/staff",s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getStudentDetails(t,e,s){a["a"].get("/aux/covid/student/"+s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},postStudentResponse(t,e,s){a["a"].post("/aux/covid/student",s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))}}},d395:function(t,e,s){"use strict";var a=s("31f2"),n=s.n(a);n.a},d612:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row col crud-table no-shadow "},[s("q-splitter",{staticClass:"full-width",attrs:{"separator-class":t.seperatorClass,"separator-style":{width:"1px"},limits:t.splitterLimits,color:"accent"},scopedSlots:t._u([{key:"before",fn:function(){return[t.showTable?s("div",{staticClass:"col q-pr-sm no-shadow",style:[t.maxWidth>0?{"max-width":t.maxWidth+"px",margin:"auto"}:""]},[t.title.length>0&&!t.isPopup?s("div",{staticClass:"row text-accent q-py-xs q-px-sm uppercase"},[t._v(t._s(t.title))]):t._e(),s("q-table",{staticClass:"sticky-header-table no-shadow no-border bg-dark full-heightx scroll",staticStyle:{"border-collapse":"separate!important","border-top-color":"none"},attrs:{"virtual-scroll":"",gridx:t.$q.screen.lt.md,"table-stylex":"max-height: 80vh; height:100%","hide-header":t.hideHeader,data:t.filteredData,columns:t.columns,"row-key":t.rowKey,filter:t.searchTerm,"filter-method":t.searchFilter,dense:"",selection:t.multiselect?"multiple":"single",selected:t.selected,pagination:t.pagination,separator:t.separator,"hide-bottomx":t.modal,loading:t.loading},on:{"update:selected":function(e){t.selected=e},"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"top",fn:function(e){return t.search||t.filterbox||t.fullscreen||t.download||t.canNew?s("div",{staticClass:"row flex-center fit no-padding",staticStyle:{"min-height":"30px"}},[s("div",{staticClass:"row flex-center fit"},[t._t("top-bar-left"),t.canNew?s("q-btn",{staticClass:"text-positive new-button q-mr-md",attrs:{"icon-color":"positive",outline:"",icon:"fad fa-plus fa-xs",size:"md",dense:""},on:{click:t.triggerNewForm}}):t._e(),!0===t.filterbox?s("q-btn-dropdown",{staticClass:"q-mr-xs action q-text-accent",attrs:{labelx:"Filter",size:"sm",icon:"fad fa-filter fa-sm",color:"accent",unelevated:"",dense:""}},[s("q-list",{staticClass:"bg-primary"},t._l(t.columns,(function(e){return!0===!e.hidden&&"options"===e.type?s("q-expansion-item",{key:e.name,attrs:{group:"somegroup",icon:e.icon,label:e.name}},[s("div",{staticClass:"bd-font"},[s("q-list",{staticClass:"bg-primary bd-font",attrs:{link:""}},t._l(e.options,(function(a){return s("q-item",{key:a.value,attrs:{clickable:""},nativeOn:{click:function(s){return t.setFilter(e.field,a.value)}}},[s("q-item-section",[s("q-item-label",{staticClass:"text-grey"},[t._v(t._s(a.label))])],1)],1)})),1)],1)]):t._e()})),1)],1):t._e(),t.search?t._e():s("q-space"),t.search?s("q-input",{ref:"search",staticClass:"col q-mb-none",class:[!0===t.filterbox?"q-mx-xs":""],staticStyle:{"min-width":"200px"},attrs:{placeholder:"Search",clearable:"",dense:"",filled:"","hide-underlines":"",autofocus:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"fad fa-search"}})]},proxy:!0}],null,!0),model:{value:t.searchTerm,callback:function(e){t.searchTerm=e},expression:"searchTerm"}}):t._e(),s("div",{},[t.download?s("q-btn",{staticClass:"q-ml-md",attrs:{icon:"fad fa-download fa-xs",size:"sm",dense:"",flat:"",unelevated:"",loading:t.downloadLoading},on:{click:t.downloadData}}):t._e(),t.fullscreen?s("q-btn",{staticClass:"q-ml-md text-font",attrs:{flat:"",round:"",dense:"",icon:e.inFullscreen?"fullscreen_exit":"fullscreen"},on:{click:e.toggleFullscreen}}):t._e()],1),t._t("top-bar-right")],2),s("div",{staticClass:"row full-width q-mt-xs"},[s("div",{staticClass:"col"},t._l(t.columns,(function(e){return"options"===e.type&&t.filters[e.field]&&t.filterchips?s("q-chip",{key:e.name,attrs:{"text-color":"font",iconx:"alarm",outline:"",dark:t.fadse,color:"font",dense:"",classx:"q-pa-sm",removable:""},on:{remove:function(s){t.filters[e.field]=null}}},[t._v("\n                      "+t._s(t.getOptions(e.options,t.filters[e.field]))+"\n                    ")]):t._e()})),1)])]):t._e()}},{key:"header",fn:function(e){return s("q-tr",{staticClass:"no-border",attrs:{props:e}},[t.indicator.length>0?s("q-th",{staticClass:"no-border no-padding",staticStyle:{background:"none","max-width":"5px",width:"5px!important",padding:"none",margin:"none"}}):t._e(),t.multiselect?s("q-th",{staticClass:"no-border",attrs:{"auto-width":""}},[e.multipleSelect?s("q-checkbox",{staticStyle:{"padding-left":"4px"},attrs:{dense:"","indeterminate-value":"some"},model:{value:e.selected,callback:function(s){t.$set(e,"selected",s)},expression:"props.selected"}}):t._e()],1):t._e(),t.expand&&t.details?s("q-th",{staticClass:"no-border",attrs:{"auto-width":""}}):t._e(),t._l(e.cols,(function(a){return!0===!a.hidden?s("q-th",{key:a.name,class:{"sticky-col sticky-col-head":a.sticky},staticStyle:{"text-align":"left"},attrs:{props:e}},["options"===a.type&&!0===a.filter?s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"no-border no-shadow",attrs:{icon:"fad fa-filter",size:"xs",dense:"",color:"accent",flat:"",unelevated:""},on:{click:function(t){t.stopPropagation()}}},[s("q-menu",{staticClass:"bg-primary",attrs:{dark:""}},[s("q-list",{attrs:{dense:"",link:""}},t._l(a.options,(function(e){return s("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],key:e.value,attrs:{clickable:"",sparse:""},nativeOn:{click:function(s){return t.setFilter(a.field,e.value)}}},[s("q-item-section",[s("q-item-label",{staticClass:"text-grey"},[t._v(t._s(e.label))])],1)],1)})),1)],1)],1):t._e(),t._v("\n                "+t._s(a.label)+"\n              ")],1):t._e()})),t.actions.length>0&&t.canAction||t.canDelete?s("q-th"):t._e()],2)}},{key:"top-row",fn:function(e){return t.selected.length>1?s("q-tr",{staticStyle:{height:"30px"}},[s("q-td",{staticClass:"bg-dark q-mt-md",staticStyle:{height:"30px"},attrs:{colspan:"100%"}},[s("q-btn",{staticClass:"action",attrs:{label:"delete",size:"md",dense:""}})],1)],1):t._e()}},{key:"body",fn:function(e){return[s("q-tr",{class:[!0===e.row[t.indicator]||1==e.row[t.indicator]?"indicatedRow":"normalRow",e.row[t.rowKey]===t.expandedRowId?"expanded":"",!0===t.selectIndicator&&!0===e.selected?"selectIndicator":null],attrs:{props:e},nativeOn:{click:function(s){return t.clickRow(e)}}},[t.indicator.length>0?s("q-td",{staticClass:"no-border no-padding",class:[!0===e.row[t.indicator]||"1"==e.row[t.indicator]?"indicatedCell":""],staticStyle:{"max-width":"10px",width:"10px!important",padding:"none",margin:"none"}}):t._e(),t.multiselect?s("q-td",{attrs:{"auto-width":""}}):t._e(),t.expand&&t.details?s("q-td",{attrs:{"auto-width":""}},[s("q-icon",{attrs:{name:e.row[t.rowKey]===t.expandedRowId?"fad fa-chevron-down":"fad fa-chevron-right"}})],1):t._e(),t._l(t.columns,(function(a,n){return!0===!a.hidden?s("q-td",{key:a.name,class:{"sticky-col":a.sticky},attrs:{props:e}},[s("div",{staticClass:"row",staticStyle:{"align-items":"center"}},[a.slotLeft?s("span",[s(a.slotLeft,{tag:"component",attrs:{columns:t.columns,row:e.row,data:t.data}})],1):t._e(),-1===n?s("q-btn",{staticClass:"no-border",attrs:{flat:"",round:"",dense:"",icon:"delete"},nativeOn:{click:function(s){return t.deleteItem(e.row.id)}}}):t._e(),!0===!a.hidden&&"badges"===a.type?s("span",t._l(e.row[a.field],(function(e){return s("q-badge",{key:e,staticClass:"q-mr-xs",attrs:{color:t.badgeColor(e,a),"text-color":t.badgeTextColor(e,a)}},[t._v("\n                        "+t._s(a.truncate?e.substring(0,1):e)+"\n                      ")])})),1):t._e(),!0===!a.hidden&&"badge"===a.type?s("span",[s("q-badge",{attrs:{color:t.badgeColor(e.row[a.field],a),"text-color":t.badgeTextColor(e.row[a.field],a)}},[t._v("\n                        "+t._s(a.truncate?e.row[a.field].substring(0,1):e.row[a.field])+"\n                      ")])],1):t._e(),!0===!a.hidden&&"options"===a.type?s("span",{staticClass:"inlineEdit full-width"},["options"===a.type&&!0===t.inlineEdit&&!0===t.canEdit?s("q-select",{attrs:{"map-options":"","emit-value":"",readonly:!a.editable,"hide-dropdown-icon":!a.editable,dense:"",borderless:"","popup-content-class":"bd-font",options:a.options,"hide-bottom-spacex":""},on:{input:function(s){return t.update(e.row[t.rowKey])}},model:{value:e.row[a.field],callback:function(s){t.$set(e.row,a.field,s)},expression:"props.row[column.field]"}}):t._e()],1):t._e(),!0!==a.editable||!0!==t.canEdit||!0!==t.inlineEdit||"date"!==a.type&&"datetime"!==a.type&&"time"!==a.type?t._e():s("q-btn",{staticClass:"no-shadow q-mr-xs",attrs:{"text-color":"accent",flat:"",dense:"",icon:"time"===a.type?"fad fa-clock fa-xs":"fad fa-calendar fa-xs",size:"8px"}},[s("q-popup-proxy",{staticClass:"bg-primary"},[s("div",{staticClass:"bg-primary bd-font row no-padding no-margin"},["date"===a.type||"datetime"===a.type?s("div",{staticClass:"col q-pb-md bd-font"},[s("q-date",{staticClass:"row",attrs:{color:"font-secondary",mask:"datetime"===a.type?"DD-MM-YYYY HH:mm":"DD-MM-YYYY","text-color":"font",dark:"",flat:"",minimal:""},on:{input:function(s){return t.update(e.row[t.rowKey])}},model:{value:e.row[a.field],callback:function(s){t.$set(e.row,a.field,s)},expression:"props.row[column.field]"}}),s("div",{staticClass:"row q-mt-md"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col q-ml-md q-mr-xs",attrs:{flatx:"",outline:"",color:"accent","text-color":"accent",label:"clear"},on:{click:function(){e.row[a.field]=null,t.update(e.row[t.rowKey])}}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col q-ml-xs q-mr-md",attrs:{outlinex:"",color:"accent","text-color":"dark",label:"save"}})],1)],1):t._e(),"time"===a.type||"datetime"===a.type?s("div",{staticClass:"col no-padding no-margin"},[s("q-time",{attrs:{mask:"DD-MM-YYYY HH:mm",format24h:"",color:"grey-8","text-color":"font",borderedx:"",minimal:"",flat:""},on:{input:function(s){return t.update(e.row[t.rowKey])}},model:{value:e.row[a.field],callback:function(s){t.$set(e.row,a.field,s)},expression:"props.row[column.field]"}}),"time"===a.type?s("div",{staticClass:"row q-my-md"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col q-ml-md q-mr-xs",attrs:{flatx:"",outline:"",color:"accent","text-color":"accent",label:"clear"},on:{click:function(){e.row[a.field]=null,t.update(e.row[t.rowKey])}}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col q-ml-xs q-mr-md",attrs:{outlinex:"",color:"accent","text-color":"dark",label:"save"}})],1):t._e()],1):t._e()])])],1),!0===a.editable&&!0===t.canEdit&&!0===t.inlineEdit&&"date"!==a.type&&"time"!==a.type&&"datetime"!==a.type&&"options"!==a.type?s("span",[s("q-btn",{staticClass:"no-border no-shadow q-mr-xsx",attrs:{icon:"fad fa-pen-square","text-color":"accent",size:"9px",flat:""}},[!0===a.editable&&!0===t.inlineEdit?s("q-popup-edit",{staticClass:"bg-primary",attrs:{color:"positive",title:a.label,buttons:"","content-class":"bg-primary bd-font text-font capitalize",dark:"","label-set":"Save"},on:{save:function(s){return t.update(e.row[t.rowKey])}},model:{value:e.row[a.field],callback:function(s){t.$set(e.row,a.field,s)},expression:"props.row[column.field]"}},["string"===a.type?s("q-input",{attrs:{filled:"","hide-bottom-space":"",borderless:"",autofocus:"",type:"text"},on:{inputx:function(s){return t.update(e.row[t.rowKey])}},model:{value:e.row[a.field],callback:function(s){t.$set(e.row,a.field,s)},expression:"props.row[column.field]"}}):t._e(),"number"===a.type?s("q-input",{attrs:{filled:"","hide-bottom-space":"",borderless:"",autofocus:"",type:"number"},on:{inputx:function(s){return t.update(e.row[t.rowKey])}},model:{value:e.row[a.field],callback:function(s){t.$set(e.row,a.field,s)},expression:"props.row[column.field]"}}):t._e(),"options"===a.type?s("q-select",{attrs:{"map-options":"",autofocus:"",options:a.options,"emit-value":""},on:{input:function(s){return t.update(e.row[t.rowKey])}},model:{value:e.row[a.field],callback:function(s){t.$set(e.row,a.field,s)},expression:"props.row[column.field]"}}):t._e()],1):t._e()],1)],1):t._e(),s("div",{staticClass:"col text-left",staticStyle:{overflow:"hidden"}},[!0!==!a.hidden||"string"!==a.type&&"number"!==a.type&&a.type?t._e():s("span",{staticClass:"ellipsis"},[t._v("\n                      "+t._s(e.row[a.field])+"\n                    ")]),!0!==!a.hidden||"date"!==a.type&&"time"!==a.type&&"datetime"!==a.type?t._e():s("span",[t._v(t._s(e.row[a.field]))])]),a.slotRight?s("span",[s(a.slotRight,{tag:"component",attrs:{columns:t.columns,row:e.row,data:t.data}})],1):t._e()],1)]):t._e()})),t.actions.length>0&&t.canAction||t.canDelete?s("q-td",{on:{click:function(t){t.stopPropagation()}}},[t.actions.length>0&&t.canAction||t.canDelete?s("q-btn",{staticClass:"no-border no-shadow",staticStyle:{},attrs:{icon:"fad fa-ellipsis-v",flat:"",dense:"",size:"10px","text-color":"accent"}}):t._e(),s("q-menu",{staticClass:"bg-grey",staticStyle:{"min-width":"300px"},attrs:{"content-style":'{min-width:"200px"}',"auto-close":""}},[s("q-list",{staticClass:"bg-primary text-accent q-py-xs",staticStyle:{"min-width":"150px"},attrs:{dark:""}},[t._l(t.actions,(function(a){return s("q-item",{key:a.name,staticClass:"q-mb-sm",attrs:{link:"",clickable:""},nativeOn:{click:function(s){return t.sendAction(a.event,e.row)}}},[s("q-item-section",{attrs:{avatar:""}},[s("q-icon",{staticClass:"text-accent",class:[a.icon?a.icon:""]})],1),s("q-item-section",[t._v("\n                            "+t._s(a.title)+"\n                          ")])],1)})),!0===t.canDelete?s("q-item",{attrs:{clickable:""},nativeOn:{click:function(s){return t.deleteRow(e.row)}}},[s("q-item-section",{attrs:{avatar:""}},[s("q-icon",{staticClass:"q-mr-sm text-red",attrs:{size:"lg",name:"fad fa-trash fa-menu"}})],1),s("q-item-section",[t._v("Delete")])],1):t._e()],2)],1)],1):t._e()],2),t.expand&&t.details?s("q-tr",{directives:[{name:"show",rawName:"v-show",value:e.row[t.rowKey]===t.expandedRowId,expression:"props.row[rowKey] === expandedRowId"}],class:[!0===e.row[t.indicator]?"indicatedRow":"normalRow",e.row[t.rowKey]===t.expandedRowId?"expanded":""],attrs:{props:e}},[s("q-td",{attrs:{colspan:"100%"}},[t._t("details",[s("details-row",{attrs:{canEdit:t.canEdit,columns:t.columns,selectedRow:e.row}})],{selectedRow:e.row})],2)],1):t._e()]}},{key:t.modal?"bottom":"pagination",fn:function(e){return t.hidePagination?t._e():s("div",{staticClass:"row flex-center q-py-sm"},[s("div",{staticClass:"row col flex-center"},[s("q-btn",{staticClass:"q-mr-sm no-shadow",attrs:{round:"",dense:"",size:"sm",icon:"undo",color:"","text-color":"accent",disable:e.isFirstPage},on:{click:e.prevPage}}),s("div",{staticClass:"q-mr-sm",staticStyle:{"font-size":"small"}},[t._v("Page "+t._s(e.pagination.page)+" / "+t._s(e.pagesNumber))]),s("q-btn",{staticClass:"no-shadow",attrs:{round:"",dense:"",size:"sm",icon:"redo",color:"","text-color":"accent",disable:e.isLastPage},on:{click:e.nextPage}})],1)])}}],null,!0)})],1):t._e()]},proxy:!0},t.showSidebar?{key:"after",fn:function(){return[t.showSidebar?s("div",{staticClass:"q-ml-sm",class:[t.sidebarWidth&&t.showTable?"col-"+t.sidebarWidth:"col"]},[s("q-tabs",{staticClass:"bg-toolbar text-white narrow no-border no-shadow",attrs:{dense:"",shrink:"",animated:"",swipeable:"",align:"justify","indicator-color":"accent"},model:{value:t.selectedSbComponent,callback:function(e){t.selectedSbComponent=e},expression:"selectedSbComponent"}},[t.tablehide?s("q-btn",{staticClass:"text-accent q-px-md no-shadow",attrs:{icon:t.showTable?"fad fa-arrow-left fa-xs":"fad fa-arrow-right fa-xs",dense:"",name:"details"},nativeOn:{click:function(e){t.showTable=!t.showTable}}}):t._e(),!0===t.details&&!1===t.expand?s("q-tab",{attrs:{name:"details",label:"Details"}}):t._e(),t._l(t.sidebarComponents,(function(t){return s("q-tab",{key:t.name,attrs:{name:t.name,label:t.title}})}))],2),s("q-tab-panels",{staticClass:"full-height",attrs:{"keep-alive":""},model:{value:t.selectedSbComponent,callback:function(e){t.selectedSbComponent=e},expression:"selectedSbComponent"}},[s("q-tab-panel",{staticClass:"no-border no-shadow full-height",attrs:{name:"details"}},[t._t("details",[s("details-panel",{attrs:{columns:t.columns,selectedRow:t.selectedRow}})],{selectedRow:t.selectedRow,columns:t.columns,data:t.data})],2),t._l(t.sidebarComponents,(function(e){return s("q-tab-panel",{key:e.name,attrs:{name:e.name}},[s(e.component,{key:e.name,tag:"component",attrs:{columns:t.columns,selectedRow:t.selectedRow,data:t.data}})],1)}))],2)],1):t._e()]},proxy:!0}:null],null,!0),model:{value:t.splitterModel,callback:function(e){t.splitterModel=e},expression:"splitterModel"}}),s("q-dialog",{ref:"new",attrs:{"content-classes":"new-modal bg-tertiary q-pa-md",persistent:"",bordered:"","transition-show":"scale","transition-hide":"scale"},on:{show:t.newFormFocus},model:{value:t.showNewForm,callback:function(e){t.showNewForm=e},expression:"showNewForm"}},[s("q-card",{staticClass:"bg-tertiary",attrs:{bordered:""}},[s("q-toolbar",[s("q-toolbar-title",[t._v("New")]),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",dense:"",icon:"close"}})],1),s("q-card-section",{key:t.newComponentKey},[s(t.insertComponent,{key:t.newComponentKey,tag:"component",attrs:{rowKey:t.rowKey,columns:t.columns,api:t.api,data:t.data},on:{saved:t.saved,close:function(e){t.showNewForm=!1}}})],1)],1)],1)],1)},n=[],o=(s("e125"),s("4823"),s("c880"),s("8e9e")),r=s.n(o),i=(s("06ef"),s("3cc3")),l=s.n(i),c=(s("2e73"),s("76d0"),s("0e20"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.selectedRow?s("div",{staticClass:"row"},t._l(t.columns,(function(e){return s("div",{key:e.field,staticClass:"col-12"},["string"===e.type&&!0===!e.hidden?s("q-input",{attrs:{type:"text",dark:t.dark,"stack-label":e.label},model:{value:t.selectedRow[e.field],callback:function(s){t.$set(t.selectedRow,e.field,s)},expression:"selectedRow[column.field]"}}):t._e(),"number"===e.type&&!0===!e.hidden?s("q-input",{attrs:{type:"number",dark:t.dark,"stack-label":e.label},model:{value:t.selectedRow[e.field],callback:function(s){t.$set(t.selectedRow,e.field,s)},expression:"selectedRow[column.field]"}}):t._e(),"options"===e.type&&!0===!e.hidden?s("q-select",{attrs:{options:e.options,"map-options":"",dark:t.dark,"stack-label":e.label},model:{value:t.selectedRow[e.field],callback:function(s){t.$set(t.selectedRow,e.field,s)},expression:"selectedRow[column.field]"}}):t._e()],1)})),0):t._e()}),d=[],u={name:"ComponentCrudDetails",props:{columns:{required:!0,type:Array},selectedRow:{required:!0}},data(){return{dark:!0}},methods:{},computed:{},components:{},created(){}},p=u,h=(s("27da"),s("2be6")),f=s("bc74"),m=s("3946"),b=s("e279"),g=s.n(b),y=Object(h["a"])(p,c,d,!1,null,"7ab01de1",null),v=y.exports;g()(y,"components",{QInput:f["a"],QSelect:m["a"]});var w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.selectedRow?s("div",{staticClass:"row content-start q-my-md"},t._l(t.columns,(function(e){return!0===e.hidden?s("div",{key:e.field,staticClass:"col block content-start q-mr-sm"},["string"===e.type?s("q-input",{attrs:{type:"text",dark:t.dark,label:e.label,"stack-label":"",readonly:!t.canEdit&&!e.editable},model:{value:t.selectedRow[e.field],callback:function(s){t.$set(t.selectedRow,e.field,s)},expression:"selectedRow[column.field]"}}):t._e(),"number"===e.type?s("q-input",{attrs:{type:"number",dark:t.dark,label:e.label,"stack-label":"",readonly:!t.canEdit&&!e.editable},model:{value:t.selectedRow[e.field],callback:function(s){t.$set(t.selectedRow,e.field,s)},expression:"selectedRow[column.field]"}}):t._e(),"options"===e.type&&!0===e.editable&&!0===t.canEdit?s("q-select",{attrs:{"map-options":"",options:e.options,dark:t.dark,"stack-label":e.label,readonly:!t.canEdit&&!e.editable},model:{value:t.selectedRow[e.field],callback:function(s){t.$set(t.selectedRow,e.field,s)},expression:"selectedRow[column.field]"}}):t._e(),"text"===e.type&&!0===e.editable&&!0===t.canEdit?s("q-input",{attrs:{label:e.label,"stack-label":"",dark:t.dark,type:"textarea",autofocus:"",counter:"",readonly:!t.canEdit&&!e.editable},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.stopPropagation()}},model:{value:t.selectedRow[e.field],callback:function(s){t.$set(t.selectedRow,e.field,s)},expression:"selectedRow[column.field]"}}):t._e()],1):t._e()})),0):t._e()},x=[],C={name:"ComponentCrudDetails",props:{columns:{required:!0,type:Array},selectedRow:{required:!0},canEdit:{required:!0,type:Boolean}},data(){return{dark:!0}},methods:{},computed:{},components:{},created(){}},q=C,k=(s("510c"),Object(h["a"])(q,w,x,!1,null,"463ce00c",null)),_=k.exports;g()(k,"components",{QInput:f["a"],QSelect:m["a"]});var S=s("5a18"),O=s("9869"),j=s("9ce4"),$=s("47783");function Q(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function R(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Q(Object(s),!0).forEach((function(e){r()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Q(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var P={name:"ComponentCRUD",props:{columns:{required:!0,type:Array},isPopup:{type:Boolean,default:!1},detailedView:{default:!0,type:Boolean},title:{default:"",type:String},api:{required:!1,type:Object,default(){return{get:null,parameters:{},getSingle:null,put:null,post:null,delete:null}}},actions:{type:Array,default(){return[]}},search:{type:Boolean,default:!1},sortBy:{type:String,default:"id"},reverse:{type:Boolean,default:!1},rowsPerPage:{default:0},rowKey:{type:String,default:"id"},multiselect:{type:Boolean,default:!1},expand:{type:Boolean,default:!1},inlineEdit:{type:Boolean,default:!1},hideHeader:{type:Boolean,default:!1},details:{type:Boolean,default:!1},newtab:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},readOnly:{type:Boolean,default:!1},filterbox:{type:Boolean,default:!1},filterchips:{type:Boolean,default:!1},hidePagination:{type:Boolean,default:!0},sidebarComponents:{type:Array,default(){return[]}},newComponent:{},canNew:{type:Boolean,default:!1},canEdit:{type:Boolean,default:!1},canDelete:{type:Boolean,default:!1},canAction:{type:Boolean,default:!0},indicator:{type:String,default:""},selectIndicator:{type:Boolean,default:!0},sidebarWidth:{},tablehide:{default:!1},download:{type:Boolean,default:!1},modal:{type:Boolean,default:!1},maxWidth:{type:Number,default:0},dataOverride:{type:Array},channel:{type:String,default:""},selfPublish:{type:Boolean,default:!1}},data(){return{data:[],dark:!0,loading:!1,downloadLoading:!1,selected:[],selectedRow:null,newRow:[],searchTerm:null,filters:{},separator:"cell",expandedRowId:null,showNewForm:!1,rowIndex:null,newComponentKey:1,showTable:!0,pagination:{page:1,descending:this.reverse,sortBy:!1===this.sortBy?null:this.sortBy,rowsPerPage:100},wampSubscription:null,selectedSbComponent:null,splitterModel:100}},methods:{downloadData(){var t=this;if(!0!==this.downloadLoading){this.downloadLoading=!0;var e={columns:this.columns,data:this.filteredData};$["a"].post("/tools/crud/sheet",e).then((function(e){t.$downloadBlob(e.data.url,e.data.file),t.downloadLoading=!1})).catch((function(e){t.downloadLoading=!1,t.errorHandler(e)}))}},badgeColor(t,e){if(e.colors){var s=e.colors.find((function(e){return e.label.toLowerCase()===t.toLowerCase()}));if(s)return s.color}return e.color?e.color:"accent"},badgeTextColor(t,e){if(e.colors){var s=e.colors.find((function(e){return e.label.toLowerCase()===t.toLowerCase()}));if(s)return s.textColor}return e.textColor?e.textColor:"black"},publish(t){this.$wamp.publish(this.channel,[],{id:t},{exclude_me:!this.selfPublish})},newFormFocus(){},saved(t){if(this.newComponentKey+=1,this.showNewForm=!1,t){var e=t[this.rowKey];this.publish(e),this.$emit("new",e),this.$emit("change",e)}else this.get(),this.publish()},get(t){var e=this;if(t){if(this.api.parameters||(this.api.parameters={}),this.api.parameters[this.rowKey]=t,this.api.getSingle||console.warn(this.channel,"Getsingle Not Set"),!this.api.getSingle)return void this.get();this.api.getSingle((function(s){if(s.length>0){var a=e.filteredData.findIndex((function(s){return s[e.rowKey]===t}));a>-1?(Object.entries(s[0]).forEach((function(t){var n=l()(t,2),o=n[0];n[1];e.data[a][o]=s[0][o]})),e.$emit("update",t,s),e.$emit("change",t,s)):(e.data.push(s[0]),e.$emit("new",t,s),e.$emit("change",t,s))}else e.data=e.data.filter((function(s){return s[e.rowKey]!==t})),e.$emit("delete",t),e.$emit("change",t)}),null,this.api.parameters)}else this.api.get((function(t){e.loading=!1,e.data=t}),null,this.api.parameters)},deleteRow(t){var e=this;this.$q.dialog({title:"Confirm Delete",message:"This action cannot be undone",ok:"DELETE",cancel:"Cancel",color:"dark"}).onOk((function(){e.api.delete((function(s){e.data=e.data.filter((function(s){return s[e.rowKey]!==t[e.rowKey]})),e.$emit("delete",s,t),e.$emit("change",s,t),e.publish(t[e.rowKey]),e.$q.notify({message:"Success",position:"top"})}),e.error,t[e.rowKey],e.api.parameters)})).onCancel((function(){e.$q.notify({message:"Cancelled",position:"top"})}))},error(){this.$q.notify({message:"Oops. Something went wrong",position:"top"})},update(t){var e=this,s=this.filteredData.find((function(s){return s[e.rowKey]===t}));this.api.put((function(){e.channel?e.publish(t):console.warn("Wamp Channel Not Set"),e.$emit("update",t,s),e.$emit("change",t,s)}),this.error,s,this.api.parameters)},create(){},getOptions(t,e){if(!t)return"";var s=t.find((function(t){return t.value===e}));return s?s.label:void 0},clickRow(t){t.selected=!t.selected,this.selectedRow=t.row,t.expand=!t.expand,this.expandedRowId=this.expandedRowId===t.row[this.rowKey]?null:t.row[this.rowKey],this.$emit("clickedRow",t.row[this.rowKey])},searchFilter(t,e,s,a){var n=this,o=e?e.toLowerCase():"";return t.filter((function(t){return s.some((function(e){var s="options"===e.type?n.getOptions(e.options,t[e.field]):a(e,t);return-1!==(s+"").toLowerCase().indexOf(o)}))}))},setFilter(t,e){this.filters[t]?this.filters[t]=e:O["a"].set(this.filters,t,e)},focusSearch(t){this.$refs.search.focus(),this.$refs.search.val="",t&&t.preventDefault()},moveRowIndex(t){var e=this.filteredData[t];this.selectedRow=e,this.expandedRowId=this.expandedRowId===e[this.rowKey]?null:e[this.rowKey],this.rowIndex=t},downTable(t){var e=null===this.rowIndex?0:++this.rowIndex;e===this.filteredData.length&&(e=0),this.moveRowIndex(e),t.preventDefault()},upTable(t){var e=null===this.rowIndex?this.data.length-1:--this.rowIndex;-1===e&&(e=this.filteredData.length-1),this.moveRowIndex(e),t.preventDefault()},triggerNewForm(){this.showNewForm=!0},sendAction(t,e){this.$emit(t,e)}},computed:R(R({},Object(j["e"])("user",["isDark","isLight"])),{},{insertComponent(){var t=null;return t=this.newComponent?this.newComponent:function(){return Promise.resolve().then(s.bind(null,"5a18"))},t},filteredData(){var t=this,e=this.dataOverride?this.dataOverride:this.data,s=!0,a=e.filter((function(e){for(var a=0,n=Object.keys(t.filters);a<n.length;a++){var o=n[a];if(null!==t.filters[o]&&(s=!1,e[o]!==t.filters[o]))return!1}return!0}));return s?e:a},showSidebar(){return!1===this.expand&&!0===this.details||this.sidebarComponents.length>0},seperatorClass(){return this.showSidebar?"bg-font":"hidden"},splitterLimits(){return this.showSidebar?[10,90]:[0,100]}}),watch:{api(){this.get()},selected(){this.$emit("selected",this.selected)}},components:{detailsPanel:v,detailsRow:_,insert:S["default"]},created(){this.showSidebar&&(this.splitterModel=70),this.columns.forEach((function(t){t.align||t.type&&"string"!==t.type||(t.align="left")}))},mounted(){this.loading=!0,this.dataOverride?this.loading=!1:this.get(),this.selectedSbComponent=!0===this.details&&!1===this.expand||0===this.sidebarComponents.length?"details":this.sidebarComponents[0].name,this.pagination.rowsPerPage=!0===this.modal?10:1e3,this.rowsPerPage&&(this.pagination.rowsPerPage=this.rowsPerPage),this.pagination.sortBy=this.sortBy,this.pagination.rowsPerPage=this.rowsPerPage,this.pagination.descending=this.reverse,this.channel.length>0&&(this.wamp=this.$wamp.subscribe(this.channel,(function(t,e,s){this.get(e[this.rowKey])}),{acknowledge:!0}).then((function(t){this.wampSubscription=t}))),this.focusSearch()},beforeDestroy(){this.wampSubscription&&this.$wamp.unsubscribe(this.wampSubscription)}},E=P,T=(s("4677"),s("bc4f")),D=s("18f0"),I=s("2ef0"),N=s("5f53"),B=s("6c93"),W=s("0f3b"),A=s("ac9b"),M=s("66dc"),Y=s("7d9a"),z=s("f962c"),H=s("34ff"),L=s("4840"),G=s("41c9"),F=s("c462"),K=s("851c"),U=s("6a2f"),V=s("b74b"),J=s("f987"),X=s("8c18"),Z=s("88af"),tt=s("d538"),et=s("d200"),st=s("4776"),at=s("dd08"),nt=s("1411"),ot=s("1d98"),rt=s("e81c"),it=s("ebe6"),lt=s("eb05"),ct=s("f85a"),dt=s("965d"),ut=s("dfd0"),pt=s("b693"),ht=s("58c0"),ft=Object(h["a"])(E,a,n,!1,null,"21b54416",null);e["a"]=ft.exports;g()(ft,"components",{QSplitter:T["a"],QTable:D["a"],QBtn:I["a"],QBtnDropdown:N["a"],QList:B["a"],QExpansionItem:W["a"],QItem:A["a"],QItemSection:M["a"],QItemLabel:Y["a"],QSpace:z["a"],QInput:f["a"],QIcon:H["a"],QChip:L["a"],QTr:G["a"],QTh:F["a"],QCheckbox:K["a"],QMenu:U["a"],QTd:V["a"],QBadge:J["a"],QSelect:m["a"],QPopupProxy:X["a"],QDate:Z["a"],QTime:tt["a"],QPopupEdit:et["a"],QTabs:st["a"],QTab:at["a"],QTabPanels:nt["a"],QTabPanel:ot["a"],QDialog:rt["a"],QCard:it["a"],QToolbar:lt["a"],QToolbarTitle:ct["a"],QCardSection:dt["a"],QColor:ut["a"],QField:pt["a"]}),g()(ft,"directives",{ClosePopup:ht["a"]})},dd14:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"console q-ma-md q-pb-xl",attrs:{stylex:"overflow-y:hidden"}},[s("p",{staticClass:"q-ma-sm"},[t._v("Console")]),s("ul",{ref:"scroll",staticClass:"flex-column",staticStyle:{"overflow-y":"scroll","maxx-height":"200px"}},[t._l(t.consoleLog,(function(e){return s("li",{key:e.lineIndex,class:{error:e.isError,indent1:1==e.indent,indent2:2==e.indent,indent3:3==e.indent}},[t._v("\n        "+t._s(e.message)+"\n      ")])})),s("li",{ref:"bottom",staticStyle:{height:"100px"}})],2)])},n=[],o=(s("e125"),s("4823"),s("2e73"),s("76d0"),s("8e9e")),r=s.n(o),i=s("9ce4");function l(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function c(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?l(Object(s),!0).forEach((function(e){r()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var d={name:"AppConsole",data(){return{}},methods:{scroll(){}},computed:c({},Object(i["c"])("sockets",["consoleLog"])),watch:{consoleLog(){this.scroll()}}},u=d,p=(s("972e"),s("2be6")),h=s("26a8"),f=s("dfd0"),m=s("e279"),b=s.n(m),g=Object(p["a"])(u,a,n,!1,null,"447f21de",null);e["a"]=g.exports;b()(g,"components",{QScrollArea:h["a"],QColor:f["a"]})},de53:function(t,e,s){"use strict";var a=s("47783");e["a"]={getSessions(t,e){a["a"].get("/exams/sessions").then((function(e){t(e.data)})).catch((function(t){t()}))},getSession(t,e,s){console.log(s),a["a"].get("/exams/"+s.level+"/results/"+s.sessionID).then((function(e){console.log(e.data),t(e.data)})).catch((function(t){console.log("error",t),e(t)}))},getSessionCache(t,e,s){console.log(s),a["a"].get("/exams/cache/"+s.level+"/results/"+s.sessionID).then((function(e){console.log(e.data.statistics),t(e.data)})).catch((function(t){console.log("error",t),e(t)}))}}},e3c5:function(t,e,s){"use strict";var a=s("8bbc"),n=s.n(a);n.a},e715:function(t,e,s){"use strict";var a=s("6e63"),n=s.n(a);n.a},ea3f:function(t,e,s){},ebdc:function(t,e,s){"use strict";var a=s("47783");e["a"]={getStatus(t,e,s){a["a"].get("/admin/jobs/status/"+s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getScripts(t){a["a"].get("/admin/jobs/scripts").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},postJob(t,e,s){a["a"].post("/admin/jobs/job",s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},putJob(t,e,s){a["a"].put("/admin/jobs/job",s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},deleteJob(t,e,s){a["a"].delete("/admin/jobs/job/"+s).then((function(e){t(e.data)})).catch((function(t){console.log(t)}))},getJobs(t,e){a["a"].get("/admin/jobs").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))}}},ef38:function(t,e,s){},f1da:function(t,e,s){},f21d:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"q-pr-sm col column"},[s("loading",{attrs:{loading:t.loading,message:"Crunching some numbers..."}}),t.loading?t._e():s("div",{staticClass:"row fit col column"},[s("div",{staticClass:"col q-mt-none column"},[s("q-scroll-area",{staticClass:"column col"},[s("q-markup-table",{staticClass:"q-mb-xl col column bg-primary",attrs:{dense:"",flat:"",bordered:""}},[s("thead",{staticClass:"q-pb-md"},[s("tr",[s("th",{staticClass:"q-mx-none",staticStyle:{"padding-left":"0px"},attrs:{colspan:t.classes.length+2}},[s("q-toolbar",{staticClass:"full-width no-padding",staticStyle:{"min-height":"10px","max-height":"10px",height:"10px"},attrs:{dense:""}},[s("span",{staticClass:"q-mx-md"},[t.fullScreen?t._e():s("q-btn",{attrs:{icon:"fas fa-expand-arrows-alt",flat:"",color:"positive",size:"xs",dense:""},on:{click:function(e){return t.$emit("fullscreen")}}}),t.fullScreen?s("q-btn",{attrs:{icon:"fas fa-times",flat:"",color:"positive",size:"xs",dense:""},on:{click:function(e){return t.$emit("close")}}}):t._e()],1),s("q-btn-toggle",{staticClass:"no-shadow q-mr-md",attrs:{"toggle-color":"tertiary",color:"secondary","text-color":"font-secondary","toggle-text-color":"accent",options:t.modeOptions,size:"sm"},scopedSlots:t._u([{key:"flagged",fn:function(){return[s("q-tooltip",[t._v("Flagged as underperformed")])]},proxy:!0},{key:"gender",fn:function(){return[s("q-tooltip",[t._v("View by gender")])]},proxy:!0},{key:"names",fn:function(){return[s("q-tooltip",[t._v("View names")])]},proxy:!0}],null,!1,156006578),model:{value:t.mode,callback:function(e){t.mode=e},expression:"mode"}}),s("q-space"),t.fullScreen&&t.title?s("span",[t._v(t._s(t.title))]):t._e()],1)],1)]),s("tr",{staticClass:"bg-tertiary",staticStyle:{"max-height":"8px",height:"8px","overflow-y":"hidden"}},[s("th",{staticClass:"text-left"},[t._v("%")]),t._l(t.data,(function(e){return s("th",{key:e.name,staticClass:"text-center"},[t._v(t._s(e.name))])})),s("th",{staticClass:"text-right"})],2)]),s("tbody",{staticClass:"bg-primary q-mt-md",staticStyle:{"font-size":"5px"}},t._l(101,(function(e){return s("tr",{key:e,staticClass:"ct-row db-primary ct-border"},[s("td",{staticClass:"text-left ct-row",class:t.rowBgColor(102-e),staticStyle:{width:"10px"}},[t._v(t._s((102-e)%5==0?102-e:"")+"\n                "),t.isYearAverage(102-e)?s("q-tooltip",[t._v("Average %")]):t._e()],1),t._l(t.data,(function(a){return s("td",{key:a.name,staticClass:"ct-row ct-border text-center bg-primary",class:{"bg-secondary":(102-e)%10==0&&!t.isClassAverage(102-e,a),"bg-accent-secondary":t.isClassAverage(102-e,a),"":!t.isClassAverage(102-e,a)}},[t._l(t.getPctResults(a,102-e),(function(e){return"names"===t.mode?s("span",{key:e.id,staticClass:"q-mx-xs",class:t.nameClass(e)},[t._v(t._s(e.lastName))]):t._e()})),t._l(t.getPctResults(a,102-e),(function(e){return"names"!==t.mode?s("q-btn",{key:e.id,staticClass:"q-pa-none",staticStyle:{"max-height":"4px",height:"4px","font-size":"8px","padding-top":"0px","padding-bottom":"0px","margin-left":"1px","margin-right":"1px"},attrs:{color:t.badgeColor(e),"text-color":t.badgeColor(e),label:t.badgeLabel(e),size:"xs",dense:""},on:{click:function(s){return t.showResult(e)}}},[s("q-tooltip",{attrs:{"content-class":"bg-font-secondary"}},[s("p",{staticClass:"text-bold"},[t._v(t._s(e.name))]),t.wyap?s("p",[t._v(t._s(e.mark)+" / "+t._s(t.wyap.marks))]):t._e(),s("p",[t._v(t._s(e.percentage)+"%")])])],1):t._e()})),t.isClassAverage(102-e,a)?s("q-tooltip",[t._v("Class Average "+t._s(a.averagePct)+"%")]):t._e()],2)})),s("td",{staticClass:"ct-row ct-border bg-secondary",staticStyle:{width:"10px"}},[t._v(t._s((102-e)%5==0?102-e:""))])],2)})),0)])],1)],1)])],1)},n=[],o=(s("632c"),s("10ac")),r={name:"hods.metrics.wyaps.results",props:{results:{type:Array,required:!0},wyap:{type:Object,required:!1},statistics:{type:Object,required:!1},fullScreen:{type:Boolean},title:{type:String,required:!1}},data(){return{mode:"flagged",modeOptions:[{icon:"fas fa-flag",value:"flagged",slot:"flagged"},{icon:"fas fa-venus-mars",value:"gender",slot:"gender"},{icon:"fas fa-user",value:"names",slot:"names"}]}},methods:{getPctResults(t,e){return e<1||e>100?[]:t.results.find((function(t){return t.pct===e})).results},nameClass(t){return t.hasUnderperformed?"text-warning":"font-secondary"},badgeColor(t){return"gender"===this.mode?"F"===t.gender?"red-3":"blue-4":t.hasUnderperformed?"warning":"font-secondary"},badgeLabel(t){return"names"===this.mode?t.lastName:"."},rowBgColor(t){return Math.round(t)===Math.round(this.meanPct)?"bg-accent-secondary ct-border":"bg-secondary ct-border"},isYearAverage(t){return Math.round(t)===Math.round(this.meanPct)},isClassAverage(t,e){return t===e.averagePct}},computed:{visible(){return this.results},sorted(){var t=this.visible.filter((function(t){return t.id>0}));return t.sort(this.$compare(this.sortKey,this.sortDir))},classes(){var t=this.$parseOptions(this.results,"classCode").map((function(t){return t.value}));return t.sort()},boarding(){var t=this.$parseOptions(this.results,"boarding").map((function(t){return t.value}));return t.sort()},data(){var t=[],e=this;return this.classes.forEach((function(s,a){for(var n=0,o=0,r={name:s,results:[],averagePct:0},i=100;i>0;i--){var l=e.results.filter((function(t){return t.classCode===s&&Math.round(t.percentage)===i})),c={pct:i,results:l};n+=i*l.length,o+=l.length,r.results.push(c)}o>0&&(r.averagePct=Math.round(n/o)),t.push(r)})),t},loading(){return this.data.length<1},meanPct(){return this.statistics&&this.wyap?this.wyap.marks?100*this.statistics.mean/this.wyap.marks:0:null}},watch:{},components:{Loading:o["a"]},created(){},mounted(){}},i=r,l=(s("1567"),s("2be6")),c=s("bc74"),d=s("26a8"),u=s("2e0b"),p=s("eb05"),h=s("2ef0"),f=s("6dd6"),m=s("3aaf"),b=s("f962c"),g=s("dfd0"),y=s("e279"),v=s.n(y),w=Object(l["a"])(i,a,n,!1,null,null,null);e["a"]=w.exports;v()(w,"components",{QInput:c["a"],QScrollArea:d["a"],QMarkupTable:u["a"],QToolbar:p["a"],QBtn:h["a"],QBtnToggle:f["a"],QTooltip:m["a"],QSpace:b["a"],QColor:g["a"]})},f2cd:function(t,e,s){"use strict";var a=s("c0be"),n=s.n(a);n.a},f381:function(t,e,s){"use strict";var a=s("7fcc"),n=s.n(a);n.a},f3c0:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row full-height full-width q-pa-md"},[s("div",{staticClass:"col q-mr-lg"},[s("div",{staticClass:"row justify-start items-start content-start",staticStyle:{height:"70px"}},[s("div",{staticClass:"qx-mb-xl row wrap justify-start items-start content-start full-width full-height",staticStyle:{"max-height":"60px"}},t._l(t.connections,(function(e){return s("div",{key:e.label,staticClass:"col-3 q-pa-xs"},[s("q-badge",{staticClass:"text-center full-width",staticStyle:{height:"50px"},attrs:{outline:e.value,color:e.value?"font":"warning"}},[s("span",{staticClass:"full-width text-center text-bold capitalize"},[t._v(t._s(e.label))])])],1)})),0),s("div",{staticClass:"row full-width q-my-md"},[s("q-linear-progress",{attrs:{size:"25px",value:.01*t.resources.disk.percentage,color:"accent","track-color":"tertiary"}})],1)]),s("div",{staticClass:"row full-height",attrs:{stylex:"margin-top:-40px"}},[s("q-scroll-area",{staticClass:"full-width full-height",attrs:{stylex:"height:60vh"}},[s("div",{staticClass:"q-pa-md"},[s("q-markup-table",{staticClass:"text-white no-shadow",attrs:{dense:""}},[s("tbody",t._l(t.logs.slice().reverse(),(function(e){return s("tr",{key:e.id,class:t.logColor(e),staticStyle:{border:"none"}},[s("td",{staticClass:"text-left text-font-secondary",staticStyle:{width:"150px","border-bottom-width":"0px","font-size":"12px"}},[t._v(t._s(e.time))]),s("td",{staticClass:"text-left text-font",staticStyle:{"border-bottom-width":"0px","font-size":"12px"}},["WARNING"===e.level?s("q-icon",{staticClass:"q-mr-sm",attrs:{color:"warning",size:"sm",name:"fa fa-exclamation-square"}}):t._e(),t._v("\n                  "+t._s(e.message)+"\n                ")],1)])})),0)])],1)])],1)]),s("div",{staticClass:"col-3"},[s("q-bar",{staticClass:"bg-secondary text-accent text-h5 q-mt-sm"},[t._v("CPU "),s("q-space"),t.$q.fullscreen.isCapable?s("q-btn",{staticClass:"no-border q-mr-sm no-shadow",attrs:{color:"dark",icon:"fad fa-arrows-alt",flat:"",size:"sm",round:""},on:{click:function(e){return t.$q.fullscreen.toggle()}}}):t._e()],1),s("div",{staticClass:"row full-width"},t._l(t.resources.cores,(function(e){return s("q-circular-progress",{key:e.id,staticClass:"q-ma-md text-accent col text-center",attrs:{"show-value":"","font-size":"10px",indeterminate:t.indeterminate,value:100-e.idle,size:"100px",color:"accent","track-color":"tertiary"}},[t._v("\n      "+t._s(100-Math.round(e.idle))+"%\n      ")])})),1),s("div",{staticClass:"full-width text-center"},[s("q-circular-progress",{staticClass:"q-ma-md text-accent",attrs:{"show-value":"","font-size":"31px",indeterminate:t.indeterminate,value:100-t.resources.cpuIdle,size:"200px",color:"accent","track-color":"tertiary"}},[t._v("\n      "+t._s(100-Math.round(t.resources.cpuIdle))+"%\n      ")]),s("div",{ref:"cpuhistory",staticClass:"full-width",attrs:{id:"cpuhistory"}})],1),s("q-bar",{staticClass:"q-mt-sm text-accent text-h5 bg-secondary"},[t._v("MEMORY")]),s("div",{staticClass:"full-width text-center"},[s("q-circular-progress",{staticClass:"q-ma-md text-accent",attrs:{"show-value":"","font-size":"31px",indeterminate:t.indeterminate,value:t.resources.memory,size:"200px",color:"accent","track-color":"tertiary"}},[t._v("\n     "+t._s(t.resources.memory)+"%\n     ")]),s("div",{ref:"memhistory",staticClass:"full-width",attrs:{id:"cpuhistory"}}),t._m(0)],1)],1)])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"cssload-wrap",staticStyle:{"margin-top":"80px"}},[s("div",{staticClass:"cssload-circle"}),s("div",{staticClass:"cssload-circle"}),s("div",{staticClass:"full-width full-height flex flex-centre"},[s("img",{staticClass:"q-ml-sm",staticStyle:{margin:"auto"},attrs:{width:"20px",height:"20px",src:"/statics/icons/plain.svg"}})]),s("div",{staticClass:"cssload-circle"}),s("div",{staticClass:"cssload-circle"}),s("div",{staticClass:"cssload-circle"})])])}],o=s("c686"),r=s("915b"),i=s("3099"),l=s("d610");r["f"](l["a"]);var c={name:"Admin.Logs.Dashboard",data(){return{logs:[],resources:{cpuIdle:0,disk:{percentage:0}},indeterminate:!0,cpuHistory:[],cpuHistoryChartx:null,memHistory:[],memHistoryChartx:null,logInterval:2e3,resourcesInterval:2e3,connectionsInterval:5e3,graphMinutes:1,counter:0,connections:{}}},computed:{},methods:{fetchLogs(){o["a"].getLogs(this.processLog)},fetchResources(){o["a"].getResources(this.processResources)},fetchConnections(){o["a"].getConnections(this.processConnections)},processConnections(t){this.connections=t},processLog(t){this.logs=t.messages},processResources(t){this.counter++,this.resources=t.resources,this.indeterminate=!1;var e=Date.parse(t.time),s={date:e,value:100-this.resources.cpuIdle},a={date:e,value:this.resources.memory};if(this.cpuHistoryChart&&this.counter%10!==0){var n=60*this.graphMinutes/(this.resourcesInterval/1e3),o=this.cpuHistory.length>n?1:0;this.cpuHistoryChart.addData(s,o),this.memHistoryChart.addData(a,o)}else this.cpuHistory.push(s),this.memHistory.push(a),this.createCpuSpark(),this.createMemSpark()},logColor(t){switch(t.level){case"CRITICAL":return"text-white bg-warning";default:return"text-tertiery"}},createCpuSpark(){this.cpuHistoryChart&&this.cpuHistoryChart.dispose();var t=r["c"](this.$refs.cpuhistory,i["l"]);t.data=this.cpuHistory,t.padding(0,0,0,0);var e=t.xAxes.push(new i["d"]);e.renderer.grid.template.disabled=!0,e.renderer.labels.template.disabled=!0,e.startLocation=.5,e.endLocation=.7,e.cursorTooltipEnabled=!1;var s=t.yAxes.push(new i["k"]);s.min=0,s.renderer.grid.template.disabled=!0,s.renderer.baseGrid.disabled=!0,s.renderer.labels.template.disabled=!0,s.cursorTooltipEnabled=!1,t.cursor=new i["m"],t.cursor.lineY.disabled=!0;var a=t.series.push(new i["g"]);a.tooltipText="{date}: [bold]{value}",a.dataFields.dateX="date",a.dataFields.valueY="value",a.tensionX=.8,a.strokeWidth=2;var n=a.bullets.push(new i["b"]);n.circle.opacity=0,n.circle.propertyFields.opacity="opacity",n.circle.radius=3,this.cpuHistoryChart=t},createMemSpark(){this.memHistoryChart&&this.memHistoryChart.dispose();var t=r["c"](this.$refs.memhistory,i["l"]);t.data=this.memHistory,t.padding(0,0,0,0);var e=t.xAxes.push(new i["d"]);e.renderer.grid.template.disabled=!0,e.renderer.labels.template.disabled=!0,e.startLocation=.5,e.endLocation=.7,e.cursorTooltipEnabled=!1;var s=t.yAxes.push(new i["k"]);s.min=0,s.renderer.grid.template.disabled=!0,s.renderer.baseGrid.disabled=!0,s.renderer.labels.template.disabled=!0,s.cursorTooltipEnabled=!1,t.cursor=new i["m"],t.cursor.lineY.disabled=!0;var a=t.series.push(new i["g"]);a.tooltipText="{date}: [bold]{value}",a.dataFields.dateX="date",a.dataFields.valueY="value",a.tensionX=.8,a.strokeWidth=2;var n=a.bullets.push(new i["b"]);n.circle.opacity=0,n.circle.propertyFields.opacity="opacity",n.circle.radius=3,this.memHistoryChart=t}},components:{},mounted(){this.$q.fullscreen.toggle()},created(){this.fetchLogs(),this.fetchResources(),this.fetchConnections(),this.logTimer=setInterval(function(){this.fetchLogs()}.bind(this),this.logInterval),this.resourcesTimer=setInterval(function(){this.fetchResources()}.bind(this),this.resourcesInterval),this.connectionsTimer=setInterval(function(){this.fetchConnections()}.bind(this),this.connectionsInterval),this.windowTimer=setInterval((function(){this.$forceUpdate()}),12e4)},beforeDestroy(){clearInterval(this.logTimer),clearInterval(this.windowTimer),clearInterval(this.resourcesTimer),clearInterval(this.connectionsTimer)}},d=c,u=(s("cfa74"),s("2be6")),p=s("2ef0"),h=s("f987"),f=s("4f61"),m=s("26a8"),b=s("2e0b"),g=s("34ff"),y=s("5d16"),v=s("f962c"),w=s("cf19"),x=s("e279"),C=s.n(x),q=Object(u["a"])(d,a,n,!1,null,"3314fae2",null);e["a"]=q.exports;C()(q,"components",{QBtn:p["a"],QBadge:h["a"],QLinearProgress:f["a"],QScrollArea:m["a"],QMarkupTable:b["a"],QIcon:g["a"],QBar:y["a"],QSpace:v["a"],QCircularProgress:w["a"]})},f517:function(t,e,s){"use strict";var a=s("47783");e["a"]={getSubjectNames(t,e){a["a"].get("/subjects/names").then((function(e){t(e.data)})).catch((function(t){console.log(t)}))}}}}]);