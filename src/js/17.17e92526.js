(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[17],{"3e43":function(t,e,s){"use strict";var a=s("cfeb"),o=s.n(a);o.a},"5b6e":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-layout",{staticClass:"primary-layoutx",attrs:{id:"primaryLayoutx",view:t.view,stylex:"overflow-y:hidden"}},[s("q-ajax-bar",{attrs:{color:t.barColor}}),s("q-header",{staticClass:"fixed-topx desktop-only",attrs:{stylex:"max-height:40px"}},[s("q-toolbar",{staticClass:"ada-main-toolbar",staticStyle:{"min-height":"40px","max-height":"40px"},attrs:{id:"top-toolbar",stylex:t.toolbarStyle}},[s("img",{staticClass:"q-ml-sm",attrs:{width:"20px",src:"/statics/icons/plain.svg"}}),t.hasModuleAccess("admin")?s("job-status"):t._e(),s("q-space"),s("user-options",{staticClass:"q-ml-lg",attrs:{isAdmin:t.hasModuleAccess("admin")},on:{openAdmin:t.openAdmin}})],1)],1),s("q-drawer",{staticClass:"drawer-border",staticStyle:{top:"0px!important","border-left-width":"0px"},attrs:{id:"primaryLayoutDrawer",breakpoint:5,width:200,overlay:t.isOverlay,mini:this.$q.platform.is.desktop,behaviourx:"desktop","content-class":"bg-primary","content-style":{overflow:"visible!important",paddingTop:t.paddingTop}},on:{mouseover:t.hideTextProcess,mouseout:t.hideTextProcess},model:{value:t.menuIsOpen,callback:function(e){t.menuIsOpen=e},expression:"menuIsOpen"}},[s("user-options",{staticClass:"q-ml-lg mobile-only",attrs:{isAdmin:t.hasModuleAccess("admin")},on:{openAdmin:t.openAdmin}}),s("q-separator",{staticClass:"mobile-only q-mt-md"}),s("q-scroll-area",{staticClass:"fit"},[s("q-list",{class:{hideText:t.hideText},style:t.$q.platform.is.desktop?"width:100%":"",attrs:{"no-border":"",link:"","inset-class":"colx q-mt-sm text-primary"}},[s("q-item",{staticClass:"q-pa-xs text-font",attrs:{to:"/home"},on:{click:function(e){return t.navigate("Home","fad fa-home")}}},[s("q-item-section",{staticClass:"flex-center q-pl-sm",attrs:{side:""}},[s("q-icon",{attrs:{color:t.iconColor("Home"),name:"fad fa-home"}})],1),s("q-item-section",{staticClass:"text-font"},[t._v("Home")])],1),t.hasModuleAccess("covid")?s("q-item",{staticClass:"q-pa-xs text-font",attrs:{to:"/covid"},on:{click:function(e){return t.navigate("Covid","fad fa-biohazard")}}},[s("q-item-section",{staticClass:"flex-center q-pl-sm",attrs:{side:""}},[s("q-icon",{attrs:{name:"fad fa-biohazard",color:t.iconColor("Covid")}})],1),s("q-item-section",{staticClass:"text-font"},[t._v("Covid")])],1):t._e(),t.hasModuleAccess("students")?s("q-item",{staticClass:"q-pa-xs text-font",attrs:{to:"/students"},on:{click:function(e){return t.navigate("Pupils","fad fa-child")}}},[s("q-item-section",{staticClass:"flex-center q-pl-sm",attrs:{side:""}},[s("q-icon",{attrs:{color:t.iconColor("Pupils"),name:"fad fa-child"}})],1),s("q-item-section",{staticClass:"text-font"},[t._v("Pupils")])],1):t._e(),t.hasModuleAccess("groups")?s("q-item",{staticClass:"q-pa-xs text-font",attrs:{to:"/groups"},on:{click:function(e){return t.navigate("Pupils","fad fa-users")}}},[s("q-item-section",{staticClass:"flex-center q-pl-sm",attrs:{side:""}},[s("q-icon",{attrs:{color:t.iconColor("Groups"),name:"fad fa-users"}})],1),s("q-item-section",{staticClass:"text-font"},[t._v("Groups")])],1):t._e(),t.hasModuleAccess("smt")?s("q-item",{staticClass:"q-pa-xs text-font",attrs:{to:"/smt"},on:{click:function(e){return t.navigate("SMT","fad fa-badge-sheriff")}}},[s("q-item-section",{staticClass:"flex-center q-pl-sm",attrs:{side:""}},[s("q-icon",{attrs:{color:t.iconColor("SMT"),name:"fad fa-badge-sheriff"}})],1),s("q-item-section",{staticClass:"text-font"},[t._v("SMT")])],1):t._e(),t.hasModuleAccess("hod")?s("q-item",{staticClass:"q-pa-xs text-font",attrs:{"active-class":"text-accent",to:"/hod"},on:{click:function(e){return t.navigate("Hod","fad fa-user-class")}}},[s("q-item-section",{staticClass:"flex-center q-pl-sm",attrs:{side:""}},[s("q-icon",{attrs:{color:t.iconColor("Hod"),name:"fad fa-users-class"}})],1),s("q-item-section",{staticClass:"text-font"},[t._v("HOD")])],1):t._e(),t.hasModuleAccess("hm")?s("q-item",{staticClass:"q-pa-xs text-font",attrs:{to:"/hm"},on:{click:function(e){return t.navigate("House","fad fa-house-night")}}},[s("q-item-section",{staticClass:"flex-center q-pl-sm",attrs:{side:""}},[s("q-icon",{attrs:{color:t.iconColor("House"),name:"fad fa-house-night"}})],1),s("q-item-section",{staticClass:"text-font"},[t._v("HM")])],1):t._e(),t.hasModuleAccess("bookings")?s("q-item",{staticClass:"q-pa-xs text-font",attrs:{to:"/bookings"},on:{click:function(e){return t.navigate("Bookings","fad fa-book")}}},[s("q-item-section",{staticClass:"flex-center q-pl-sm",attrs:{side:""}},[s("q-icon",{attrs:{color:t.iconColor("Bookings"),name:"fad fa-calendar-check"}})],1),s("q-item-section",{staticClass:"text-font"},[t._v("Bookings")])],1):t._e(),t.hasModuleAccess("accounts")?s("q-item",{staticClass:"q-pa-xs text-font",attrs:{to:"/accounts"},on:{click:function(e){return t.navigate("Accounts","fad fa-credit-card")}}},[s("q-item-section",{staticClass:"flex-center q-pl-sm",attrs:{side:""}},[s("q-icon",{attrs:{color:t.iconColor("Accounts"),name:"fad fa-credit-card"}})],1),s("q-item-section",{staticClass:"text-font"},[t._v("Accounts")])],1):t._e(),t.hasModuleAccess("beaks")?s("q-item",{staticClass:"q-pa-xs text-font",attrs:{to:"/"},on:{click:function(e){return t.navigate("Beaks","fad fa-graduation-cap")}}},[s("q-item-section",{staticClass:"flex-center q-pl-sm",attrs:{side:""}},[s("q-icon",{attrs:{color:t.iconColor("Beaks"),name:"fad fa-graduation-cap"}})],1),s("q-item-section",{staticClass:"text-font"},[t._v("Beaks")])],1):t._e(),t.hasModuleAccess("watch")?s("q-item",{staticClass:"q-pa-xs text-font",attrs:{to:"/watch"},on:{click:function(e){return t.navigate("Watch","fad fa-eye")}}},[s("q-item-section",{staticClass:"flex-center q-pl-sm",attrs:{side:""}},[s("q-icon",{attrs:{color:t.iconColor("Watch"),name:"fad fa-eye"}})],1),s("q-item-section",{staticClass:"text-font"},[t._v("Watch")])],1):t._e(),t.hasModuleAccess("exams")?s("q-item",{staticClass:"q-pa-xs text-font",attrs:{to:"/exams"},on:{click:function(e){return t.navigate("Exams","fad fa-university")}}},[s("q-item-section",{staticClass:"flex-center q-pl-sm",attrs:{side:""}},[s("q-icon",{attrs:{color:t.iconColor("Exams"),name:"fad fa-university"}})],1),s("q-item-section",{staticClass:"text-font"},[t._v("Exams")])],1):t._e(),t.hasModuleAccess("sen")?s("q-item",{staticClass:"q-pa-xs text-font",attrs:{to:"/sen"},on:{click:function(e){return t.navigate("Sen","fad fa-hands-helping")}}},[s("q-item-section",{staticClass:"flex-center q-pl-sm",attrs:{side:""}},[s("q-icon",{attrs:{color:t.iconColor("Sen"),name:"fad fa-hands-helping"}})],1),s("q-item-section",{staticClass:"text-font"},[t._v("SEN")])],1):t._e(),t.hasModuleAccess("transport")?s("q-item",{staticClass:"q-pa-xs text-font",attrs:{to:"/transport"},on:{click:function(e){return t.navigate("Transport","fad fa-space-shuttle")}}},[s("q-item-section",{staticClass:"flex-center q-pl-sm",attrs:{side:""}},[s("q-icon",{attrs:{color:t.iconColor("Transport"),name:"fad fa-space-shuttle"}})],1),s("q-item-section",{staticClass:"text-font"},[t._v("Transport")])],1):t._e(),t.hasModuleAccess("lab")?s("q-item",{staticClass:"q-pa-xs text-font",attrs:{to:"/lab"},on:{click:function(e){return t.navigate("Lab","fad fa-flask")}}},[s("q-item-section",{staticClass:"flex-left q-pl-sm",attrs:{side:""}},[s("q-icon",{attrs:{color:t.iconColor("Lab"),name:"fad fa-flask"}})],1),s("q-item-section",{staticClass:"text-font"},[t._v("Lab")])],1):t._e(),t.hasModuleAccess("academic")?s("q-item",{staticClass:"q-pa-xs text-font",attrs:{to:"/academic"},on:{click:function(e){return t.navigate("Academic","fad fa-smile")}}},[s("q-item-section",{staticClass:"flex-left q-pl-sm",attrs:{side:""}},[s("q-icon",{attrs:{color:t.iconColor("Academic"),name:"fad fa-smile"}})],1),s("q-item-section",{staticClass:"text-font"},[t._v("Academic")])],1):t._e()],1)],1)],1),s("q-page-container",{staticClass:"no-scroll bg-toolbar",staticStyle:{"padding-top":"0px","padding-bottom":"0px",heightx:"100vh","overflow-y":"hidden"}},[s("router-view",{on:{toggle:function(e){t.leftDrawerOpen=!t.leftDrawerOpen}}})],1)],1)},o=[],n=(s("e125"),s("4823"),s("2e73"),s("76d0"),s("ae66"),s("8e9e")),i=s.n(n),r=s("c569"),c=s("9ce4"),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.isAdmin?s("q-btn",{staticClass:"q-mr-sm",attrs:{round:"",color:"accent",size:(t.$q.platform.is.mobile,"sm"),icon:"fad fa-asterisk",flat:""},on:{click:function(e){return t.$emit("openAdmin")}}},[s("q-tooltip",[t._v("\n      Admin\n    ")])],1):t._e(),s("q-btn",{staticClass:"q-mr-sm",attrs:{round:"",color:"font",size:(t.$q.platform.is.mobile,"sm"),icon:"fad fa-sun",flat:""},on:{click:function(e){t.isDark=!t.isDark}}},[s("q-tooltip",[t._v("\n      Eye strain mode\n    ")])],1),t.$q.fullscreen.isCapable?s("q-btn",{staticClass:"no-border q-mr-sm no-shadow desktop-only",class:{glow:t.$q.fullscreen.isActive},attrs:{icon:"fad fa-arrows-alt",flat:"",color:t.$q.fullscreen.isActive?"accent":"font",size:(t.$q.platform.is.mobile,"sm"),round:""},on:{click:function(e){return t.$q.fullscreen.toggle()}}},[s("q-tooltip",[t._v("\n        Toggle full screen\n      ")])],1):t._e(),s("q-btn",{staticClass:"q-mr-sm",attrs:{round:"",color:"font",size:(t.$q.platform.is.mobile,"sm"),icon:"fad fa-bug",flat:""},on:{click:t.bug}},[s("q-tooltip",[t._v("\n      Report a bug\n    ")])],1),s("q-btn",{staticClass:"q-mr-sm",attrs:{round:"",color:"font",size:(t.$q.platform.is.mobile,"sm"),icon:"fad fa-sign-out",flat:""},on:{click:t.logout}},[s("q-tooltip",[t._v("\n      Sign out\n    ")])],1),s("q-dialog",{model:{value:t.showBug,callback:function(e){t.showBug=e},expression:"showBug"}},[s("q-card",{staticClass:"bg-tertiary ada-bug-card",staticStyle:{width:"700px","max-width":"80vw"}},[s("q-card-section",[s("div",{staticClass:"text-h6"},[t._v("Report Bug / Suggest Feature")])]),s("q-card-section",[s("q-input",{attrs:{filled:"",label:"Subject"},model:{value:t.subject,callback:function(e){t.subject=e},expression:"subject"}}),s("q-input",{staticClass:"q-mt-md",attrs:{filled:"",type:"textarea",label:"Message"},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1),s("q-card-section",[s("p",[t._v(t._s(t.$route.path))])]),s("q-card-actions",{staticClass:"text-font row",attrs:{align:"right"}},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col-3",attrs:{label:"Forget it",outline:"",color:"font"}}),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col",attrs:{label:"Send",outline:"",color:"positive"},on:{click:t.send}})],1)],1)],1)],1)},u=[],d=s("47783");function f(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function m(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?f(Object(s),!0).forEach((function(e){i()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):f(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var p={name:"ComponentUserOptions",props:{isAdmin:{default:!1}},data(){return{showBug:!1,subject:"",message:""}},methods:{logout(){var t=this;this.$store.dispatch("user/logout").then((function(e){t.$router.replace("/login").catch((function(t){console.warn(t)}))}))},bug(){this.showBug=!0},send(){var t=this,e={userId:this.userId,path:this.$route.path,subject:this.subject,message:this.message};d["a"].post("/auth/bug",e).then((function(e){t.message="",t.subject=""})).catch((function(t){console.warn(t)}))}},computed:m(m({},Object(c["e"])("user",["name","userId"])),{},{route(){return this.$route.path},isDark:{get(){return this.$store.getters["user/isDarkMode"]},set(t){this.$store.dispatch("user/isDarkMode",t)}}}),components:{},created(){console.log(this.$route)}},h=p,q=(s("b09a"),s("2be6")),g=s("2ef0"),b=s("3aaf"),v=s("e81c"),x=s("ebe6"),C=s("965d"),k=s("bc74"),y=s("5b32"),w=s("58c0"),O=s("e279"),_=s.n(O),A=Object(q["a"])(h,l,u,!1,null,"039727ee",null),j=A.exports;_()(A,"components",{QBtn:g["a"],QTooltip:b["a"],QDialog:v["a"],QCard:x["a"],QCardSection:C["a"],QInput:k["a"],QCardActions:y["a"]}),_()(A,"directives",{ClosePopup:w["a"]});var M=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"q-ml-xl",on:{click:function(e){return t.$router.push({path:"/admin/jobs"})}}},[t.status.serverOn?s("q-spinner-dots",{attrs:{color:"positive",size:"lg"}}):t._e(),t.status.serverOn?t._e():s("q-spinner-dots",{attrs:{color:"warning",size:"lg"}})],1)},$=[],S=s("ebdc"),Q={name:"Component.Admin.Logs.Access",data(){return{status:{unix:0},statusTimer:null}},methods:{getStatus(){S["a"].getStatus(this.processStatus,this.$errorHandler,this.status.unix)},processStatus(t){this.status=t}},computed:{},components:{},created(){this.getStatus(),this.statusTimer=setInterval(function(){this.getStatus()}.bind(this),6e4)},beforeDestroy(){clearInterval(this.statusTimer)}},P=Q,D=(s("3e43"),s("301d")),T=Object(q["a"])(P,M,$,!1,null,"641b1900",null),I=T.exports;function B(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function H(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?B(Object(s),!0).forEach((function(e){i()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):B(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}_()(T,"components",{QSpinnerDots:D["a"]});var E={name:"LayoutDefault",data(){return{leftDrawerOpen:this.$q.platform.is.desktop,miniModeOn:!0,hideText:!0,router:this.$router,breakpoint:1,messages:!1,search:"",message:"",activeModule:"Home",currentConversationIndex:0,conversations:[{id:1,person:"Razvan Stoenescu",avatar:"https://cdn.quasar.dev/team/razvan_stoenescu.jpeg",caption:"I'm working on Quasar!",time:"15:00",sent:!0},{id:2,person:"Dan Popescu",avatar:"https://cdn.quasar.dev/team/dan_popescu.jpg",caption:"I'm working on Quasar!",time:"16:00",sent:!0},{id:3,person:"Jeff Galbraith",avatar:"https://cdn.quasar.dev/team/jeff_galbraith.jpg",caption:"I'm working on Quasar!",time:"18:00",sent:!0},{id:4,person:"Allan Gaunt",avatar:"https://cdn.quasar.dev/team/allan_gaunt.png",caption:"I'm working on Quasar!",time:"17:00",sent:!0}]}},methods:H(H({},Object(c["b"])("user",["setModule"])),{},{navigate(t,e){var s={name:t,icon:e};this.activeModule=t,this.setModule(s)},openURL:r["a"],hasModuleAccess(t){return this.getModuleAccess(t)},hideTextProcess(){this.hideText=!this.hideText},go(t){this.$router.push(t)},openAdmin(){this.navigate("Admin","fad fa-wrench"),this.$router.push("/admin").catch((function(t){console.warn(t)}))},isActive(t){return this.activeModule===t},iconColor(t){return this.activeModule===t?"accent":"font"},processBeat(){},toggleMiniMode(){this.miniModeOn=!this.miniModeOn}}),computed:H(H(H({},Object(c["c"])("user",["permissions","getModuleAccess","getModuleColor"])),Object(c["c"])("sockets",["isConnected"])),{},{keymap(){return{"ctrl+1":this.toggle,enter:{keydown:this.hide,keyup:this.show}}},isOverlay(){return!!this.$q.platform.is.mobile},menuIsOpen:{set(t){this.$store.commit("user/toggleMenu",t)},get(){return this.$store.getters["user/menuIsOpen"]}},barColor(){return this.isConnected?"accent":"negative"},currentConversation(){return this.conversations[this.currentConversationIndex]},style(){return{height:this.$q.screen.height+"px"}},view(){var t=this.$q.platform.is.desktop;return t?"HHh Lpr lFf":"hHh lpR fFf"},paddingTop(){return this.$q.platform.is.mobile?"20px":"40px"},toolbarStyle(){return"background: #1c252c"}}),created(){var t=this;this.$store.dispatch("user/tryAutoLogin").then((function(e){!0===e||t.$router.replace("/login")})),this.$wampSubscribe("admin.jobs.beat",this.processBeat),this.$wampSubscribe("lab.sockets.chat",this.processBeat)},mounted(){this.menuIsOpen=this.$q.platform.is.desktop},components:{userOptions:j,JobStatus:I}},L=E,z=(s("7f67"),s("d152"),s("b4af")),F=s("9676"),R=s("5c88"),G=s("eb05"),J=s("f962c"),N=s("eb3a"),W=s("96f0"),U=s("26a8"),K=s("6c93"),V=s("ac9b"),X=s("66dc"),Y=s("34ff"),Z=s("2ce9"),tt=s("4f38"),et=s("dfd0"),st=s("b693"),at=Object(q["a"])(L,a,o,!1,null,null,null);e["default"]=at.exports;_()(at,"components",{QLayout:z["a"],QAjaxBar:F["a"],QHeader:R["a"],QToolbar:G["a"],QSpace:J["a"],QDrawer:N["a"],QBtn:g["a"],QSeparator:W["a"],QScrollArea:U["a"],QList:K["a"],QItem:V["a"],QItemSection:X["a"],QIcon:Y["a"],QPageContainer:Z["a"],QPageSticky:tt["a"],QColor:et["a"],QField:st["a"]})},"7f67":function(t,e,s){"use strict";var a=s("ed71"),o=s.n(a);o.a},"81b6":function(t,e,s){},b09a:function(t,e,s){"use strict";var a=s("81b6"),o=s.n(a);o.a},c371:function(t,e,s){},cfeb:function(t,e,s){},d152:function(t,e,s){"use strict";var a=s("c371"),o=s.n(a);o.a},ed71:function(t,e,s){}}]);